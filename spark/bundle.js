var ciscospark=function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=511)}([function(e,t,r){var n=r(6),i=r(53),o=r(40),a=r(41),u=r(54),s=function(e,t,r){var c,f,l,d,p=e&s.F,h=e&s.G,v=e&s.S,g=e&s.P,y=e&s.B,m=h?n:v?n[t]||(n[t]={}):(n[t]||{}).prototype,b=h?i:i[t]||(i[t]={}),_=b.prototype||(b.prototype={});for(c in h&&(r=t),r)l=((f=!p&&m&&void 0!==m[c])?m:r)[c],d=y&&f?u(l,n):g&&"function"==typeof l?u(Function.call,l):l,m&&a(m,c,l,e&s.U),b[c]!=l&&o(b,c,d),g&&_[c]!=l&&(_[c]=l)};n.core=i,s.F=1,s.G=2,s.S=4,s.P=8,s.B=16,s.W=32,s.U=64,s.R=128,e.exports=s},function(e,t,r){e.exports={default:r(722),__esModule:!0}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.config=t.Page=t.Batcher=t.RateLimitInterceptor=t.SparkUserAgentInterceptor=t.SparkTrackingIdInterceptor=t.RequestTimingInterceptor=t.RequestLoggerInterceptor=t.RequestEventInterceptor=t.ResponseLoggerInterceptor=t.RedirectInterceptor=t.PayloadTransformerInterceptor=t.NetworkTimingInterceptor=t.AuthInterceptor=t.SparkPlugin=t.SparkHttpError=t.registerInternalPlugin=t.registerPlugin=t.default=t.children=t.waitForValue=t.StorageError=t.persist=t.NotFoundError=t.MemoryStoreAdapter=t.makeSparkPluginStore=t.makeSparkStore=t.Token=t.sortScope=t.grantErrors=t.filterScope=t.Credentials=void 0;var n=r(413);Object.defineProperty(t,"Credentials",{enumerable:!0,get:function(){return n.Credentials}}),Object.defineProperty(t,"filterScope",{enumerable:!0,get:function(){return n.filterScope}}),Object.defineProperty(t,"grantErrors",{enumerable:!0,get:function(){return n.grantErrors}}),Object.defineProperty(t,"sortScope",{enumerable:!0,get:function(){return n.sortScope}}),Object.defineProperty(t,"Token",{enumerable:!0,get:function(){return n.Token}});var i=r(210);Object.defineProperty(t,"makeSparkStore",{enumerable:!0,get:function(){return i.makeSparkStore}}),Object.defineProperty(t,"makeSparkPluginStore",{enumerable:!0,get:function(){return i.makeSparkPluginStore}}),Object.defineProperty(t,"MemoryStoreAdapter",{enumerable:!0,get:function(){return i.MemoryStoreAdapter}}),Object.defineProperty(t,"NotFoundError",{enumerable:!0,get:function(){return i.NotFoundError}}),Object.defineProperty(t,"persist",{enumerable:!0,get:function(){return i.persist}}),Object.defineProperty(t,"StorageError",{enumerable:!0,get:function(){return i.StorageError}}),Object.defineProperty(t,"waitForValue",{enumerable:!0,get:function(){return i.waitForValue}});var o=r(303);Object.defineProperty(t,"children",{enumerable:!0,get:function(){return o.children}}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return S(o).default}}),Object.defineProperty(t,"registerPlugin",{enumerable:!0,get:function(){return o.registerPlugin}}),Object.defineProperty(t,"registerInternalPlugin",{enumerable:!0,get:function(){return o.registerInternalPlugin}});var a=r(213);Object.defineProperty(t,"SparkHttpError",{enumerable:!0,get:function(){return S(a).default}});var u=r(162);Object.defineProperty(t,"SparkPlugin",{enumerable:!0,get:function(){return S(u).default}});var s=r(444);Object.defineProperty(t,"AuthInterceptor",{enumerable:!0,get:function(){return S(s).default}});var c=r(445);Object.defineProperty(t,"NetworkTimingInterceptor",{enumerable:!0,get:function(){return S(c).default}});var f=r(446);Object.defineProperty(t,"PayloadTransformerInterceptor",{enumerable:!0,get:function(){return S(f).default}});var l=r(447);Object.defineProperty(t,"RedirectInterceptor",{enumerable:!0,get:function(){return S(l).default}});var d=r(451);Object.defineProperty(t,"ResponseLoggerInterceptor",{enumerable:!0,get:function(){return S(d).default}});var p=r(448);Object.defineProperty(t,"RequestEventInterceptor",{enumerable:!0,get:function(){return S(p).default}});var h=r(449);Object.defineProperty(t,"RequestLoggerInterceptor",{enumerable:!0,get:function(){return S(h).default}});var v=r(450);Object.defineProperty(t,"RequestTimingInterceptor",{enumerable:!0,get:function(){return S(v).default}});var g=r(452);Object.defineProperty(t,"SparkTrackingIdInterceptor",{enumerable:!0,get:function(){return S(g).default}});var y=r(453);Object.defineProperty(t,"SparkUserAgentInterceptor",{enumerable:!0,get:function(){return S(y).default}});var m=r(454);Object.defineProperty(t,"RateLimitInterceptor",{enumerable:!0,get:function(){return S(m).default}});var b=r(953);Object.defineProperty(t,"Batcher",{enumerable:!0,get:function(){return S(b).default}});var _=r(954);Object.defineProperty(t,"Page",{enumerable:!0,get:function(){return S(_).default}});var w=r(455);function S(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"config",{enumerable:!0,get:function(){return S(w).default}}),r(955),r(413)},function(e,t,r){var n=r(12);e.exports=function(e){if(!n(e))throw TypeError(e+" is not an object!");return e}},function(e,t){var r=Array.isArray;e.exports=r},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(977)),n(r(978)),n(r(468))},function(e,t){var r=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},function(e,t){var r=e.exports={version:"2.5.7"};"number"==typeof __e&&(__e=r)},function(e,t,r){"use strict";t.__esModule=!0,t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(63)),n(r(987)),n(r(988)),n(r(989)),n(r(990)),n(r(991)),n(r(992)),n(r(993)),n(r(994)),n(r(995)),n(r(996))},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,r){"use strict";t.__esModule=!0;var n=function(e){return e&&e.__esModule?e:{default:e}}(r(271));t.default=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),(0,n.default)(e,i.key,i)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}()},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(801);Object.defineProperty(t,"base64",{enumerable:!0,get:function(){return b(n).default}});var i=r(806);Object.defineProperty(t,"cappedDebounce",{enumerable:!0,get:function(){return b(i).default}});var o=r(807);Object.defineProperty(t,"checkRequired",{enumerable:!0,get:function(){return b(o).default}});var a=r(808);Object.defineProperty(t,"Defer",{enumerable:!0,get:function(){return b(a).default}});var u=r(809);Object.defineProperty(t,"makeStateDataType",{enumerable:!0,get:function(){return b(u).default}});var s=r(386);Object.defineProperty(t,"make",{enumerable:!0,get:function(){return b(s).default}});var c=r(820);Object.defineProperty(t,"oneFlight",{enumerable:!0,get:function(){return b(c).default}});var f=r(848);Object.defineProperty(t,"patterns",{enumerable:!0,get:function(){return b(f).default}});var l=r(849);Object.defineProperty(t,"proxyEvents",{enumerable:!0,get:function(){return l.proxyEvents}}),Object.defineProperty(t,"transferEvents",{enumerable:!0,get:function(){return l.transferEvents}});var d=r(850);Object.defineProperty(t,"resolveWith",{enumerable:!0,get:function(){return b(d).default}});var p=r(851);Object.defineProperty(t,"retry",{enumerable:!0,get:function(){return b(p).default}});var h=r(409);Object.defineProperty(t,"tap",{enumerable:!0,get:function(){return b(h).default}});var v=r(856);Object.defineProperty(t,"whileInFlight",{enumerable:!0,get:function(){return b(v).default}});var g=r(857);Object.defineProperty(t,"Exception",{enumerable:!0,get:function(){return b(g).default}});var y=r(872);Object.defineProperty(t,"deprecated",{enumerable:!0,get:function(){return b(y).default}});var m=r(873);function b(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"inBrowser",{enumerable:!0,get:function(){return b(m).default}})},function(e,t,r){e.exports={default:r(870),__esModule:!0}},function(e,t,r){"use strict";t.__esModule=!0;var n=function(e){return e&&e.__esModule?e:{default:e}}(r(90));t.default=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,n.default)(t))&&"function"!=typeof t?e:t}},function(e,t,r){"use strict";t.__esModule=!0;var n=a(r(411)),i=a(r(410)),o=a(r(90));function a(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,o.default)(t)));e.prototype=(0,i.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(n.default?(0,n.default)(e,t):e.__proto__=t)}},function(e,t,r){var n=r(169)("wks"),i=r(95),o=r(6).Symbol,a="function"==typeof o;(e.exports=function(e){return n[e]||(n[e]=a&&o[e]||(a?o:i)("Symbol."+e))}).store=n},function(e,t,r){var n=r(27),i=r(7),o=r(76),a=r(86),u=r(84),s=function(e,t,r){var c,f,l,d=e&s.F,p=e&s.G,h=e&s.S,v=e&s.P,g=e&s.B,y=e&s.W,m=p?i:i[t]||(i[t]={}),b=m.prototype,_=p?n:h?n[t]:(n[t]||{}).prototype;for(c in p&&(r=t),r)(f=!d&&_&&void 0!==_[c])&&u(m,c)||(l=f?_[c]:r[c],m[c]=p&&"function"!=typeof _[c]?r[c]:g&&f?o(l,n):y&&_[c]==l?function(e){var t=function(t,r,n){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,r)}return new e(t,r,n)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(l):v&&"function"==typeof l?o(Function.call,l):l,v&&((m.virtual||(m.virtual={}))[c]=l,e&s.R&&b&&!b[c]&&a(b,c,l)))};s.F=1,s.G=2,s.S=4,s.P=8,s.B=16,s.W=32,s.U=64,s.R=128,e.exports=s},function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},function(e,t,r){e.exports=!r(10)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t,r){var n=r(3),i=r(314),o=r(64),a=Object.defineProperty;t.f=r(20)?Object.defineProperty:function(e,t,r){if(n(e),t=o(t,!0),n(r),i)try{return a(e,t,r)}catch(e){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(e[t]=r.value),e}},function(e,t,r){var n=r(66),i=Math.min;e.exports=function(e){return e>0?i(n(e),9007199254740991):0}},function(e,t){var r,n,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function u(e){if(r===setTimeout)return setTimeout(e,0);if((r===o||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:o}catch(e){r=o}try{n="function"==typeof clearTimeout?clearTimeout:a}catch(e){n=a}}();var s,c=[],f=!1,l=-1;function d(){f&&s&&(f=!1,s.length?c=s.concat(c):l=-1,c.length&&p())}function p(){if(!f){var e=u(d);f=!0;for(var t=c.length;t;){for(s=c,c=[];++l<t;)s&&s[l].run();l=-1,t=c.length}s=null,f=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function v(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new h(e,t)),1!==c.length||f||u(p)},h.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=v,i.addListener=v,i.once=v,i.off=v,i.removeListener=v,i.removeAllListeners=v,i.emit=v,i.prependListener=v,i.prependOnceListener=v,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,r){e.exports={default:r(736),__esModule:!0}},function(e,t,r){var n=r(65);e.exports=function(e){return Object(n(e))}},function(e,t,r){var n=r(71),i=r(383),o=r(269);e.exports=function(e,t){return o(i(e,t,n),e+"")}},function(e,t){var r=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.detectSync=t.detect=t.HttpStatusInterceptor=t.HttpError=t.Interceptor=t.ProgressEvent=t.request=t.defaults=void 0;var n=y(r(30)),i=y(r(135)),o=y(r(917)),a=y(r(115)),u=y(r(72)),s=y(r(163)),c=y(r(133)),f=r(920);Object.defineProperty(t,"ProgressEvent",{enumerable:!0,get:function(){return y(f).default}});var l=r(435);Object.defineProperty(t,"Interceptor",{enumerable:!0,get:function(){return y(l).default}});var d=r(436);Object.defineProperty(t,"HttpError",{enumerable:!0,get:function(){return y(d).default}});var p=r(927);Object.defineProperty(t,"HttpStatusInterceptor",{enumerable:!0,get:function(){return y(p).default}});var h=r(438);Object.defineProperty(t,"detect",{enumerable:!0,get:function(){return h.detect}}),Object.defineProperty(t,"detectSync",{enumerable:!0,get:function(){return h.detectSync}});var v=y(p),g=y(r(929));function y(e){return e&&e.__esModule?e:{default:e}}
/*!
 * Copyright (c) 2015-2017 Cisco Systems, Inc. See LICENSE file.
 */var m=(0,s.default)(function(e,t){if((0,a.default)(t)){var r=t;(t=arguments[2]||{}).uri=r}return["download","interceptors","logger","upload"].forEach(function(e){var r=(0,o.default)(t,e);r=(0,c.default)({},r,{enumerable:!1,writable:!0}),(0,i.default)(t,e,r)}),(0,u.default)(t,e),t.json||(0,n.default)(t,"json"),t.logger=t.logger||console,(0,g.default)(t)}),b={json:!0,interceptors:[v.default.create()]};t.defaults=m,t.request=m(b)},function(e,t,r){var n=r(34);e.exports=function(e){if(!n(e))throw TypeError(e+" is not an object!");return e}},function(e,t,r){e.exports={default:r(720),__esModule:!0}},function(e,t,r){e.exports={default:r(876),__esModule:!0}},function(e,t){var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,r){var n=r(253)("wks"),i=r(186),o=r(27).Symbol,a="function"==typeof o;(e.exports=function(e){return n[e]||(n[e]=a&&o[e]||(a?o:i)("Symbol."+e))}).store=n},function(e,t,r){var n=r(69),i=r(19),o="[object AsyncFunction]",a="[object Function]",u="[object GeneratorFunction]",s="[object Proxy]";e.exports=function(e){if(!i(e))return!1;var t=n(e);return t==a||t==u||t==o||t==s}},function(e,t,r){var n=r(364),i="object"==typeof self&&self&&self.Object===Object&&self,o=n||i||Function("return this")();e.exports=o},function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},function(e,t,r){(function(e,n){var i=/%[sdj%]/g;t.format=function(e){if(!y(e)){for(var t=[],r=0;r<arguments.length;r++)t.push(u(arguments[r]));return t.join(" ")}r=1;for(var n=arguments,o=n.length,a=String(e).replace(i,function(e){if("%%"===e)return"%";if(r>=o)return e;switch(e){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(e){return"[Circular]"}default:return e}}),s=n[r];r<o;s=n[++r])v(s)||!_(s)?a+=" "+s:a+=" "+u(s);return a},t.deprecate=function(r,i){if(m(e.process))return function(){return t.deprecate(r,i).apply(this,arguments)};if(!0===n.noDeprecation)return r;var o=!1;return function(){if(!o){if(n.throwDeprecation)throw new Error(i);n.traceDeprecation?console.trace(i):console.error(i),o=!0}return r.apply(this,arguments)}};var o,a={};function u(e,r){var n={seen:[],stylize:c};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),h(r)?n.showHidden=r:r&&t._extend(n,r),m(n.showHidden)&&(n.showHidden=!1),m(n.depth)&&(n.depth=2),m(n.colors)&&(n.colors=!1),m(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=s),f(n,e,n.depth)}function s(e,t){var r=u.styles[t];return r?"["+u.colors[r][0]+"m"+e+"["+u.colors[r][1]+"m":e}function c(e,t){return e}function f(e,r,n){if(e.customInspect&&r&&k(r.inspect)&&r.inspect!==t.inspect&&(!r.constructor||r.constructor.prototype!==r)){var i=r.inspect(n,e);return y(i)||(i=f(e,i,n)),i}var o=function(e,t){if(m(t))return e.stylize("undefined","undefined");if(y(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}if(g(t))return e.stylize(""+t,"number");if(h(t))return e.stylize(""+t,"boolean");if(v(t))return e.stylize("null","null")}(e,r);if(o)return o;var a=Object.keys(r),u=function(e){var t={};return e.forEach(function(e,r){t[e]=!0}),t}(a);if(e.showHidden&&(a=Object.getOwnPropertyNames(r)),S(r)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return l(r);if(0===a.length){if(k(r)){var s=r.name?": "+r.name:"";return e.stylize("[Function"+s+"]","special")}if(b(r))return e.stylize(RegExp.prototype.toString.call(r),"regexp");if(w(r))return e.stylize(Date.prototype.toString.call(r),"date");if(S(r))return l(r)}var c,_="",x=!1,E=["{","}"];(p(r)&&(x=!0,E=["[","]"]),k(r))&&(_=" [Function"+(r.name?": "+r.name:"")+"]");return b(r)&&(_=" "+RegExp.prototype.toString.call(r)),w(r)&&(_=" "+Date.prototype.toUTCString.call(r)),S(r)&&(_=" "+l(r)),0!==a.length||x&&0!=r.length?n<0?b(r)?e.stylize(RegExp.prototype.toString.call(r),"regexp"):e.stylize("[Object]","special"):(e.seen.push(r),c=x?function(e,t,r,n,i){for(var o=[],a=0,u=t.length;a<u;++a)O(t,String(a))?o.push(d(e,t,r,n,String(a),!0)):o.push("");return i.forEach(function(i){i.match(/^\d+$/)||o.push(d(e,t,r,n,i,!0))}),o}(e,r,n,u,a):a.map(function(t){return d(e,r,n,u,t,x)}),e.seen.pop(),function(e,t,r){if(e.reduce(function(e,t){return 0,t.indexOf("\n")>=0&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60)return r[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1];return r[0]+t+" "+e.join(", ")+" "+r[1]}(c,_,E)):E[0]+_+E[1]}function l(e){return"["+Error.prototype.toString.call(e)+"]"}function d(e,t,r,n,i,o){var a,u,s;if((s=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?u=s.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):s.set&&(u=e.stylize("[Setter]","special")),O(n,i)||(a="["+i+"]"),u||(e.seen.indexOf(s.value)<0?(u=v(r)?f(e,s.value,null):f(e,s.value,r-1)).indexOf("\n")>-1&&(u=o?u.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+u.split("\n").map(function(e){return"   "+e}).join("\n")):u=e.stylize("[Circular]","special")),m(a)){if(o&&i.match(/^\d+$/))return u;(a=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+u}function p(e){return Array.isArray(e)}function h(e){return"boolean"==typeof e}function v(e){return null===e}function g(e){return"number"==typeof e}function y(e){return"string"==typeof e}function m(e){return void 0===e}function b(e){return _(e)&&"[object RegExp]"===x(e)}function _(e){return"object"==typeof e&&null!==e}function w(e){return _(e)&&"[object Date]"===x(e)}function S(e){return _(e)&&("[object Error]"===x(e)||e instanceof Error)}function k(e){return"function"==typeof e}function x(e){return Object.prototype.toString.call(e)}function E(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(e){if(m(o)&&(o=n.env.NODE_DEBUG||""),e=e.toUpperCase(),!a[e])if(new RegExp("\\b"+e+"\\b","i").test(o)){var r=n.pid;a[e]=function(){var n=t.format.apply(t,arguments);console.error("%s %d: %s",e,r,n)}}else a[e]=function(){};return a[e]},t.inspect=u,u.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},u.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=p,t.isBoolean=h,t.isNull=v,t.isNullOrUndefined=function(e){return null==e},t.isNumber=g,t.isString=y,t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=m,t.isRegExp=b,t.isObject=_,t.isDate=w,t.isError=S,t.isFunction=k,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=r(819);var T=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function O(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){console.log("%s - %s",function(){var e=new Date,t=[E(e.getHours()),E(e.getMinutes()),E(e.getSeconds())].join(":");return[e.getDate(),T[e.getMonth()],t].join(" ")}(),t.format.apply(t,arguments))},t.inherits=r(113),t._extend=function(e,t){if(!t||!_(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e}}).call(this,r(32),r(23))},function(e,t,r){var n=r(21),i=r(94);e.exports=r(20)?function(e,t,r){return n.f(e,t,i(1,r))}:function(e,t,r){return e[t]=r,e}},function(e,t,r){var n=r(6),i=r(40),o=r(45),a=r(95)("src"),u=Function.toString,s=(""+u).split("toString");r(53).inspectSource=function(e){return u.call(e)},(e.exports=function(e,t,r,u){var c="function"==typeof r;c&&(o(r,"name")||i(r,"name",t)),e[t]!==r&&(c&&(o(r,a)||i(r,a,e[t]?""+e[t]:s.join(String(t)))),e===n?e[t]=r:u?e[t]?e[t]=r:i(e,t,r):(delete e[t],i(e,t,r)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[a]||u.call(this)})},function(e,t,r){var n=r(0),i=r(10),o=r(65),a=/"/g,u=function(e,t,r,n){var i=String(o(e)),u="<"+t;return""!==r&&(u+=" "+r+'="'+String(n).replace(a,"&quot;")+'"'),u+">"+i+"</"+t+">"};e.exports=function(e,t){var r={};r[e]=t(u),n(n.P+n.F*i(function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3}),"String",r)}},function(e,t,r){e.exports={default:r(734),__esModule:!0}},function(e,t,r){e.exports={default:r(812),__esModule:!0}},function(e,t){var r={}.hasOwnProperty;e.exports=function(e,t){return r.call(e,t)}},function(e,t,r){var n=r(136),i=r(65);e.exports=function(e){return n(i(e))}},function(e,t,r){var n=r(137),i=r(94),o=r(46),a=r(64),u=r(45),s=r(314),c=Object.getOwnPropertyDescriptor;t.f=r(20)?c:function(e,t){if(e=o(e),t=a(t,!0),s)try{return c(e,t)}catch(e){}if(u(e,t))return i(!n.f.call(e,t),e[t])}},function(e,t,r){var n=r(45),i=r(25),o=r(221)("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=i(e),n(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},function(e,t,r){e.exports={default:r(718),__esModule:!0}},function(e,t,r){var n=r(29),i=r(348),o=r(184),a=Object.defineProperty;t.f=r(57)?Object.defineProperty:function(e,t,r){if(n(e),t=o(t,!0),n(r),i)try{return a(e,t,r)}catch(e){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(e[t]=r.value),e}},function(e,t,r){var n=r(203);e.exports=function(e,t,r){var i=null==e?void 0:n(e,t);return void 0===i?r:i}},function(e,t,r){var n=r(960),i=r(963),o=r(71),a=r(4),u=r(964);e.exports=function(e){return"function"==typeof e?e:null==e?o:"object"==typeof e?a(e)?i(e[0],e[1]):n(e):u(e)}},function(e,t){var r=e.exports={version:"2.5.7"};"number"==typeof __e&&(__e=r)},function(e,t,r){var n=r(33);e.exports=function(e,t,r){if(n(e),void 0===t)return e;switch(r){case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,i){return e.call(t,r,n,i)}}return function(){return e.apply(t,arguments)}}},function(e,t){var r={}.toString;e.exports=function(e){return r.call(e).slice(8,-1)}},function(e,t,r){"use strict";var n=r(10);e.exports=function(e,t){return!!e&&n(function(){t?e.call(null,function(){},1):e.call(null)})}},function(e,t,r){e.exports=!r(58)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,r){var n=r(36),i=r(262);e.exports=function(e){return null!=e&&i(e.length)&&!n(e)}},function(e,t,r){e.exports={default:r(828),__esModule:!0}},function(e,t,r){var n=r(847);e.exports=function(e){var t=n(e),r=t%1;return t==t?r?t-r:t:0}},function(e,t){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function n(e){return"function"==typeof e}function i(e){return"object"==typeof e&&null!==e}function o(e){return void 0===e}e.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(e){if(!function(e){return"number"==typeof e}(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},r.prototype.emit=function(e){var t,r,a,u,s,c;if(this._events||(this._events={}),"error"===e&&(!this._events.error||i(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var f=new Error('Uncaught, unspecified "error" event. ('+t+")");throw f.context=t,f}if(o(r=this._events[e]))return!1;if(n(r))switch(arguments.length){case 1:r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:u=Array.prototype.slice.call(arguments,1),r.apply(this,u)}else if(i(r))for(u=Array.prototype.slice.call(arguments,1),a=(c=r.slice()).length,s=0;s<a;s++)c[s].apply(this,u);return!0},r.prototype.addListener=function(e,t){var a;if(!n(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,n(t.listener)?t.listener:t),this._events[e]?i(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,i(this._events[e])&&!this._events[e].warned&&(a=o(this._maxListeners)?r.defaultMaxListeners:this._maxListeners)&&a>0&&this._events[e].length>a&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(e,t){if(!n(t))throw TypeError("listener must be a function");var r=!1;function i(){this.removeListener(e,i),r||(r=!0,t.apply(this,arguments))}return i.listener=t,this.on(e,i),this},r.prototype.removeListener=function(e,t){var r,o,a,u;if(!n(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(a=(r=this._events[e]).length,o=-1,r===t||n(r.listener)&&r.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(i(r)){for(u=a;u-- >0;)if(r[u]===t||r[u].listener&&r[u].listener===t){o=u;break}if(o<0)return this;1===r.length?(r.length=0,delete this._events[e]):r.splice(o,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},r.prototype.removeAllListeners=function(e){var t,r;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n(r=this._events[e]))this.removeListener(e,r);else if(r)for(;r.length;)this.removeListener(e,r[r.length-1]);return delete this._events[e],this},r.prototype.listeners=function(e){return this._events&&this._events[e]?n(this._events[e])?[this._events[e]]:this._events[e].slice():[]},r.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(n(t))return 1;if(t)return t.length}return 0},r.listenerCount=function(e,t){return e.listenerCount(t)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){return function(){}}();t.Applicator=n},function(e,t,r){var n=r(12);e.exports=function(e,t){if(!n(e))return e;var r,i;if(t&&"function"==typeof(r=e.toString)&&!n(i=r.call(e)))return i;if("function"==typeof(r=e.valueOf)&&!n(i=r.call(e)))return i;if(!t&&"function"==typeof(r=e.toString)&&!n(i=r.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t){var r=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?n:r)(e)}},function(e,t,r){var n=r(0),i=r(53),o=r(10);e.exports=function(e,t){var r=(i.Object||{})[e]||Object[e],a={};a[e]=t(r),n(n.S+n.F*o(function(){r(1)}),"Object",a)}},function(e,t,r){var n=r(54),i=r(136),o=r(25),a=r(22),u=r(238);e.exports=function(e,t){var r=1==e,s=2==e,c=3==e,f=4==e,l=6==e,d=5==e||l,p=t||u;return function(t,u,h){for(var v,g,y=o(t),m=i(y),b=n(u,h,3),_=a(m.length),w=0,S=r?p(t,_):s?p(t,0):void 0;_>w;w++)if((d||w in m)&&(g=b(v=m[w],w,y),e))if(r)S[w]=g;else if(g)switch(e){case 3:return!0;case 5:return v;case 6:return w;case 2:S.push(v)}else if(f)return!1;return l?-1:c||f?f:S}}},function(e,t,r){var n=r(126),i=r(750),o=r(751),a="[object Null]",u="[object Undefined]",s=n?n.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?u:a:s&&s in Object(e)?i(e):o(e)}},function(e,t,r){var n=r(367),i=r(368),o=r(59);e.exports=function(e){return o(e)?n(e):i(e)}},function(e,t){e.exports=function(e){return e}},function(e,t,r){var n=r(26),i=r(125),o=r(161),a=r(151),u=Object.prototype,s=u.hasOwnProperty,c=n(function(e,t){e=Object(e);var r=-1,n=t.length,c=n>2?t[2]:void 0;for(c&&o(t[0],t[1],c)&&(n=1);++r<n;)for(var f=t[r],l=a(f),d=-1,p=l.length;++d<p;){var h=l[d],v=e[h];(void 0===v||i(v,u[h])&&!s.call(e,h))&&(e[h]=f[h])}return e});e.exports=c},function(e,t,r){"use strict";r.r(t),r.d(t,"__extends",function(){return i}),r.d(t,"__assign",function(){return o}),r.d(t,"__rest",function(){return a}),r.d(t,"__decorate",function(){return u}),r.d(t,"__param",function(){return s}),r.d(t,"__metadata",function(){return c}),r.d(t,"__awaiter",function(){return f}),r.d(t,"__generator",function(){return l}),r.d(t,"__exportStar",function(){return d}),r.d(t,"__values",function(){return p}),r.d(t,"__read",function(){return h}),r.d(t,"__spread",function(){return v}),r.d(t,"__await",function(){return g}),r.d(t,"__asyncGenerator",function(){return y}),r.d(t,"__asyncDelegator",function(){return m}),r.d(t,"__asyncValues",function(){return b}),r.d(t,"__makeTemplateObject",function(){return _}),r.d(t,"__importStar",function(){return w}),r.d(t,"__importDefault",function(){return S});
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function i(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var o=function(){return(o=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function a(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&(r[n[i]]=e[n[i]])}return r}function u(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var u=e.length-1;u>=0;u--)(i=e[u])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a}function s(e,t){return function(r,n){t(r,n,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function f(e,t,r,n){return new(r||(r=Promise))(function(i,o){function a(e){try{s(n.next(e))}catch(e){o(e)}}function u(e){try{s(n.throw(e))}catch(e){o(e)}}function s(e){e.done?i(e.value):new r(function(t){t(e.value)}).then(a,u)}s((n=n.apply(e,t||[])).next())})}function l(e,t){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(o){return function(u){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}}function d(e,t){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}function p(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}}function h(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a}function v(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(h(arguments[t]));return e}function g(e){return this instanceof g?(this.v=e,this):new g(e)}function y(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,i=r.apply(e,t||[]),o=[];return n={},a("next"),a("throw"),a("return"),n[Symbol.asyncIterator]=function(){return this},n;function a(e){i[e]&&(n[e]=function(t){return new Promise(function(r,n){o.push([e,t,r,n])>1||u(e,t)})})}function u(e,t){try{!function(e){e.value instanceof g?Promise.resolve(e.value.v).then(s,c):f(o[0][2],e)}(i[e](t))}catch(e){f(o[0][3],e)}}function s(e){u("next",e)}function c(e){u("throw",e)}function f(e,t){e(t),o.shift(),o.length&&u(o[0][0],o[0][1])}}function m(e){var t,r;return t={},n("next"),n("throw",function(e){throw e}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(n,i){t[n]=e[n]?function(t){return(r=!r)?{value:g(e[n](t)),done:"return"===n}:i?i(t):t}:i}}function b(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e=p(e),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise(function(n,i){(function(e,t,r,n){Promise.resolve(n).then(function(t){e({value:t,done:r})},t)})(n,i,(t=e[r](t)).done,t.value)})}}}function _(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function w(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function S(e){return e&&e.__esModule?e:{default:e}}},function(e,t,r){"use strict";if(r(20)){var n=r(81),i=r(6),o=r(10),a=r(0),u=r(180),s=r(244),c=r(54),f=r(101),l=r(94),d=r(40),p=r(103),h=r(66),v=r(22),g=r(340),y=r(97),m=r(64),b=r(45),_=r(138),w=r(12),S=r(25),k=r(235),x=r(98),E=r(48),T=r(99).f,O=r(237),P=r(95),C=r(17),M=r(68),j=r(170),R=r(177),A=r(240),I=r(119),D=r(174),L=r(100),N=r(239),F=r(330),U=r(21),z=r(47),q=U.f,B=z.f,W=i.RangeError,G=i.TypeError,V=i.Uint8Array,H=Array.prototype,J=s.ArrayBuffer,Y=s.DataView,$=M(0),K=M(2),X=M(3),Z=M(4),Q=M(5),ee=M(6),te=j(!0),re=j(!1),ne=A.values,ie=A.keys,oe=A.entries,ae=H.lastIndexOf,ue=H.reduce,se=H.reduceRight,ce=H.join,fe=H.sort,le=H.slice,de=H.toString,pe=H.toLocaleString,he=C("iterator"),ve=C("toStringTag"),ge=P("typed_constructor"),ye=P("def_constructor"),me=u.CONSTR,be=u.TYPED,_e=u.VIEW,we=M(1,function(e,t){return Te(R(e,e[ye]),t)}),Se=o(function(){return 1===new V(new Uint16Array([1]).buffer)[0]}),ke=!!V&&!!V.prototype.set&&o(function(){new V(1).set({})}),xe=function(e,t){var r=h(e);if(r<0||r%t)throw W("Wrong offset!");return r},Ee=function(e){if(w(e)&&be in e)return e;throw G(e+" is not a typed array!")},Te=function(e,t){if(!(w(e)&&ge in e))throw G("It is not a typed array constructor!");return new e(t)},Oe=function(e,t){return Pe(R(e,e[ye]),t)},Pe=function(e,t){for(var r=0,n=t.length,i=Te(e,n);n>r;)i[r]=t[r++];return i},Ce=function(e,t,r){q(e,t,{get:function(){return this._d[r]}})},Me=function(e){var t,r,n,i,o,a,u=S(e),s=arguments.length,f=s>1?arguments[1]:void 0,l=void 0!==f,d=O(u);if(void 0!=d&&!k(d)){for(a=d.call(u),n=[],t=0;!(o=a.next()).done;t++)n.push(o.value);u=n}for(l&&s>2&&(f=c(f,arguments[2],2)),t=0,r=v(u.length),i=Te(this,r);r>t;t++)i[t]=l?f(u[t],t):u[t];return i},je=function(){for(var e=0,t=arguments.length,r=Te(this,t);t>e;)r[e]=arguments[e++];return r},Re=!!V&&o(function(){pe.call(new V(1))}),Ae=function(){return pe.apply(Re?le.call(Ee(this)):Ee(this),arguments)},Ie={copyWithin:function(e,t){return F.call(Ee(this),e,t,arguments.length>2?arguments[2]:void 0)},every:function(e){return Z(Ee(this),e,arguments.length>1?arguments[1]:void 0)},fill:function(e){return N.apply(Ee(this),arguments)},filter:function(e){return Oe(this,K(Ee(this),e,arguments.length>1?arguments[1]:void 0))},find:function(e){return Q(Ee(this),e,arguments.length>1?arguments[1]:void 0)},findIndex:function(e){return ee(Ee(this),e,arguments.length>1?arguments[1]:void 0)},forEach:function(e){$(Ee(this),e,arguments.length>1?arguments[1]:void 0)},indexOf:function(e){return re(Ee(this),e,arguments.length>1?arguments[1]:void 0)},includes:function(e){return te(Ee(this),e,arguments.length>1?arguments[1]:void 0)},join:function(e){return ce.apply(Ee(this),arguments)},lastIndexOf:function(e){return ae.apply(Ee(this),arguments)},map:function(e){return we(Ee(this),e,arguments.length>1?arguments[1]:void 0)},reduce:function(e){return ue.apply(Ee(this),arguments)},reduceRight:function(e){return se.apply(Ee(this),arguments)},reverse:function(){for(var e,t=Ee(this).length,r=Math.floor(t/2),n=0;n<r;)e=this[n],this[n++]=this[--t],this[t]=e;return this},some:function(e){return X(Ee(this),e,arguments.length>1?arguments[1]:void 0)},sort:function(e){return fe.call(Ee(this),e)},subarray:function(e,t){var r=Ee(this),n=r.length,i=y(e,n);return new(R(r,r[ye]))(r.buffer,r.byteOffset+i*r.BYTES_PER_ELEMENT,v((void 0===t?n:y(t,n))-i))}},De=function(e,t){return Oe(this,le.call(Ee(this),e,t))},Le=function(e){Ee(this);var t=xe(arguments[1],1),r=this.length,n=S(e),i=v(n.length),o=0;if(i+t>r)throw W("Wrong length!");for(;o<i;)this[t+o]=n[o++]},Ne={entries:function(){return oe.call(Ee(this))},keys:function(){return ie.call(Ee(this))},values:function(){return ne.call(Ee(this))}},Fe=function(e,t){return w(e)&&e[be]&&"symbol"!=typeof t&&t in e&&String(+t)==String(t)},Ue=function(e,t){return Fe(e,t=m(t,!0))?l(2,e[t]):B(e,t)},ze=function(e,t,r){return!(Fe(e,t=m(t,!0))&&w(r)&&b(r,"value"))||b(r,"get")||b(r,"set")||r.configurable||b(r,"writable")&&!r.writable||b(r,"enumerable")&&!r.enumerable?q(e,t,r):(e[t]=r.value,e)};me||(z.f=Ue,U.f=ze),a(a.S+a.F*!me,"Object",{getOwnPropertyDescriptor:Ue,defineProperty:ze}),o(function(){de.call({})})&&(de=pe=function(){return ce.call(this)});var qe=p({},Ie);p(qe,Ne),d(qe,he,Ne.values),p(qe,{slice:De,set:Le,constructor:function(){},toString:de,toLocaleString:Ae}),Ce(qe,"buffer","b"),Ce(qe,"byteOffset","o"),Ce(qe,"byteLength","l"),Ce(qe,"length","e"),q(qe,ve,{get:function(){return this[be]}}),e.exports=function(e,t,r,s){var c=e+((s=!!s)?"Clamped":"")+"Array",l="get"+e,p="set"+e,h=i[c],y=h||{},m=h&&E(h),b=!h||!u.ABV,S={},k=h&&h.prototype,O=function(e,r){q(e,r,{get:function(){return function(e,r){var n=e._d;return n.v[l](r*t+n.o,Se)}(this,r)},set:function(e){return function(e,r,n){var i=e._d;s&&(n=(n=Math.round(n))<0?0:n>255?255:255&n),i.v[p](r*t+i.o,n,Se)}(this,r,e)},enumerable:!0})};b?(h=r(function(e,r,n,i){f(e,h,c,"_d");var o,a,u,s,l=0,p=0;if(w(r)){if(!(r instanceof J||"ArrayBuffer"==(s=_(r))||"SharedArrayBuffer"==s))return be in r?Pe(h,r):Me.call(h,r);o=r,p=xe(n,t);var y=r.byteLength;if(void 0===i){if(y%t)throw W("Wrong length!");if((a=y-p)<0)throw W("Wrong length!")}else if((a=v(i)*t)+p>y)throw W("Wrong length!");u=a/t}else u=g(r),o=new J(a=u*t);for(d(e,"_d",{b:o,o:p,l:a,e:u,v:new Y(o)});l<u;)O(e,l++)}),k=h.prototype=x(qe),d(k,"constructor",h)):o(function(){h(1)})&&o(function(){new h(-1)})&&D(function(e){new h,new h(null),new h(1.5),new h(e)},!0)||(h=r(function(e,r,n,i){var o;return f(e,h,c),w(r)?r instanceof J||"ArrayBuffer"==(o=_(r))||"SharedArrayBuffer"==o?void 0!==i?new y(r,xe(n,t),i):void 0!==n?new y(r,xe(n,t)):new y(r):be in r?Pe(h,r):Me.call(h,r):new y(g(r))}),$(m!==Function.prototype?T(y).concat(T(m)):T(y),function(e){e in h||d(h,e,y[e])}),h.prototype=k,n||(k.constructor=h));var P=k[he],C=!!P&&("values"==P.name||void 0==P.name),M=Ne.values;d(h,ge,!0),d(k,be,c),d(k,_e,!0),d(k,ye,h),(s?new h(1)[ve]==c:ve in k)||q(k,ve,{get:function(){return c}}),S[c]=h,a(a.G+a.W+a.F*(h!=y),S),a(a.S,c,{BYTES_PER_ELEMENT:t}),a(a.S+a.F*o(function(){y.of.call(h,1)}),c,{from:Me,of:je}),"BYTES_PER_ELEMENT"in k||d(k,"BYTES_PER_ELEMENT",t),a(a.P,c,Ie),L(c),a(a.P+a.F*ke,c,{set:Le}),a(a.P+a.F*!C,c,Ne),n||k.toString==de||(k.toString=de),a(a.P+a.F*o(function(){new h(1).slice()}),c,{slice:De}),a(a.P+a.F*(o(function(){return[1,2].toLocaleString()!=new h([1,2]).toLocaleString()})||!o(function(){k.toLocaleString.call([1,2])})),c,{toLocaleString:Ae}),I[c]=C?P:M,n||C||d(k,he,M)}}else e.exports=function(){}},function(e,t,r){var n=r(335),i=r(0),o=r(169)("metadata"),a=o.store||(o.store=new(r(338))),u=function(e,t,r){var i=a.get(e);if(!i){if(!r)return;a.set(e,i=new n)}var o=i.get(t);if(!o){if(!r)return;i.set(t,o=new n)}return o};e.exports={store:a,map:u,has:function(e,t,r){var n=u(t,r,!1);return void 0!==n&&n.has(e)},get:function(e,t,r){var n=u(t,r,!1);return void 0===n?void 0:n.get(e)},set:function(e,t,r,n){u(r,n,!0).set(e,t)},keys:function(e,t){var r=u(e,t,!1),n=[];return r&&r.forEach(function(e,t){n.push(t)}),n},key:function(e){return void 0===e||"symbol"==typeof e?e:String(e)},exp:function(e){i(i.S,"Reflect",e)}}},function(e,t,r){var n=r(85);e.exports=function(e,t,r){if(n(e),void 0===t)return e;switch(r){case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,i){return e.call(t,r,n,i)}}return function(){return e.apply(t,arguments)}}},function(e,t,r){e.exports={default:r(910),__esModule:!0}},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(469)),n(r(979)),n(r(980)),n(r(982)),n(r(470)),n(r(983)),n(r(984)),n(r(471))},function(e,t,r){"use strict";var n=!0,i=!0;function o(e,t,r){var n=e.match(t);return n&&n.length>=r&&parseInt(n[r],10)}e.exports={extractVersion:o,wrapPeerConnectionEvent:function(e,t,r){if(e.RTCPeerConnection){var n=e.RTCPeerConnection.prototype,i=n.addEventListener;n.addEventListener=function(e,n){if(e!==t)return i.apply(this,arguments);var o=function(e){var t=r(e);t&&n(t)};return this._eventMap=this._eventMap||{},this._eventMap[n]=o,i.apply(this,[e,o])};var o=n.removeEventListener;n.removeEventListener=function(e,r){if(e!==t||!this._eventMap||!this._eventMap[r])return o.apply(this,arguments);var n=this._eventMap[r];return delete this._eventMap[r],o.apply(this,[e,n])},Object.defineProperty(n,"on"+t,{get:function(){return this["_on"+t]},set:function(e){this["_on"+t]&&(this.removeEventListener(t,this["_on"+t]),delete this["_on"+t]),e&&this.addEventListener(t,this["_on"+t]=e)},enumerable:!0,configurable:!0})}},disableLog:function(e){return"boolean"!=typeof e?new Error("Argument type: "+typeof e+". Please use a boolean."):(n=e,e?"adapter.js logging disabled":"adapter.js logging enabled")},disableWarnings:function(e){return"boolean"!=typeof e?new Error("Argument type: "+typeof e+". Please use a boolean."):(i=!e,"adapter.js deprecation warnings "+(e?"disabled":"enabled"))},log:function(){if("object"==typeof window){if(n)return;"undefined"!=typeof console&&"function"==typeof console.log&&console.log.apply(console,arguments)}},deprecated:function(e,t){i&&console.warn(e+" is deprecated, please use "+t+" instead.")},detectBrowser:function(e){var t=e&&e.navigator,r={browser:null,version:null};if(void 0===e||!e.navigator)return r.browser="Not a browser.",r;if(t.mozGetUserMedia)r.browser="firefox",r.version=o(t.userAgent,/Firefox\/(\d+)\./,1);else if(t.webkitGetUserMedia)r.browser="chrome",r.version=o(t.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else if(t.mediaDevices&&t.userAgent.match(/Edge\/(\d+).(\d+)$/))r.browser="edge",r.version=o(t.userAgent,/Edge\/(\d+).(\d+)$/,2);else{if(!e.RTCPeerConnection||!t.userAgent.match(/AppleWebKit\/(\d+)\./))return r.browser="Not a supported browser.",r;r.browser="safari",r.version=o(t.userAgent,/AppleWebKit\/(\d+)\./,1)}return r}}},function(e,t,r){var n=r(95)("meta"),i=r(12),o=r(45),a=r(21).f,u=0,s=Object.isExtensible||function(){return!0},c=!r(10)(function(){return s(Object.preventExtensions({}))}),f=function(e){a(e,n,{value:{i:"O"+ ++u,w:{}}})},l=e.exports={KEY:n,NEED:!1,fastKey:function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,n)){if(!s(e))return"F";if(!t)return"E";f(e)}return e[n].i},getWeak:function(e,t){if(!o(e,n)){if(!s(e))return!0;if(!t)return!1;f(e)}return e[n].w},onFreeze:function(e){return c&&l.NEED&&s(e)&&!o(e,n)&&f(e),e}}},function(e,t){e.exports=!1},function(e,t,r){var n=r(17)("unscopables"),i=Array.prototype;void 0==i[n]&&r(40)(i,n,{}),e.exports=function(e){i[n][e]=!0}},function(e,t,r){var n=r(245),i=r(246);e.exports=function(e){return n(i(e))}},function(e,t){var r={}.hasOwnProperty;e.exports=function(e,t){return r.call(e,t)}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,r){var n=r(50),i=r(142);e.exports=r(57)?function(e,t,r){return n.f(e,t,i(1,r))}:function(e,t,r){return e[t]=r,e}},function(e,t,r){var n=r(4),i=r(267),o=r(789),a=r(112);e.exports=function(e,t){return n(e)?e:i(e,t)?[e]:o(a(e))}},function(e,t,r){var n=r(128),i=1/0;e.exports=function(e){if("string"==typeof e||n(e))return e;var t=e+"";return"0"==t&&1/e==-i?"-0":t}},function(e,t){e.exports=function(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}},function(e,t,r){"use strict";t.__esModule=!0;var n=a(r(388)),i=a(r(389)),o="function"==typeof i.default&&"symbol"==typeof n.default?function(e){return typeof e}:function(e){return e&&"function"==typeof i.default&&e.constructor===i.default&&e!==i.default.prototype?"symbol":typeof e};function a(e){return e&&e.__esModule?e:{default:e}}t.default="function"==typeof i.default&&"symbol"===o(n.default)?function(e){return void 0===e?"undefined":o(e)}:function(e){return e&&"function"==typeof i.default&&e.constructor===i.default&&e!==i.default.prototype?"symbol":void 0===e?"undefined":o(e)}},function(e,t,r){var n=r(393),i=r(834),o=r(835),a=r(395),u=r(845),s=r(281),c=r(846),f=r(402),l=r(403),d=r(61),p="Expected a function",h=1,v=2,g=8,y=16,m=32,b=64,_=Math.max;e.exports=function(e,t,r,w,S,k,x,E){var T=t&v;if(!T&&"function"!=typeof e)throw new TypeError(p);var O=w?w.length:0;if(O||(t&=~(m|b),w=S=void 0),x=void 0===x?x:_(d(x),0),E=void 0===E?E:d(E),O-=S?S.length:0,t&b){var P=w,C=S;w=S=void 0}var M=T?void 0:s(e),j=[e,t,r,w,S,P,C,k,x,E];if(M&&c(j,M),e=j[0],t=j[1],r=j[2],w=j[3],S=j[4],!(E=j[9]=void 0===j[9]?T?0:e.length:_(j[9]-O,0))&&t&(g|y)&&(t&=~(g|y)),t&&t!=h)R=t==g||t==y?o(e,t,E):t!=m&&t!=(h|m)||S.length?a.apply(void 0,j):u(e,t,r,w);else var R=i(e,t,r);return l((M?n:f)(R,j),e,t)}},function(e,t,r){var n=r(890),i=r(425);e.exports=function(e,t){return null!=e&&i(e,t,n)}},function(e,t,r){var n=r(419),i=r(428)(n);e.exports=i},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){var r=0,n=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++r+n).toString(36))}},function(e,t,r){var n=r(316),i=r(222);e.exports=Object.keys||function(e){return n(e,i)}},function(e,t,r){var n=r(66),i=Math.max,o=Math.min;e.exports=function(e,t){return(e=n(e))<0?i(e+t,0):o(e,t)}},function(e,t,r){var n=r(3),i=r(317),o=r(222),a=r(221)("IE_PROTO"),u=function(){},s=function(){var e,t=r(219)("iframe"),n=o.length;for(t.style.display="none",r(223).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),s=e.F;n--;)delete s.prototype[o[n]];return s()};e.exports=Object.create||function(e,t){var r;return null!==e?(u.prototype=n(e),r=new u,u.prototype=null,r[a]=e):r=s(),void 0===t?r:i(r,t)}},function(e,t,r){var n=r(316),i=r(222).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,i)}},function(e,t,r){"use strict";var n=r(6),i=r(21),o=r(20),a=r(17)("species");e.exports=function(e){var t=n[e];o&&t&&!t[a]&&i.f(t,a,{configurable:!0,get:function(){return this}})}},function(e,t){e.exports=function(e,t,r,n){if(!(e instanceof t)||void 0!==n&&n in e)throw TypeError(r+": incorrect invocation!");return e}},function(e,t,r){var n=r(54),i=r(328),o=r(235),a=r(3),u=r(22),s=r(237),c={},f={};(t=e.exports=function(e,t,r,l,d){var p,h,v,g,y=d?function(){return e}:s(e),m=n(r,l,t?2:1),b=0;if("function"!=typeof y)throw TypeError(e+" is not iterable!");if(o(y)){for(p=u(e.length);p>b;b++)if((g=t?m(a(h=e[b])[0],h[1]):m(e[b]))===c||g===f)return g}else for(v=y.call(e);!(h=v.next()).done;)if((g=i(v,m,h.value,t))===c||g===f)return g}).BREAK=c,t.RETURN=f},function(e,t,r){var n=r(41);e.exports=function(e,t,r){for(var i in t)n(e,i,t[i],r);return e}},function(e,t,r){"use strict";var n=r(723)(!0);r(250)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,r=this._i;return r>=t.length?{value:void 0,done:!0}:(e=n(t,r),this._i+=e.length,{value:e,done:!1})})},function(e,t,r){r(727);for(var n=r(27),i=r(86),o=r(121),a=r(35)("toStringTag"),u="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),s=0;s<u.length;s++){var c=u[s],f=n[c],l=f&&f.prototype;l&&!l[a]&&i(l,a,c),o[c]=o.Array}},function(e,t,r){e.exports={default:r(738),__esModule:!0}},function(e,t,r){var n=r(108),i=r(258),o=r(381),a=r(87),u=r(110),s=r(792),c=r(204),f=r(375),l=c(function(e,t){var r={};if(null==e)return r;var c=!1;t=n(t,function(t){return t=a(t,e),c||(c=t.length>1),t}),u(e,f(e),r),c&&(r=i(r,7,s));for(var l=t.length;l--;)o(r,t[l]);return r});e.exports=l},function(e,t){e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}},function(e,t,r){var n=r(749),i=r(754);e.exports=function(e,t){var r=i(e,t);return n(r)?r:void 0}},function(e,t,r){var n=r(195),i=r(127);e.exports=function(e,t,r,o){var a=!r;r||(r={});for(var u=-1,s=t.length;++u<s;){var c=t[u],f=o?o(r[c],e[c],c,r,e):void 0;void 0===f&&(f=e[c]),a?i(r,c,f):n(r,c,f)}return r}},function(e,t){e.exports=function(e){return function(t){return e(t)}}},function(e,t,r){var n=r(791);e.exports=function(e){return null==e?"":n(e)}},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}},function(e,t,r){"use strict";var n=r(415),i=r(133),o=function(e){return i({},e)},a=r(107),u=r(878),s=r(418),c=r(422),f=r(115),l=r(19),d=r(881),p=r(36),h=r(883),v=r(92),g=r(293),y=r(294),m=r(209),b=r(894),_=r(895),w=/^change:/,S=function(){};function k(e,t){t||(t={}),this.cid||(this.cid=n("state")),this._events={},this._values={},this._eventBubblingHandlerCache={},this._definition=Object.create(this._definition),t.parse&&(e=this.parse(e,t)),this.parent=t.parent,this.collection=t.collection,this._keyTree=new b,this._initCollections(),this._initChildren(),this._cache={},this._previousAttributes={},e&&this.set(e,i({silent:!0,initial:!0},t)),this._changed={},this._derived&&this._initDerived(),!1!==t.init&&this.initialize.apply(this,arguments)}function x(e,t,r,n){var i,o,a=e._definition[t]={};if(f(r))(i=e._ensureValidType(r))&&(a.type=i);else{if(Array.isArray(r)&&(r={type:(o=r)[0],required:o[1],default:o[2]}),(i=e._ensureValidType(r.type))&&(a.type=i),r.required&&(a.required=!0),r.default&&"object"==typeof r.default)throw new TypeError("The default value for "+t+" cannot be an object/array, must be a value or a function which returns a value/object/array");a.default=r.default,a.allowNull=!!r.allowNull&&r.allowNull,r.setOnce&&(a.setOnce=!0),a.required&&void 0===a.default&&!a.setOnce&&(a.default=e._getDefaultForType(i)),a.test=r.test,a.values=r.values}return n&&(a.session=!0),i||(i=f(r)?r:r.type,console.warn("Invalid data type of `"+i+"` for `"+t+"` property. Use one of the default types or define your own")),Object.defineProperty(e,t,{set:function(e){this.set(t,e)},get:function(){if(!this._values)throw Error('You may be trying to `extend` a state object with "'+t+'" which has been defined in `props` on the object being extended');var e=this._values[t],r=this._dataTypes[a.type];if(void 0!==e)return r&&r.get&&(e=r.get(e)),e;var n=g(a,"default");(this._values[t]=n,void 0!==n)&&this._getOnChangeForType(a.type)(n,e,t);return n}}),a}function E(e,t,r){(e._derived[t]={fn:p(r)?r:r.fn,cache:!1!==r.cache,depList:r.deps||[]}).depList.forEach(function(r){e._deps[r]=y(e._deps[r]||[],[t])}),Object.defineProperty(e,t,{get:function(){return this._getDerivedProperty(t)},set:function(){throw new TypeError("`"+t+"` is a derived property, it can't be set directly.")}})}i(k.prototype,m,{extraProperties:"ignore",idAttribute:"id",namespaceAttribute:"namespace",typeAttribute:"modelType",initialize:function(){return this},getId:function(){return this[this.idAttribute]},getNamespace:function(){return this[this.namespaceAttribute]},getType:function(){return this[this.typeAttribute]},isNew:function(){return null==this.getId()},escape:function(e){return u(this.get(e))},isValid:function(e){return this._validate({},i(e||{},{validate:!0}))},parse:function(e,t){return e},serialize:function(e){var t=i({props:!0},e),r=this.getAttributes(t,!0),n=function(e,t){r[t]=this[t].serialize()}.bind(this);return s(this._children,n),s(this._collections,n),r},set:function(e,t,r){var n,i,o,a,u,s,f,d,p,h,v,y,m,b,_,w,S,k=this,x=this.extraProperties;if(l(e)||null===e?(p=e,r=t):(p={})[e]=t,r=r||{},!this._validate(p,r))return!1;y=r.unset,v=r.silent,b=r.initial,n=this._changing,this._changing=!0,i=[],b?this._previousAttributes={}:n||(this._previousAttributes=this.attributes,this._changed={});for(var E=0,T=Object.keys(p),O=T.length;E<O;E++){if(o=typeof(a=p[d=T[E]]),m=this._values[d],!(u=this._definition[d])){if(this._children[d]||this._collections[d]){l(a)||(a={}),this[d].set(a,r);continue}if("ignore"===x)continue;if("reject"===x)throw new TypeError('No "'+d+'" property defined on '+(this.type||"this")+' model and extraProperties not set to "ignore" or "allow"');if("allow"===x)u=this._createPropertyDefinition(d,"any");else if(x)throw new TypeError('Invalid value for extraProperties: "'+x+'"')}if(w=this._getCompareForType(u.type),S=this._getOnChangeForType(u.type),(h=this._dataTypes[u.type])&&h.set&&(a=(s=h.set(a)).val,o=s.type),u.test&&(f=u.test.call(this,a,o)))throw new TypeError("Property '"+d+"' failed validation with error: "+f);if(void 0===a&&u.required)throw new TypeError("Required property '"+d+"' must be of type "+u.type+". Tried to set "+a);if(null===a&&u.required&&!u.allowNull)throw new TypeError("Property '"+d+"' must be of type "+u.type+" (cannot be null). Tried to set "+a);if(u.type&&"any"!==u.type&&u.type!==o&&null!==a&&void 0!==a)throw new TypeError("Property '"+d+"' must be of type "+u.type+". Tried to set "+a);if(u.values&&!c(u.values,a)){var P=g(u,"default");if(y&&void 0!==P)a=P;else if(!y||y&&void 0!==a)throw new TypeError("Property '"+d+"' must be one of values: "+u.values.join(", ")+". Tried to set "+a)}if(_=b||!w(m,a,d),u.setOnce&&void 0!==m&&_)throw new TypeError("Property '"+d+"' can only be set once.");_?(S(a,m,d),b||(this._changed[d]=a,this._previousAttributes[d]=m,y&&delete this._values[d],v||i.push({prev:m,val:a,key:d})),y||(this._values[d]=a)):delete this._changed[d]}if(i.length&&(this._pending=!0),i.forEach(function(e){k.trigger("change:"+e.key,k,e.val,r)}),n)return this;for(;this._pending;)this._pending=!1,this.trigger("change",this,r);return this._pending=!1,this._changing=!1,this},get:function(e){return this[e]},toggle:function(e){var t=this._definition[e];if("boolean"===t.type)this[e]=!this[e];else{if(!t||!t.values)throw new TypeError("Can only toggle properties that are type `boolean` or have `values` array.");this[e]=_(t.values,this[e])}return this},previousAttributes:function(){return o(this._previousAttributes)},hasChanged:function(e){return null==e?!!Object.keys(this._changed).length:v(this._derived,e)?this._derived[e].depList.some(function(e){return this.hasChanged(e)},this):v(this._changed,e)},changedAttributes:function(e){if(!e)return!!this.hasChanged()&&o(this._changed);var t,r,n=!1,i=this._changing?this._previousAttributes:this.attributes;for(var a in e)(r=this._definition[a])&&(this._getCompareForType(r.type)(i[a],t=e[a])||((n||(n={}))[a]=t));return n},toJSON:function(){return this.serialize()},unset:function(e,t){var r=this;(e=Array.isArray(e)?e:[e]).forEach(function(e){var n,o=r._definition[e];if(o)return o.required?(n=g(o,"default"),r.set(e,n,t)):r.set(e,n,i({},t,{unset:!0}))})},clear:function(e){var t=this;return Object.keys(this.attributes).forEach(function(r){t.unset(r,e)}),this},previous:function(e){return null!=e&&Object.keys(this._previousAttributes).length?this._previousAttributes[e]:null},_getDefaultForType:function(e){var t=this._dataTypes[e];return t&&t.default},_getCompareForType:function(e){var t=this._dataTypes[e];return t&&t.compare?t.compare.bind(this):h},_getOnChangeForType:function(e){var t=this._dataTypes[e];return t&&t.onChange?t.onChange.bind(this):S},_validate:function(e,t){if(!t.validate||!this.validate)return!0;e=i({},this.attributes,e);var r=this.validationError=this.validate(e,t)||null;return!r||(this.trigger("invalid",this,r,i(t||{},{validationError:r})),!1)},_createPropertyDefinition:function(e,t,r){return x(this,e,t,r)},_ensureValidType:function(e){return c(["string","number","boolean","array","object","date","state","any"].concat(Object.keys(this._dataTypes)),e)?e:void 0},getAttributes:function(e,t){e=i({session:!1,props:!1,derived:!1},e||{});var r,n,o={};for(var a in this._definition)n=this._definition[a],(e.session&&n.session||e.props&&!n.session)&&(r=t?this._values[a]:this[a],t&&r&&p(r.serialize)&&(r=r.serialize()),void 0===r&&(r=g(n,"default")),void 0!==r&&(o[a]=r));if(e.derived)for(var u in this._derived)o[u]=this[u];return o},_initDerived:function(){var e=this;s(this._derived,function(t,r){var n=e._derived[r];n.deps=n.depList;var i=function(){var t=n.fn.call(e);e._cache[r]===t&&n.cache||(n.cache&&(e._previousAttributes[r]=e._cache[r]),e._cache[r]=t,e.trigger("change:"+r,e,e._cache[r]))};n.deps.forEach(function(t){e._keyTree.add(t,i)})}),this.on("all",function(t){w.test(t)&&e._keyTree.get(t.split(":")[1]).forEach(function(e){e()})},this)},_getDerivedProperty:function(e,t){return this._derived[e].cache?(!t&&this._cache.hasOwnProperty(e)||(this._cache[e]=this._derived[e].fn.apply(this)),this._cache[e]):this._derived[e].fn.apply(this)},_initCollections:function(){var e;if(this._collections)for(e in this._collections)this._safeSet(e,new this._collections[e](null,{parent:this}))},_initChildren:function(){var e;if(this._children)for(e in this._children)this._safeSet(e,new this._children[e]({},{parent:this})),this.listenTo(this[e],"all",this._getCachedEventBubblingHandler(e))},_getCachedEventBubblingHandler:function(e){return this._eventBubblingHandlerCache[e]||(this._eventBubblingHandlerCache[e]=function(t,r,n){w.test(t)?this.trigger("change:"+e+"."+t.split(":")[1],r,n):"change"===t&&this.trigger("change",this)}.bind(this)),this._eventBubblingHandlerCache[e]},_verifyRequired:function(){var e=this.attributes;for(var t in this._definition)if(this._definition[t].required&&void 0===e[t])return!1;return!0},_safeSet:function(e,t){if(e in this)throw new Error("Encountered namespace collision while setting instance property `"+e+"`");return this[e]=t,this}}),Object.defineProperties(k.prototype,{attributes:{get:function(){return this.getAttributes({props:!0,session:!0})}},all:{get:function(){return this.getAttributes({session:!0,props:!0,derived:!0})}},isState:{get:function(){return!0},set:function(){}}});var T={string:{default:function(){return""}},date:{set:function(e){var t;if(null==e)t="object";else if(d(e))t="date",e=e.valueOf();else{var r=null,n=new Date(e).valueOf();isNaN(n)&&(n=new Date(parseInt(e,10)).valueOf(),isNaN(n)&&(r=!0)),e=n,t="date",r&&(t=typeof e)}return{val:e,type:t}},get:function(e){return null==e?e:new Date(e)},default:function(){return new Date}},array:{set:function(e){return{val:e,type:Array.isArray(e)?"array":typeof e}},default:function(){return[]}},object:{set:function(e){var t=typeof e;return"object"!==t&&void 0===e&&(e=null,t="object"),{val:e,type:t}},default:function(){return{}}},state:{set:function(e){return e instanceof k||e&&e.isState?{val:e,type:"state"}:{val:e,type:typeof e}},compare:function(e,t){return e===t},onChange:function(e,t,r){t&&this.stopListening(t,"all",this._getCachedEventBubblingHandler(r)),null!=e&&this.listenTo(e,"all",this._getCachedEventBubblingHandler(r))}}};k.extend=function(e){var t,r=this;t=e&&e.hasOwnProperty("constructor")?e.constructor:function(){return r.apply(this,arguments)},i(t,r);var n=function(){this.constructor=t};if(n.prototype=r.prototype,t.prototype=new n,t.prototype._derived=i({},r.prototype._derived),t.prototype._deps=i({},r.prototype._deps),t.prototype._definition=i({},r.prototype._definition),t.prototype._collections=i({},r.prototype._collections),t.prototype._children=i({},r.prototype._children),t.prototype._dataTypes=i({},r.prototype._dataTypes||T),e)for(var o=["dataTypes","props","session","derived","collections","children"],u=0;u<arguments.length;u++){var c=arguments[u];c.dataTypes&&s(c.dataTypes,function(e,r){t.prototype._dataTypes[r]=e}),c.props&&s(c.props,function(e,r){x(t.prototype,r,e)}),c.session&&s(c.session,function(e,r){x(t.prototype,r,e,!0)}),c.derived&&s(c.derived,function(e,r){E(t.prototype,r,e)}),c.collections&&s(c.collections,function(e,r){t.prototype._collections[r]=e}),c.children&&s(c.children,function(e,r){t.prototype._children[r]=e}),i(t.prototype,a(c,o))}return t.__super__=r.prototype,t},e.exports=k},function(e,t,r){var n=r(69),i=r(4),o=r(38),a="[object String]";e.exports=function(e){return"string"==typeof e||!i(e)&&o(e)&&n(e)==a}},function(e,t,r){"use strict";var n=r(217),i=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};e.exports=l;var o=r(168);o.inherits=r(113);var a=r(503),u=r(313);o.inherits(l,a);for(var s=i(u.prototype),c=0;c<s.length;c++){var f=s[c];l.prototype[f]||(l.prototype[f]=u.prototype[f])}function l(e){if(!(this instanceof l))return new l(e);a.call(this,e),u.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",d)}function d(){this.allowHalfOpen||this._writableState.ended||n.nextTick(p,this)}function p(e){e.end()}Object.defineProperty(l.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(l.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),l.prototype._destroy=function(e,t){this.push(null),this.end(),n.nextTick(t,e)}},function(e,t,r){var n=r(21).f,i=r(45),o=r(17)("toStringTag");e.exports=function(e,t,r){e&&!i(e=r?e:e.prototype,o)&&n(e,o,{configurable:!0,value:t})}},function(e,t,r){var n=r(0),i=r(65),o=r(10),a=r(225),u="["+a+"]",s=RegExp("^"+u+u+"*"),c=RegExp(u+u+"*$"),f=function(e,t,r){var i={},u=o(function(){return!!a[e]()||"​"!="​"[e]()}),s=i[e]=u?t(l):a[e];r&&(i[r]=s),n(n.P+n.F*u,"String",i)},l=f.trim=function(e,t){return e=String(i(e)),1&t&&(e=e.replace(s,"")),2&t&&(e=e.replace(c,"")),e};e.exports=f},function(e,t){e.exports={}},function(e,t,r){var n=r(12);e.exports=function(e,t){if(!n(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},function(e,t){e.exports={}},function(e,t,r){var n=r(350),i=r(254);e.exports=Object.keys||function(e){return n(e,i)}},function(e,t,r){var n=r(246);e.exports=function(e){return Object(n(e))}},function(e,t,r){var n=r(76),i=r(354),o=r(355),a=r(29),u=r(185),s=r(255),c={},f={};(t=e.exports=function(e,t,r,l,d){var p,h,v,g,y=d?function(){return e}:s(e),m=n(r,l,t?2:1),b=0;if("function"!=typeof y)throw TypeError(e+" is not iterable!");if(o(y)){for(p=u(e.length);p>b;b++)if((g=t?m(a(h=e[b])[0],h[1]):m(e[b]))===c||g===f)return g}else for(v=y.call(e);!(h=v.next()).done;)if((g=i(v,m,h.value,t))===c||g===f)return g}).BREAK=c,t.RETURN=f},function(e,t){e.exports=function(e,t){return e===t||e!=e&&t!=t}},function(e,t,r){var n=r(37).Symbol;e.exports=n},function(e,t,r){var n=r(366);e.exports=function(e,t,r){"__proto__"==t&&n?n(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}},function(e,t,r){var n=r(69),i=r(38),o="[object Symbol]";e.exports=function(e){return"symbol"==typeof e||i(e)&&n(e)==o}},function(e,t){e.exports=function(e,t,r){var n=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(r=r>i?i:r)<0&&(r+=i),i=t>r?0:r-t>>>0,t>>>=0;for(var o=Array(i);++n<i;)o[n]=e[n+t];return o}},function(e,t,r){var n=r(278),i=r(206);e.exports=function(e,t){return i(n(t),e)}},function(e,t){var r="__lodash_placeholder__";e.exports=function(e,t){for(var n=-1,i=e.length,o=0,a=[];++n<i;){var u=e[n];u!==t&&u!==r||(e[n]=r,a[o++]=n)}return a}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.safeSetTimeout=
/*!
 * Copyright (c) 2015-2017 Cisco Systems, Inc. See LICENSE file.
 */
function(){var e=setTimeout.apply(void 0,arguments);e.unref&&e.unref();return e},t.safeSetInterval=function(){var e=setInterval.apply(void 0,arguments);e.unref&&e.unref();return e}},function(e,t,r){var n=r(195),i=r(110),o=r(416),a=r(59),u=r(150),s=r(70),c=Object.prototype.hasOwnProperty,f=o(function(e,t){if(u(t)||a(t))i(t,s(t),e);else for(var r in t)c.call(t,r)&&n(e,r,t[r])});e.exports=f},function(e,t,r){"use strict";t.__esModule=!0;var n=o(r(907)),i=o(r(77));function o(e){return e&&e.__esModule?e:{default:e}}t.default=function(){return function(e,t){if(Array.isArray(e))return e;if((0,n.default)(Object(e)))return function(e,t){var r=[],n=!0,o=!1,a=void 0;try{for(var u,s=(0,i.default)(e);!(n=(u=s.next()).done)&&(r.push(u.value),!t||r.length!==t);n=!0);}catch(e){o=!0,a=e}finally{try{!n&&s.return&&s.return()}finally{if(o)throw a}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()},function(e,t,r){e.exports={default:r(915),__esModule:!0}},function(e,t,r){var n=r(55);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==n(e)?e.split(""):Object(e)}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,r){var n=r(55),i=r(17)("toStringTag"),o="Arguments"==n(function(){return arguments}());e.exports=function(e){var t,r,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),i))?r:o?n(t):"Object"==(a=n(t))&&"function"==typeof t.callee?"Arguments":a}},function(e,t){var r={}.toString;e.exports=function(e){return r.call(e).slice(8,-1)}},function(e,t,r){var n=r(141),i=r(142),o=r(83),a=r(184),u=r(84),s=r(348),c=Object.getOwnPropertyDescriptor;t.f=r(57)?c:function(e,t){if(e=o(e),t=a(t,!0),s)try{return c(e,t)}catch(e){}if(u(e,t))return i(!n.f.call(e,t),e[t])}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){},function(e,t){e.exports=!0},function(e,t,r){var n=r(29),i=r(349),o=r(254),a=r(252)("IE_PROTO"),u=function(){},s=function(){var e,t=r(247)("iframe"),n=o.length;for(t.style.display="none",r(351).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),s=e.F;n--;)delete s.prototype[o[n]];return s()};e.exports=Object.create||function(e,t){var r;return null!==e?(u.prototype=n(e),r=new u,u.prototype=null,r[a]=e):r=s(),void 0===t?r:i(r,t)}},function(e,t,r){var n=r(50).f,i=r(84),o=r(35)("toStringTag");e.exports=function(e,t,r){e&&!i(e=r?e:e.prototype,o)&&n(e,o,{configurable:!0,value:t})}},function(e,t,r){var n=r(769),i=r(38),o=Object.prototype,a=o.hasOwnProperty,u=o.propertyIsEnumerable,s=n(function(){return arguments}())?n:function(e){return i(e)&&a.call(e,"callee")&&!u.call(e,"callee")};e.exports=s},function(e,t,r){(function(e){var n=r(37),i=r(770),o="object"==typeof t&&t&&!t.nodeType&&t,a=o&&"object"==typeof e&&e&&!e.nodeType&&e,u=a&&a.exports===o?n.Buffer:void 0,s=(u?u.isBuffer:void 0)||i;e.exports=s}).call(this,r(196)(e))},function(e,t){var r=9007199254740991,n=/^(?:0|[1-9]\d*)$/;e.exports=function(e,t){var i=typeof e;return!!(t=null==t?r:t)&&("number"==i||"symbol"!=i&&n.test(e))&&e>-1&&e%1==0&&e<t}},function(e,t){var r=Object.prototype;e.exports=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||r)}},function(e,t,r){var n=r(367),i=r(774),o=r(59);e.exports=function(e){return o(e)?n(e,!0):i(e)}},function(e,t){e.exports=function(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}},function(e,t,r){var n=r(778),i=r(259),o=r(779),a=r(376),u=r(377),s=r(69),c=r(365),f=c(n),l=c(i),d=c(o),p=c(a),h=c(u),v=s;(n&&"[object DataView]"!=v(new n(new ArrayBuffer(1)))||i&&"[object Map]"!=v(new i)||o&&"[object Promise]"!=v(o.resolve())||a&&"[object Set]"!=v(new a)||u&&"[object WeakMap]"!=v(new u))&&(v=function(e){var t=s(e),r="[object Object]"==t?e.constructor:void 0,n=r?c(r):"";if(n)switch(n){case f:return"[object DataView]";case l:return"[object Map]";case d:return"[object Promise]";case p:return"[object Set]";case h:return"[object WeakMap]"}return t}),e.exports=v},function(e,t,r){var n=r(199),i=r(794);e.exports=function e(t,r,o,a,u){var s=-1,c=t.length;for(o||(o=i),u||(u=[]);++s<c;){var f=t[s];r>0&&o(f)?r>1?e(f,r-1,o,a,u):n(u,f):a||(u[u.length]=f)}return u}},function(e,t,r){var n=r(258),i=1,o=4;e.exports=function(e){return n(e,i|o)}},function(e,t,r){"use strict";var n=r(799),i=r(800);function o(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}t.parse=b,t.resolve=function(e,t){return b(e,!1,!0).resolve(t)},t.resolveObject=function(e,t){return e?b(e,!1,!0).resolveObject(t):t},t.format=function(e){i.isString(e)&&(e=b(e));return e instanceof o?e.format():o.prototype.format.call(e)},t.Url=o;var a=/^([a-z0-9.+-]+:)/i,u=/:[0-9]*$/,s=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,c=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),f=["'"].concat(c),l=["%","/","?",";","#"].concat(f),d=["/","?","#"],p=/^[+a-z0-9A-Z_-]{0,63}$/,h=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,v={javascript:!0,"javascript:":!0},g={javascript:!0,"javascript:":!0},y={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},m=r(270);function b(e,t,r){if(e&&i.isObject(e)&&e instanceof o)return e;var n=new o;return n.parse(e,t,r),n}o.prototype.parse=function(e,t,r){if(!i.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var o=e.indexOf("?"),u=-1!==o&&o<e.indexOf("#")?"?":"#",c=e.split(u);c[0]=c[0].replace(/\\/g,"/");var b=e=c.join(u);if(b=b.trim(),!r&&1===e.split("#").length){var _=s.exec(b);if(_)return this.path=b,this.href=b,this.pathname=_[1],_[2]?(this.search=_[2],this.query=t?m.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var w=a.exec(b);if(w){var S=(w=w[0]).toLowerCase();this.protocol=S,b=b.substr(w.length)}if(r||w||b.match(/^\/\/[^@\/]+@[^@\/]+/)){var k="//"===b.substr(0,2);!k||w&&g[w]||(b=b.substr(2),this.slashes=!0)}if(!g[w]&&(k||w&&!y[w])){for(var x,E,T=-1,O=0;O<d.length;O++){-1!==(P=b.indexOf(d[O]))&&(-1===T||P<T)&&(T=P)}-1!==(E=-1===T?b.lastIndexOf("@"):b.lastIndexOf("@",T))&&(x=b.slice(0,E),b=b.slice(E+1),this.auth=decodeURIComponent(x)),T=-1;for(O=0;O<l.length;O++){var P;-1!==(P=b.indexOf(l[O]))&&(-1===T||P<T)&&(T=P)}-1===T&&(T=b.length),this.host=b.slice(0,T),b=b.slice(T),this.parseHost(),this.hostname=this.hostname||"";var C="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!C)for(var M=this.hostname.split(/\./),j=(O=0,M.length);O<j;O++){var R=M[O];if(R&&!R.match(p)){for(var A="",I=0,D=R.length;I<D;I++)R.charCodeAt(I)>127?A+="x":A+=R[I];if(!A.match(p)){var L=M.slice(0,O),N=M.slice(O+1),F=R.match(h);F&&(L.push(F[1]),N.unshift(F[2])),N.length&&(b="/"+N.join(".")+b),this.hostname=L.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),C||(this.hostname=n.toASCII(this.hostname));var U=this.port?":"+this.port:"",z=this.hostname||"";this.host=z+U,this.href+=this.host,C&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==b[0]&&(b="/"+b))}if(!v[S])for(O=0,j=f.length;O<j;O++){var q=f[O];if(-1!==b.indexOf(q)){var B=encodeURIComponent(q);B===q&&(B=escape(q)),b=b.split(q).join(B)}}var W=b.indexOf("#");-1!==W&&(this.hash=b.substr(W),b=b.slice(0,W));var G=b.indexOf("?");if(-1!==G?(this.search=b.substr(G),this.query=b.substr(G+1),t&&(this.query=m.parse(this.query)),b=b.slice(0,G)):t&&(this.search="",this.query={}),b&&(this.pathname=b),y[S]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){U=this.pathname||"";var V=this.search||"";this.path=U+V}return this.href=this.format(),this},o.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",r=this.pathname||"",n=this.hash||"",o=!1,a="";this.host?o=e+this.host:this.hostname&&(o=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&i.isObject(this.query)&&Object.keys(this.query).length&&(a=m.stringify(this.query));var u=this.search||a&&"?"+a||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||y[t])&&!1!==o?(o="//"+(o||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):o||(o=""),n&&"#"!==n.charAt(0)&&(n="#"+n),u&&"?"!==u.charAt(0)&&(u="?"+u),t+o+(r=r.replace(/[?#]/g,function(e){return encodeURIComponent(e)}))+(u=u.replace("#","%23"))+n},o.prototype.resolve=function(e){return this.resolveObject(b(e,!1,!0)).format()},o.prototype.resolveObject=function(e){if(i.isString(e)){var t=new o;t.parse(e,!1,!0),e=t}for(var r=new o,n=Object.keys(this),a=0;a<n.length;a++){var u=n[a];r[u]=this[u]}if(r.hash=e.hash,""===e.href)return r.href=r.format(),r;if(e.slashes&&!e.protocol){for(var s=Object.keys(e),c=0;c<s.length;c++){var f=s[c];"protocol"!==f&&(r[f]=e[f])}return y[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(e.protocol&&e.protocol!==r.protocol){if(!y[e.protocol]){for(var l=Object.keys(e),d=0;d<l.length;d++){var p=l[d];r[p]=e[p]}return r.href=r.format(),r}if(r.protocol=e.protocol,e.host||g[e.protocol])r.pathname=e.pathname;else{for(var h=(e.pathname||"").split("/");h.length&&!(e.host=h.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==h[0]&&h.unshift(""),h.length<2&&h.unshift(""),r.pathname=h.join("/")}if(r.search=e.search,r.query=e.query,r.host=e.host||"",r.auth=e.auth,r.hostname=e.hostname||e.host,r.port=e.port,r.pathname||r.search){var v=r.pathname||"",m=r.search||"";r.path=v+m}return r.slashes=r.slashes||e.slashes,r.href=r.format(),r}var b=r.pathname&&"/"===r.pathname.charAt(0),_=e.host||e.pathname&&"/"===e.pathname.charAt(0),w=_||b||r.host&&e.pathname,S=w,k=r.pathname&&r.pathname.split("/")||[],x=(h=e.pathname&&e.pathname.split("/")||[],r.protocol&&!y[r.protocol]);if(x&&(r.hostname="",r.port=null,r.host&&(""===k[0]?k[0]=r.host:k.unshift(r.host)),r.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===h[0]?h[0]=e.host:h.unshift(e.host)),e.host=null),w=w&&(""===h[0]||""===k[0])),_)r.host=e.host||""===e.host?e.host:r.host,r.hostname=e.hostname||""===e.hostname?e.hostname:r.hostname,r.search=e.search,r.query=e.query,k=h;else if(h.length)k||(k=[]),k.pop(),k=k.concat(h),r.search=e.search,r.query=e.query;else if(!i.isNullOrUndefined(e.search)){if(x)r.hostname=r.host=k.shift(),(C=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=C.shift(),r.host=r.hostname=C.shift());return r.search=e.search,r.query=e.query,i.isNull(r.pathname)&&i.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!k.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var E=k.slice(-1)[0],T=(r.host||e.host||k.length>1)&&("."===E||".."===E)||""===E,O=0,P=k.length;P>=0;P--)"."===(E=k[P])?k.splice(P,1):".."===E?(k.splice(P,1),O++):O&&(k.splice(P,1),O--);if(!w&&!S)for(;O--;O)k.unshift("..");!w||""===k[0]||k[0]&&"/"===k[0].charAt(0)||k.unshift(""),T&&"/"!==k.join("/").substr(-1)&&k.push("");var C,M=""===k[0]||k[0]&&"/"===k[0].charAt(0);x&&(r.hostname=r.host=M?"":k.length?k.shift():"",(C=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=C.shift(),r.host=r.hostname=C.shift()));return(w=w||r.host&&k.length)&&!M&&k.unshift(""),k.length?r.pathname=k.join("/"):(r.pathname=null,r.path=null),i.isNull(r.pathname)&&i.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=e.auth||r.auth,r.slashes=r.slashes||e.slashes,r.href=r.format(),r},o.prototype.parseHost=function(){var e=this.host,t=u.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},function(e,t,r){"use strict";(function(e){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
var n=r(802),i=r(803),o=r(385);function a(){return s.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function u(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return s.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=s.prototype:(null===e&&(e=new s(t)),e.length=t),e}function s(e,t,r){if(!(s.TYPED_ARRAY_SUPPORT||this instanceof s))return new s(e,t,r);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return l(this,e)}return c(this,e,t,r)}function c(e,t,r,n){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,r,n){if(t.byteLength,r<0||t.byteLength<r)throw new RangeError("'offset' is out of bounds");if(t.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");t=void 0===r&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,r):new Uint8Array(t,r,n);s.TYPED_ARRAY_SUPPORT?(e=t).__proto__=s.prototype:e=d(e,t);return e}(e,t,r,n):"string"==typeof t?function(e,t,r){"string"==typeof r&&""!==r||(r="utf8");if(!s.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|h(t,r),i=(e=u(e,n)).write(t,r);i!==n&&(e=e.slice(0,i));return e}(e,t,r):function(e,t){if(s.isBuffer(t)){var r=0|p(t.length);return 0===(e=u(e,r)).length?e:(t.copy(e,0,0,r),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||function(e){return e!=e}(t.length)?u(e,0):d(e,t);if("Buffer"===t.type&&o(t.data))return d(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function f(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function l(e,t){if(f(t),e=u(e,t<0?0:0|p(t)),!s.TYPED_ARRAY_SUPPORT)for(var r=0;r<t;++r)e[r]=0;return e}function d(e,t){var r=t.length<0?0:0|p(t.length);e=u(e,r);for(var n=0;n<r;n+=1)e[n]=255&t[n];return e}function p(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function h(e,t){if(s.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var r=e.length;if(0===r)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return z(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return q(e).length;default:if(n)return z(e).length;t=(""+t).toLowerCase(),n=!0}}function v(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function g(e,t,r,n,i){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof t&&(t=s.from(t,n)),s.isBuffer(t))return 0===t.length?-1:y(e,t,r,n,i);if("number"==typeof t)return t&=255,s.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):y(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function y(e,t,r,n,i){var o,a=1,u=e.length,s=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;a=2,u/=2,s/=2,r/=2}function c(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){var f=-1;for(o=r;o<u;o++)if(c(e,o)===c(t,-1===f?0:o-f)){if(-1===f&&(f=o),o-f+1===s)return f*a}else-1!==f&&(o-=o-f),f=-1}else for(r+s>u&&(r=u-s),o=r;o>=0;o--){for(var l=!0,d=0;d<s;d++)if(c(e,o+d)!==c(t,d)){l=!1;break}if(l)return o}return-1}function m(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");n>o/2&&(n=o/2);for(var a=0;a<n;++a){var u=parseInt(t.substr(2*a,2),16);if(isNaN(u))return a;e[r+a]=u}return a}function b(e,t,r,n){return B(z(t,e.length-r),e,r,n)}function _(e,t,r,n){return B(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function w(e,t,r,n){return _(e,t,r,n)}function S(e,t,r,n){return B(q(t),e,r,n)}function k(e,t,r,n){return B(function(e,t){for(var r,n,i,o=[],a=0;a<e.length&&!((t-=2)<0);++a)r=e.charCodeAt(a),n=r>>8,i=r%256,o.push(i),o.push(n);return o}(t,e.length-r),e,r,n)}function x(e,t,r){return 0===t&&r===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,r))}function E(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var o,a,u,s,c=e[i],f=null,l=c>239?4:c>223?3:c>191?2:1;if(i+l<=r)switch(l){case 1:c<128&&(f=c);break;case 2:128==(192&(o=e[i+1]))&&(s=(31&c)<<6|63&o)>127&&(f=s);break;case 3:o=e[i+1],a=e[i+2],128==(192&o)&&128==(192&a)&&(s=(15&c)<<12|(63&o)<<6|63&a)>2047&&(s<55296||s>57343)&&(f=s);break;case 4:o=e[i+1],a=e[i+2],u=e[i+3],128==(192&o)&&128==(192&a)&&128==(192&u)&&(s=(15&c)<<18|(63&o)<<12|(63&a)<<6|63&u)>65535&&s<1114112&&(f=s)}null===f?(f=65533,l=1):f>65535&&(f-=65536,n.push(f>>>10&1023|55296),f=56320|1023&f),n.push(f),i+=l}return function(e){var t=e.length;if(t<=T)return String.fromCharCode.apply(String,e);var r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=T));return r}(n)}t.Buffer=s,t.SlowBuffer=function(e){+e!=e&&(e=0);return s.alloc(+e)},t.INSPECT_MAX_BYTES=50,s.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=a(),s.poolSize=8192,s._augment=function(e){return e.__proto__=s.prototype,e},s.from=function(e,t,r){return c(null,e,t,r)},s.TYPED_ARRAY_SUPPORT&&(s.prototype.__proto__=Uint8Array.prototype,s.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&s[Symbol.species]===s&&Object.defineProperty(s,Symbol.species,{value:null,configurable:!0})),s.alloc=function(e,t,r){return function(e,t,r,n){return f(t),t<=0?u(e,t):void 0!==r?"string"==typeof n?u(e,t).fill(r,n):u(e,t).fill(r):u(e,t)}(null,e,t,r)},s.allocUnsafe=function(e){return l(null,e)},s.allocUnsafeSlow=function(e){return l(null,e)},s.isBuffer=function(e){return!(null==e||!e._isBuffer)},s.compare=function(e,t){if(!s.isBuffer(e)||!s.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var r=e.length,n=t.length,i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},s.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(e,t){if(!o(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return s.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=s.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){var a=e[r];if(!s.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(n,i),i+=a.length}return n},s.byteLength=h,s.prototype._isBuffer=!0,s.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)v(this,t,t+1);return this},s.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)v(this,t,t+3),v(this,t+1,t+2);return this},s.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)v(this,t,t+7),v(this,t+1,t+6),v(this,t+2,t+5),v(this,t+3,t+4);return this},s.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?E(this,0,e):function(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return C(this,t,r);case"utf8":case"utf-8":return E(this,t,r);case"ascii":return O(this,t,r);case"latin1":case"binary":return P(this,t,r);case"base64":return x(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}.apply(this,arguments)},s.prototype.equals=function(e){if(!s.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===s.compare(this,e)},s.prototype.inspect=function(){var e="",r=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(e+=" ... ")),"<Buffer "+e+">"},s.prototype.compare=function(e,t,r,n,i){if(!s.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(t>>>=0,r>>>=0,n>>>=0,i>>>=0,this===e)return 0;for(var o=i-n,a=r-t,u=Math.min(o,a),c=this.slice(n,i),f=e.slice(t,r),l=0;l<u;++l)if(c[l]!==f[l]){o=c[l],a=f[l];break}return o<a?-1:a<o?1:0},s.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},s.prototype.indexOf=function(e,t,r){return g(this,e,t,r,!0)},s.prototype.lastIndexOf=function(e,t,r){return g(this,e,t,r,!1)},s.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return m(this,e,t,r);case"utf8":case"utf-8":return b(this,e,t,r);case"ascii":return _(this,e,t,r);case"latin1":case"binary":return w(this,e,t,r);case"base64":return S(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,e,t,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var T=4096;function O(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function P(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function C(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var i="",o=t;o<r;++o)i+=U(e[o]);return i}function M(e,t,r){for(var n=e.slice(t,r),i="",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function j(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function R(e,t,r,n,i,o){if(!s.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function A(e,t,r,n){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-r,2);i<o;++i)e[r+i]=(t&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function I(e,t,r,n){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-r,4);i<o;++i)e[r+i]=t>>>8*(n?i:3-i)&255}function D(e,t,r,n,i,o){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function L(e,t,r,n,o){return o||D(e,0,r,4),i.write(e,t,r,n,23,4),r+4}function N(e,t,r,n,o){return o||D(e,0,r,8),i.write(e,t,r,n,52,8),r+8}s.prototype.slice=function(e,t){var r,n=this.length;if(e=~~e,t=void 0===t?n:~~t,e<0?(e+=n)<0&&(e=0):e>n&&(e=n),t<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e),s.TYPED_ARRAY_SUPPORT)(r=this.subarray(e,t)).__proto__=s.prototype;else{var i=t-e;r=new s(i,void 0);for(var o=0;o<i;++o)r[o]=this[o+e]}return r},s.prototype.readUIntLE=function(e,t,r){e|=0,t|=0,r||j(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n},s.prototype.readUIntBE=function(e,t,r){e|=0,t|=0,r||j(e,t,this.length);for(var n=this[e+--t],i=1;t>0&&(i*=256);)n+=this[e+--t]*i;return n},s.prototype.readUInt8=function(e,t){return t||j(e,1,this.length),this[e]},s.prototype.readUInt16LE=function(e,t){return t||j(e,2,this.length),this[e]|this[e+1]<<8},s.prototype.readUInt16BE=function(e,t){return t||j(e,2,this.length),this[e]<<8|this[e+1]},s.prototype.readUInt32LE=function(e,t){return t||j(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},s.prototype.readUInt32BE=function(e,t){return t||j(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},s.prototype.readIntLE=function(e,t,r){e|=0,t|=0,r||j(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},s.prototype.readIntBE=function(e,t,r){e|=0,t|=0,r||j(e,t,this.length);for(var n=t,i=1,o=this[e+--n];n>0&&(i*=256);)o+=this[e+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},s.prototype.readInt8=function(e,t){return t||j(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},s.prototype.readInt16LE=function(e,t){t||j(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},s.prototype.readInt16BE=function(e,t){t||j(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},s.prototype.readInt32LE=function(e,t){return t||j(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},s.prototype.readInt32BE=function(e,t){return t||j(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},s.prototype.readFloatLE=function(e,t){return t||j(e,4,this.length),i.read(this,e,!0,23,4)},s.prototype.readFloatBE=function(e,t){return t||j(e,4,this.length),i.read(this,e,!1,23,4)},s.prototype.readDoubleLE=function(e,t){return t||j(e,8,this.length),i.read(this,e,!0,52,8)},s.prototype.readDoubleBE=function(e,t){return t||j(e,8,this.length),i.read(this,e,!1,52,8)},s.prototype.writeUIntLE=function(e,t,r,n){(e=+e,t|=0,r|=0,n)||R(this,e,t,r,Math.pow(2,8*r)-1,0);var i=1,o=0;for(this[t]=255&e;++o<r&&(i*=256);)this[t+o]=e/i&255;return t+r},s.prototype.writeUIntBE=function(e,t,r,n){(e=+e,t|=0,r|=0,n)||R(this,e,t,r,Math.pow(2,8*r)-1,0);var i=r-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+r},s.prototype.writeUInt8=function(e,t,r){return e=+e,t|=0,r||R(this,e,t,1,255,0),s.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},s.prototype.writeUInt16LE=function(e,t,r){return e=+e,t|=0,r||R(this,e,t,2,65535,0),s.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):A(this,e,t,!0),t+2},s.prototype.writeUInt16BE=function(e,t,r){return e=+e,t|=0,r||R(this,e,t,2,65535,0),s.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):A(this,e,t,!1),t+2},s.prototype.writeUInt32LE=function(e,t,r){return e=+e,t|=0,r||R(this,e,t,4,4294967295,0),s.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):I(this,e,t,!0),t+4},s.prototype.writeUInt32BE=function(e,t,r){return e=+e,t|=0,r||R(this,e,t,4,4294967295,0),s.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):I(this,e,t,!1),t+4},s.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);R(this,e,t,r,i-1,-i)}var o=0,a=1,u=0;for(this[t]=255&e;++o<r&&(a*=256);)e<0&&0===u&&0!==this[t+o-1]&&(u=1),this[t+o]=(e/a>>0)-u&255;return t+r},s.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);R(this,e,t,r,i-1,-i)}var o=r-1,a=1,u=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===u&&0!==this[t+o+1]&&(u=1),this[t+o]=(e/a>>0)-u&255;return t+r},s.prototype.writeInt8=function(e,t,r){return e=+e,t|=0,r||R(this,e,t,1,127,-128),s.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},s.prototype.writeInt16LE=function(e,t,r){return e=+e,t|=0,r||R(this,e,t,2,32767,-32768),s.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):A(this,e,t,!0),t+2},s.prototype.writeInt16BE=function(e,t,r){return e=+e,t|=0,r||R(this,e,t,2,32767,-32768),s.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):A(this,e,t,!1),t+2},s.prototype.writeInt32LE=function(e,t,r){return e=+e,t|=0,r||R(this,e,t,4,2147483647,-2147483648),s.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):I(this,e,t,!0),t+4},s.prototype.writeInt32BE=function(e,t,r){return e=+e,t|=0,r||R(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),s.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):I(this,e,t,!1),t+4},s.prototype.writeFloatLE=function(e,t,r){return L(this,e,t,!0,r)},s.prototype.writeFloatBE=function(e,t,r){return L(this,e,t,!1,r)},s.prototype.writeDoubleLE=function(e,t,r){return N(this,e,t,!0,r)},s.prototype.writeDoubleBE=function(e,t,r){return N(this,e,t,!1,r)},s.prototype.copy=function(e,t,r,n){if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var i,o=n-r;if(this===e&&r<t&&t<n)for(i=o-1;i>=0;--i)e[i+t]=this[i+r];else if(o<1e3||!s.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+o),t);return o},s.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!s.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var o;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(o=t;o<r;++o)this[o]=e;else{var a=s.isBuffer(e)?e:z(new s(e,n).toString()),u=a.length;for(o=0;o<r-t;++o)this[o+t]=a[o%u]}return this};var F=/[^+\/0-9A-Za-z-_]/g;function U(e){return e<16?"0"+e.toString(16):e.toString(16)}function z(e,t){var r;t=t||1/0;for(var n=e.length,i=null,o=[],a=0;a<n;++a){if((r=e.charCodeAt(a))>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function q(e){return n.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(F,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function B(e,t,r,n){for(var i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}}).call(this,r(32))},function(e,t,r){var n=r(186)("meta"),i=r(34),o=r(84),a=r(50).f,u=0,s=Object.isExtensible||function(){return!0},c=!r(58)(function(){return s(Object.preventExtensions({}))}),f=function(e){a(e,n,{value:{i:"O"+ ++u,w:{}}})},l=e.exports={KEY:n,NEED:!1,fastKey:function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,n)){if(!s(e))return"F";if(!t)return"E";f(e)}return e[n].i},getWeak:function(e,t){if(!o(e,n)){if(!s(e))return!0;if(!t)return!1;f(e)}return e[n].w},onFreeze:function(e){return c&&l.NEED&&s(e)&&!o(e,n)&&f(e),e}}},function(e,t,r){var n=r(34);e.exports=function(e,t){if(!n(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},function(e,t){e.exports=function(e){return e.placeholder}},function(e,t,r){var n=r(125),i=r(59),o=r(149),a=r(19);e.exports=function(e,t,r){if(!a(r))return!1;var u=typeof t;return!!("number"==u?i(r)&&o(t,r.length):"string"==u&&t in r)&&n(r[t],e)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d(r(1)),i=d(r(24)),o=d(r(31)),a=d(r(107)),u=d(r(19)),s=d(r(155)),c=d(r(39)),f=d(r(114)),l=r(210);function d(e){return e&&e.__esModule?e:{default:e}}var p=f.default.extend({derived:{boundedStorage:{deps:[],fn:function(){return(0,l.makeSparkPluginStore)("bounded",this)}},unboundedStorage:{deps:[],fn:function(){return(0,l.makeSparkPluginStore)("unbounded",this)}},config:{cache:!1,deps:["spark","spark.config"],fn:function(){if(this.spark&&this.spark.config){var e=this.getNamespace();return e?this.spark.config[e.toLowerCase()]:this.spark.config}return{}}},logger:{deps:["spark","spark.logger"],fn:function(){return this.spark.logger||console}},spark:{deps:["parent"],fn:function(){if(!this.parent&&!this.collection)throw new Error("Cannot determine `this.spark` without `this.parent` or `this.collection`. Please initialize `this` via `children` or `collection` or set `this.parent` manually");for(var e=this;e.parent||e.collection;)e=e.parent||e.collection;return e}}},session:{parent:{type:"any"},ready:{default:!0,type:"boolean"}},clear:function(e){var t=this;return(0,o.default)(this.attributes).forEach(function(r){"parent"!==r&&t.unset(r,e)}),(0,o.default)(this._children).forEach(function(e){t[e].clear()}),(0,o.default)(this._collections).forEach(function(e){t[e].reset()}),this},initialize:function(){for(var e=this,t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];(0,i.default)(f.default.prototype.initialize,this,r),this._dataTypes=(0,s.default)(this._dataTypes),(0,o.default)(this._dataTypes).forEach(function(t){e._dataTypes[t].set&&(e._dataTypes[t].set=e._dataTypes[t].set.bind(e))}),this.on("change",function(t,r){e.parent&&e.parent.trigger("change:"+e.getNamespace().toLowerCase(),e.parent,e,r)})},inspect:function(e){return c.default.inspect((0,a.default)(this.serialize({props:!0,session:!0,derived:!0}),"boundedStorage","unboundedStorage","config","logger","spark","parent"),{depth:e})},request:function(){var e;return(e=this.spark).request.apply(e,arguments)},upload:function(){var e;return(e=this.spark).upload.apply(e,arguments)},when:function(e){for(var t=this,r=arguments.length,i=Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];if(i&&i.length>0)throw new Error("#when() does not accept a callback, you must attach to its promise");return new n.default(function(r){t.once(e,function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return r(t)})})},_filterSetParameters:function(e,t,r){var n=void 0;return(0,u.default)(e)||null===e?(n=e,r=t):(n={})[e]=t,[n,r=r||{}]}});
/*!
     * Copyright (c) 2015-2017 Cisco Systems, Inc. See LICENSE file.
     */t.default=p},function(e,t,r){var n=r(91),i=8;function o(e,t,r){var a=n(e,i,void 0,void 0,void 0,void 0,void 0,t=r?void 0:t);return a.placeholder=o.placeholder,a}o.placeholder={},e.exports=o},function(e,t,r){e.exports={default:r(905),__esModule:!0}},function(e,t,r){var n=r(209),i=r(943),o=r(4),a=r(441),u=r(133),s=[].slice;function c(e,t){if(t||(t={}),t.model&&(this.model=t.model),t.comparator&&(this.comparator=t.comparator),t.parent&&(this.parent=t.parent),!this.mainIndex){var r=this.model&&this.model.prototype&&this.model.prototype.idAttribute;this.mainIndex=r||"id"}this._reset(),this.initialize.apply(this,arguments),e&&this.reset(e,u({silent:!0},t))}u(c.prototype,n,{initialize:function(){},isModel:function(e){return this.model&&e instanceof this.model},add:function(e,t){return this.set(e,u({merge:!1,add:!0,remove:!1},t))},parse:function(e,t){return e},serialize:function(){return this.map(function(e){if(e.serialize)return e.serialize();var t={};return u(t,e),delete t.collection,t})},toJSON:function(){return this.serialize()},set:function(e,t){(t=u({add:!0,remove:!0,merge:!0},t)).parse&&(e=this.parse(e,t));var r,n,i,a,s,c,f,l=!o(e);e=l?e?[e]:[]:e.slice();var d=t.at,p=this.comparator&&null==d&&!1!==t.sort,h="string"==typeof this.comparator?this.comparator:null,v=[],g=[],y={},m=t.add,b=t.merge,_=t.remove,w=!(p||!m||!_)&&[],S=this.model&&this.model.prototype||Object.prototype;for(c=0,f=e.length;c<f;c++){if(i=e[c]||{},this.isModel(i)?r=n=i:S.generateId?r=S.generateId(i):void 0===(r=i[this.mainIndex])&&this._isDerivedIndex(S)&&(r=S._derived[this.mainIndex].fn.call(i)),a=this.get(r))_&&(y[a.cid||a[this.mainIndex]]=!0),b&&(i=i===n?n.attributes:i,t.parse&&(i=a.parse(i,t)),a.set?(a.set(i,t),p&&!s&&a.hasChanged(h)&&(s=!0)):u(a,i)),e[c]=a;else if(m){if(!(n=e[c]=this._prepareModel(i,t)))continue;v.push(n),this._addReference(n,t)}(n=a||n)&&(w&&(n.isNew&&n.isNew()||!n[this.mainIndex]||!y[n.cid||n[this.mainIndex]])&&w.push(n),y[n[this.mainIndex]]=!0)}if(_){for(c=0,f=this.length;c<f;c++)y[(n=this.models[c]).cid||n[this.mainIndex]]||g.push(n);for(g.length&&this.remove(g,t),c=0,f=v.length;c<f;c++)this._index(v[c])}if(v.length||w&&w.length)if(p&&(s=!0),null!=d)for(c=0,f=v.length;c<f;c++)this.models.splice(d+c,0,v[c]);else{var k=w||v;for(c=0,f=k.length;c<f;c++)this.models.push(k[c])}if(s&&this.sort({silent:!0}),!t.silent){for(c=0,f=v.length;c<f;c++)(n=v[c]).trigger?n.trigger("add",n,this,t):this.trigger("add",n,this,t);(s||w&&w.length)&&this.trigger("sort",this,t)}return l?e[0]:e},get:function(e,t){if(null!=e){var r=this.mainIndex,n=this._indexes[t||r];return n&&(n[e]||void 0!==e[r]&&n[e[r]])||this._indexes.cid[e]||this._indexes.cid[e.cid]}},at:function(e){return this.models[e]},remove:function(e,t){var r,n,i,a,u=!o(e);for(e=u?[e]:s.call(e),t||(t={}),r=0,n=e.length;r<n;r++)(i=e[r]=this.get(e[r]))&&(this._deIndex(i),a=this.models.indexOf(i),this.models.splice(a,1),t.silent||(t.index=a,i.trigger?i.trigger("remove",i,this,t):this.trigger("remove",i,this,t)),this._removeReference(i,t));return u?e[0]:e},reset:function(e,t){t||(t={});for(var r=0,n=this.models.length;r<n;r++)this._removeReference(this.models[r],t);return t.previousModels=this.models,this._reset(),e=this.add(e,u({silent:!0},t)),t.silent||this.trigger("reset",this,t),e},sort:function(e){var t=this;if(!this.comparator)throw new Error("Cannot sort a set without a comparator");return e||(e={}),"string"==typeof this.comparator?this.models.sort(function(e,r){return e.get?(e=e.get(t.comparator),r=r.get(t.comparator)):(e=e[t.comparator],r=r[t.comparator]),e>r||void 0===e?1:e<r||void 0===r?-1:0}):1===this.comparator.length?this.models.sort(function(e,r){return(e=t.comparator(e))>(r=t.comparator(r))||void 0===e?1:e<r||void 0===r?-1:0}):this.models.sort(a(this.comparator,this)),e.silent||this.trigger("sort",this,e),this},_reset:function(){var e=s.call(this.indexes||[]),t=0;e.push(this.mainIndex),e.push("cid");var r=e.length;for(this.models=[],this._indexes={};t<r;t++)this._indexes[e[t]]={}},_prepareModel:function(e,t){if(!this.model)return e;if(this.isModel(e))return e.collection||(e.collection=this),e;(t=t?u({},t):{}).collection=this;var r=new this.model(e,t);return r.validationError?(this.trigger("invalid",this,r.validationError,t),!1):r},_deIndex:function(e,t,r){var n;if(void 0===t)for(var i in this._indexes)n=e.hasOwnProperty(i)?e[i]:e.get&&e.get(i),delete this._indexes[i][n];else{if(void 0===this._indexes[t])throw new Error("Given attribute is not an index");delete this._indexes[t][r]}},_index:function(e,t){var r;if(void 0===t)for(var n in this._indexes)null!=(r=e.hasOwnProperty(n)?e[n]:e.get&&e.get(n))&&(this._indexes[n][r]=e);else{if(void 0===this._indexes[t])throw new Error("Given attribute is not an index");(r=e[t]||e.get&&e.get(t))&&(this._indexes[t][r]=e)}},_isDerivedIndex:function(e){return!(!e||"object"!=typeof e._derived)&&Object.keys(e._derived).indexOf(this.mainIndex)>=0},_addReference:function(e,t){this._index(e),e.collection||(e.collection=this),e.on&&e.on("all",this._onModelEvent,this)},_removeReference:function(e,t){this===e.collection&&delete e.collection,this._deIndex(e),e.off&&e.off("all",this._onModelEvent,this)},_onModelEvent:function(e,t,r,n){var i=e.split(":")[0],o=e.split(":")[1];("add"!==i&&"remove"!==i||r===this)&&("destroy"===i&&this.remove(t,n),t&&"change"===i&&o&&this._indexes[o]&&(this._deIndex(t,o,t.previousAttributes()[o]),this._index(t,o)),this.trigger.apply(this,arguments))}}),Object.defineProperties(c.prototype,{length:{get:function(){return this.models.length}},isCollection:{get:function(){return!0}}});["indexOf","lastIndexOf","every","some","forEach","map","filter","reduce","reduceRight"].forEach(function(e){c.prototype[e]=function(){return this.models[e].apply(this.models,arguments)}}),c.prototype.each=c.prototype.forEach,c.extend=i,e.exports=c},function(e,t,r){var n=r(948),i=r(949),o=i;o.v1=n,o.v4=i,e.exports=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.config=t.ServerErrorInterceptor=t.DeviceUrlInterceptor=t.UrlInterceptor=t.EmbargoInterceptor=t.ServiceModel=t.ServiceCollection=t.FeatureModel=t.FeatureCollection=t.FeaturesModel=t.Device=t.default=void 0;var n=r(957);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return w(n).default}}),Object.defineProperty(t,"Device",{enumerable:!0,get:function(){return w(n).default}});var i=r(458);Object.defineProperty(t,"FeaturesModel",{enumerable:!0,get:function(){return w(i).default}});var o=r(459);Object.defineProperty(t,"FeatureCollection",{enumerable:!0,get:function(){return w(o).default}});var a=r(460);Object.defineProperty(t,"FeatureModel",{enumerable:!0,get:function(){return w(a).default}});var u=r(461);Object.defineProperty(t,"ServiceCollection",{enumerable:!0,get:function(){return w(u).default}});var s=r(462);Object.defineProperty(t,"ServiceModel",{enumerable:!0,get:function(){return w(s).default}});var c=r(969);Object.defineProperty(t,"EmbargoInterceptor",{enumerable:!0,get:function(){return w(c).default}});var f=r(970);Object.defineProperty(t,"UrlInterceptor",{enumerable:!0,get:function(){return w(f).default}});var l=r(971);Object.defineProperty(t,"DeviceUrlInterceptor",{enumerable:!0,get:function(){return w(l).default}});var d=r(972);Object.defineProperty(t,"ServerErrorInterceptor",{enumerable:!0,get:function(){return w(d).default}});var p=r(973);Object.defineProperty(t,"config",{enumerable:!0,get:function(){return w(p).default}});var h=r(2),v=w(n),g=w(p),y=w(f),m=w(l),b=w(c),_=w(d);function w(e){return e&&e.__esModule?e:{default:e}}(0,h.registerInternalPlugin)("device",v.default,{interceptors:{UrlInterceptor:y.default.create,DeviceUrlInterceptor:m.default.create,EmbargoInterceptor:b.default.create,ServerErrorInterceptor:_.default.create},config:g.default,onBeforeLogout:function(){return this.unregister()}})},function(e,t,r){(function(e){function r(e){return Object.prototype.toString.call(e)}t.isArray=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===r(e)},t.isBoolean=function(e){return"boolean"==typeof e},t.isNull=function(e){return null===e},t.isNullOrUndefined=function(e){return null==e},t.isNumber=function(e){return"number"==typeof e},t.isString=function(e){return"string"==typeof e},t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=function(e){return void 0===e},t.isRegExp=function(e){return"[object RegExp]"===r(e)},t.isObject=function(e){return"object"==typeof e&&null!==e},t.isDate=function(e){return"[object Date]"===r(e)},t.isError=function(e){return"[object Error]"===r(e)||e instanceof Error},t.isFunction=function(e){return"function"==typeof e},t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=e.isBuffer}).call(this,r(157).Buffer)},function(e,t,r){var n=r(53),i=r(6),o=i["__core-js_shared__"]||(i["__core-js_shared__"]={});(e.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:n.version,mode:r(81)?"pure":"global",copyright:"© 2018 Denis Pushkarev (zloirock.ru)"})},function(e,t,r){var n=r(46),i=r(22),o=r(97);e.exports=function(e){return function(t,r,a){var u,s=n(t),c=i(s.length),f=o(a,c);if(e&&r!=r){for(;c>f;)if((u=s[f++])!=u)return!0}else for(;c>f;f++)if((e||f in s)&&s[f]===r)return e||f||0;return!e&&-1}}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,r){var n=r(55);e.exports=Array.isArray||function(e){return"Array"==n(e)}},function(e,t,r){var n=r(12),i=r(55),o=r(17)("match");e.exports=function(e){var t;return n(e)&&(void 0!==(t=e[o])?!!t:"RegExp"==i(e))}},function(e,t,r){var n=r(17)("iterator"),i=!1;try{var o=[7][n]();o.return=function(){i=!0},Array.from(o,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!i)return!1;var r=!1;try{var o=[7],a=o[n]();a.next=function(){return{done:r=!0}},o[n]=function(){return a},e(o)}catch(e){}return r}},function(e,t,r){"use strict";var n=r(3);e.exports=function(){var e=n(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},function(e,t,r){"use strict";var n=r(40),i=r(41),o=r(10),a=r(65),u=r(17);e.exports=function(e,t,r){var s=u(e),c=r(a,s,""[e]),f=c[0],l=c[1];o(function(){var t={};return t[s]=function(){return 7},7!=""[e](t)})&&(i(String.prototype,e,f),n(RegExp.prototype,s,2==t?function(e,t){return l.call(e,this,t)}:function(e){return l.call(e,this)}))}},function(e,t,r){var n=r(3),i=r(33),o=r(17)("species");e.exports=function(e,t){var r,a=n(e).constructor;return void 0===a||void 0==(r=n(a)[o])?t:i(r)}},function(e,t,r){var n=r(6).navigator;e.exports=n&&n.userAgent||""},function(e,t,r){"use strict";var n=r(6),i=r(0),o=r(41),a=r(103),u=r(80),s=r(102),c=r(101),f=r(12),l=r(10),d=r(174),p=r(117),h=r(226);e.exports=function(e,t,r,v,g,y){var m=n[e],b=m,_=g?"set":"add",w=b&&b.prototype,S={},k=function(e){var t=w[e];o(w,e,"delete"==e?function(e){return!(y&&!f(e))&&t.call(this,0===e?0:e)}:"has"==e?function(e){return!(y&&!f(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return y&&!f(e)?void 0:t.call(this,0===e?0:e)}:"add"==e?function(e){return t.call(this,0===e?0:e),this}:function(e,r){return t.call(this,0===e?0:e,r),this})};if("function"==typeof b&&(y||w.forEach&&!l(function(){(new b).entries().next()}))){var x=new b,E=x[_](y?{}:-0,1)!=x,T=l(function(){x.has(1)}),O=d(function(e){new b(e)}),P=!y&&l(function(){for(var e=new b,t=5;t--;)e[_](t,t);return!e.has(-0)});O||((b=t(function(t,r){c(t,b,e);var n=h(new m,t,b);return void 0!=r&&s(r,g,n[_],n),n})).prototype=w,w.constructor=b),(T||P)&&(k("delete"),k("has"),g&&k("get")),(P||E)&&k(_),y&&w.clear&&delete w.clear}else b=v.getConstructor(t,e,g,_),a(b.prototype,r),u.NEED=!0;return p(b,e),S[e]=b,i(i.G+i.W+i.F*(b!=m),S),y||v.setStrong(b,e,g),b}},function(e,t,r){for(var n,i=r(6),o=r(40),a=r(95),u=a("typed_array"),s=a("view"),c=!(!i.ArrayBuffer||!i.DataView),f=c,l=0,d="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");l<9;)(n=i[d[l++]])?(o(n.prototype,u,!0),o(n.prototype,s,!0)):f=!1;e.exports={ABV:c,CONSTR:f,TYPED:u,VIEW:s}},function(e,t,r){"use strict";e.exports=r(81)||!r(10)(function(){var e=Math.random();__defineSetter__.call(null,e,function(){}),delete r(6)[e]})},function(e,t,r){"use strict";var n=r(0);e.exports=function(e){n(n.S,e,{of:function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];return new this(t)}})}},function(e,t,r){"use strict";var n=r(0),i=r(33),o=r(54),a=r(102);e.exports=function(e){n(n.S,e,{from:function(e){var t,r,n,u,s=arguments[1];return i(this),(t=void 0!==s)&&i(s),void 0==e?new this:(r=[],t?(n=0,u=o(s,arguments[2],2),a(e,!1,function(e){r.push(u(e,n++))})):a(e,!1,r.push,r),new this(r))}})}},function(e,t,r){var n=r(34);e.exports=function(e,t){if(!n(e))return e;var r,i;if(t&&"function"==typeof(r=e.toString)&&!n(i=r.call(e)))return i;if("function"==typeof(r=e.valueOf)&&!n(i=r.call(e)))return i;if(!t&&"function"==typeof(r=e.toString)&&!n(i=r.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},function(e,t,r){var n=r(249),i=Math.min;e.exports=function(e){return e>0?i(n(e),9007199254740991):0}},function(e,t){var r=0,n=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++r+n).toString(36))}},function(e,t,r){var n=r(139),i=r(35)("toStringTag"),o="Arguments"==n(function(){return arguments}());e.exports=function(e){var t,r,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),i))?r:o?n(t):"Object"==(a=n(t))&&"function"==typeof t.callee?"Arguments":a}},function(e,t){e.exports=function(e,t,r,n){if(!(e instanceof t)||void 0!==n&&n in e)throw TypeError(r+": incorrect invocation!");return e}},function(e,t,r){var n=r(86);e.exports=function(e,t,r){for(var i in t)r&&e[i]?e[i]=t[i]:n(e,i,t[i]);return e}},function(e,t,r){var n=r(191),i=r(744),o=r(745),a=r(746),u=r(747),s=r(748);function c(e){var t=this.__data__=new n(e);this.size=t.size}c.prototype.clear=i,c.prototype.delete=o,c.prototype.get=a,c.prototype.has=u,c.prototype.set=s,e.exports=c},function(e,t,r){var n=r(739),i=r(740),o=r(741),a=r(742),u=r(743);function s(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}s.prototype.clear=n,s.prototype.delete=i,s.prototype.get=o,s.prototype.has=a,s.prototype.set=u,e.exports=s},function(e,t,r){var n=r(125);e.exports=function(e,t){for(var r=e.length;r--;)if(n(e[r][0],t))return r;return-1}},function(e,t,r){var n=r(109)(Object,"create");e.exports=n},function(e,t,r){var n=r(763);e.exports=function(e,t){var r=e.__data__;return n(t)?r["string"==typeof t?"string":"hash"]:r.map}},function(e,t,r){var n=r(127),i=r(125),o=Object.prototype.hasOwnProperty;e.exports=function(e,t,r){var a=e[t];o.call(e,t)&&i(a,r)&&(void 0!==r||t in e)||n(e,t,r)}},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,r){var n=r(771),i=r(111),o=r(198),a=o&&o.isTypedArray,u=a?i(a):n;e.exports=u},function(e,t,r){(function(e){var n=r(364),i="object"==typeof t&&t&&!t.nodeType&&t,o=i&&"object"==typeof e&&e&&!e.nodeType&&e,a=o&&o.exports===i&&n.process,u=function(){try{var e=o&&o.require&&o.require("util").types;return e||a&&a.binding&&a.binding("util")}catch(e){}}();e.exports=u}).call(this,r(196)(e))},function(e,t){e.exports=function(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}},function(e,t,r){var n=r(19),i=Object.create,o=function(){function e(){}return function(t){if(!n(t))return{};if(i)return i(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}();e.exports=o},function(e,t,r){var n=r(260),i="Expected a function";function o(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(i);var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var a=e.apply(this,n);return r.cache=o.set(i,a)||o,a};return r.cache=new(o.Cache||n),r}o.Cache=n,e.exports=o},function(e,t){e.exports=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}},function(e,t,r){var n=r(87),i=r(88);e.exports=function(e,t){for(var r=0,o=(t=n(t,e)).length;null!=e&&r<o;)e=e[i(t[r++])];return r&&r==o?e:void 0}},function(e,t,r){var n=r(793),i=r(383),o=r(269);e.exports=function(e){return o(i(e,void 0,n),e+"")}},function(e,t,r){var n=r(368),i=r(153),o=r(147),a=r(4),u=r(59),s=r(148),c=r(150),f=r(197),l="[object Map]",d="[object Set]",p=Object.prototype.hasOwnProperty;e.exports=function(e){if(null==e)return!0;if(u(e)&&(a(e)||"string"==typeof e||"function"==typeof e.splice||s(e)||f(e)||o(e)))return!e.length;var t=i(e);if(t==l||t==d)return!e.size;if(c(e))return!n(e).length;for(var r in e)if(p.call(e,r))return!1;return!0}},function(e,t,r){var n=r(26),i=r(91),o=r(160),a=r(131),u=n(function(e,t){var r=a(t,o(u));return i(e,32,void 0,t,r)});u.placeholder={},e.exports=u},function(e,t,r){var n=r(200),i=r(19);e.exports=function(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var r=n(e.prototype),o=e.apply(r,t);return i(o)?o:r}}},function(e,t,r){var n=r(59),i=r(38);e.exports=function(e){return i(e)&&n(e)}},function(e,t,r){var n=r(427),i=r(70),o=r(205),a=r(133),u=r(296),s=Array.prototype.slice,c=r(893),f={on:function(e,t,r){return c.eventsApi(this,"on",e,[t,r])&&t?(this._events||(this._events={}),(this._events[e]||(this._events[e]=[])).push({callback:t,context:r,ctx:r||this}),this):this},once:function(e,t,r){if(!c.eventsApi(this,"once",e,[t,r])||!t)return this;var i=this,o=n(function(){i.off(e,o),t.apply(this,arguments)});return o._callback=t,this.on(e,o,r)},off:function(e,t,r){var n,o,a,u,s,f,l,d;if(!this._events||!c.eventsApi(this,"off",e,[t,r]))return this;if(!e&&!t&&!r)return this._events=void 0,this;for(s=0,f=(u=e?[e]:i(this._events)).length;s<f;s++)if(e=u[s],a=this._events[e]){if(this._events[e]=n=[],t||r)for(l=0,d=a.length;l<d;l++)o=a[l],(t&&t!==o.callback&&t!==o.callback._callback||r&&r!==o.context)&&n.push(o);n.length||delete this._events[e]}return this},trigger:function(e){if(!this._events)return this;var t=s.call(arguments,1);if(!c.eventsApi(this,"trigger",e,t))return this;var r=this._events[e],n=this._events.all;return r&&c.triggerEvents(r,t),n&&c.triggerEvents(n,arguments),this},stopListening:function(e,t,r){var n=this._listeningTo;if(!n)return this;var i=!t&&!r;r||"object"!=typeof t||(r=this),e&&((n={})[e._listenId]=e);var a=this;return u(n,function(e,n){e.off(t,r,a),(i||o(e._events))&&delete a._listeningTo[n]}),this},createEmitter:function(e){return a(e||{},f)},listenTo:c.createListenMethod("on"),listenToOnce:c.createListenMethod("once"),listenToAndRun:function(e,t,r){return this.listenTo.apply(this,arguments),r||"object"!=typeof t||(r=this),r.apply(this),this}};f.bind=f.on,f.unbind=f.off,f.removeListener=f.off,f.removeAllListeners=f.off,f.emit=f.trigger,e.exports=f},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(429);Object.defineProperty(t,"persist",{enumerable:!0,get:function(){return n.persist}}),Object.defineProperty(t,"waitForValue",{enumerable:!0,get:function(){return n.waitForValue}});var i=r(902);Object.defineProperty(t,"makeSparkStore",{enumerable:!0,get:function(){return s(i).default}});var o=r(903);Object.defineProperty(t,"makeSparkPluginStore",{enumerable:!0,get:function(){return s(o).default}});var a=r(904);Object.defineProperty(t,"MemoryStoreAdapter",{enumerable:!0,get:function(){return s(a).default}});var u=r(212);function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"StorageError",{enumerable:!0,get:function(){return u.StorageError}}),Object.defineProperty(t,"NotFoundError",{enumerable:!0,get:function(){return u.NotFoundError}})},function(e,t,r){var n=r(19),i=r(901),o=r(286),a="Expected a function",u=Math.max,s=Math.min;e.exports=function(e,t,r){var c,f,l,d,p,h,v=0,g=!1,y=!1,m=!0;if("function"!=typeof e)throw new TypeError(a);function b(t){var r=c,n=f;return c=f=void 0,v=t,d=e.apply(n,r)}function _(e){var r=e-h;return void 0===h||r>=t||r<0||y&&e-v>=l}function w(){var e=i();if(_(e))return S(e);p=setTimeout(w,function(e){var r=t-(e-h);return y?s(r,l-(e-v)):r}(e))}function S(e){return p=void 0,m&&c?b(e):(c=f=void 0,d)}function k(){var e=i(),r=_(e);if(c=arguments,f=this,h=e,r){if(void 0===p)return function(e){return v=e,p=setTimeout(w,t),g?b(e):d}(h);if(y)return p=setTimeout(w,t),b(h)}return void 0===p&&(p=setTimeout(w,t)),d}return t=o(t)||0,n(r)&&(g=!!r.leading,l=(y="maxWait"in r)?u(o(r.maxWait)||0,t):l,m="trailing"in r?!!r.trailing:m),k.cancel=function(){void 0!==p&&clearTimeout(p),v=0,c=h=f=p=void 0},k.flush=function(){return void 0===p?d:S(i())},k}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NotFoundError=t.StorageError=void 0;var n=s(r(14)),i=s(r(8)),o=s(r(15)),a=s(r(16)),u=r(13);function s(e){return e&&e.__esModule?e:{default:e}}var c=t.StorageError=function(e){function t(){return(0,i.default)(this,t),(0,o.default)(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return(0,a.default)(t,e),t}(u.Exception);
/*!
 * Copyright (c) 2015-2017 Cisco Systems, Inc. See LICENSE file.
 */t.NotFoundError=function(e){function t(){return(0,i.default)(this,t),(0,o.default)(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return(0,a.default)(t,e),t}(c)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(r(135)),i=l(r(24)),o=l(r(14)),a=l(r(8)),u=l(r(11)),s=l(r(15)),c=l(r(16)),f=r(28);function l(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(){return(0,a.default)(this,t),(0,s.default)(this,(t.__proto__||(0,o.default)(t)).apply(this,arguments))}return(0,c.default)(t,e),(0,u.default)(t,[{key:"parse",value:function(e){var t=(0,i.default)(f.HttpError.prototype.parse,this,[e]);return(0,n.default)(this,"options",{enumerable:!1,value:e.options}),this.options.url?t+="\n"+this.options.method+" "+this.options.url:this.options.uri?t+="\n"+this.options.method+" "+this.options.uri:t+="\n"+this.options.method+" "+this.options.service.toUpperCase()+"/"+this.options.resource,t+="\nWEBEX_TRACKING_ID: "+this.options.headers.trackingid,this.options.headers&&this.options.headers["x-trans-id"]&&(t+="\nX-Trans-Id: "+this.options.headers["x-trans-id"]),this.headers["retry-after"]&&((0,n.default)(this,"retryAfter",{enumerable:!0,value:this.headers["retry-after"],writeable:!1}),t+="\nRETRY-AFTER: "+this.retryAfter),t+="\n"}}]),t}(f.HttpError);
/*!
                         * Copyright (c) 2015-2017 Cisco Systems, Inc. See LICENSE file.
                         */t.default=d,f.HttpError.makeSubTypes(d);var p=function(e){function t(){return(0,a.default)(this,t),(0,s.default)(this,(t.__proto__||(0,o.default)(t)).apply(this,arguments))}return(0,c.default)(t,e),t}(f.HttpError.BadRequest);f.HttpError[429]=p,f.HttpError.TooManyRequests=p},function(e,t,r){var n=r(945),i=r(416)(function(e,t,r){n(e,t,r)});e.exports=i},function(e,t,r){var n=r(959)(r(967));e.exports=n},function(e,t,r){var n=r(1086),i=r(1087),o=r(52),a=r(4);e.exports=function(e,t){return function(r,u){var s=a(r)?n:i,c=t?t():{};return s(r,e,o(u,2),c)}}},function(e,t,r){"use strict";(function(t){!t.version||0===t.version.indexOf("v0.")||0===t.version.indexOf("v1.")&&0!==t.version.indexOf("v1.8.")?e.exports={nextTick:function(e,r,n,i){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var o,a,u=arguments.length;switch(u){case 0:case 1:return t.nextTick(e);case 2:return t.nextTick(function(){e.call(null,r)});case 3:return t.nextTick(function(){e.call(null,r,n)});case 4:return t.nextTick(function(){e.call(null,r,n,i)});default:for(o=new Array(u-1),a=0;a<o.length;)o[a++]=arguments[a];return t.nextTick(function(){e.apply(null,o)})}}}:e.exports=t}).call(this,r(23))},function(e,t,r){var n=r(157),i=n.Buffer;function o(e,t){for(var r in e)t[r]=e[r]}function a(e,t,r){return i(e,t,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=n:(o(n,t),t.Buffer=a),o(i,a),a.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,r)},a.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");var n=i(e);return void 0!==t?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},a.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},a.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}},function(e,t,r){var n=r(12),i=r(6).document,o=n(i)&&n(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},function(e,t,r){var n=r(6),i=r(53),o=r(81),a=r(315),u=r(21).f;e.exports=function(e){var t=i.Symbol||(i.Symbol=o?{}:n.Symbol||{});"_"==e.charAt(0)||e in t||u(t,e,{value:a.f(e)})}},function(e,t,r){var n=r(169)("keys"),i=r(95);e.exports=function(e){return n[e]||(n[e]=i(e))}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,r){var n=r(6).document;e.exports=n&&n.documentElement},function(e,t,r){var n=r(12),i=r(3),o=function(e,t){if(i(e),!n(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,n){try{(n=r(54)(Function.call,r(47).f(Object.prototype,"__proto__").set,2))(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,r){return o(e,r),t?e.__proto__=r:n(e,r),e}}({},!1):void 0),check:o}},function(e,t){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},function(e,t,r){var n=r(12),i=r(224).set;e.exports=function(e,t,r){var o,a=t.constructor;return a!==r&&"function"==typeof a&&(o=a.prototype)!==r.prototype&&n(o)&&i&&i(e,o),e}},function(e,t,r){"use strict";var n=r(66),i=r(65);e.exports=function(e){var t=String(i(this)),r="",o=n(e);if(o<0||o==1/0)throw RangeError("Count can't be negative");for(;o>0;(o>>>=1)&&(t+=t))1&o&&(r+=t);return r}},function(e,t){e.exports=Math.sign||function(e){return 0==(e=+e)||e!=e?e:e<0?-1:1}},function(e,t){var r=Math.expm1;e.exports=!r||r(10)>22025.465794806718||r(10)<22025.465794806718||-2e-17!=r(-2e-17)?function(e){return 0==(e=+e)?e:e>-1e-6&&e<1e-6?e+e*e/2:Math.exp(e)-1}:r},function(e,t,r){var n=r(66),i=r(65);e.exports=function(e){return function(t,r){var o,a,u=String(i(t)),s=n(r),c=u.length;return s<0||s>=c?e?"":void 0:(o=u.charCodeAt(s))<55296||o>56319||s+1===c||(a=u.charCodeAt(s+1))<56320||a>57343?e?u.charAt(s):o:e?u.slice(s,s+2):a-56320+(o-55296<<10)+65536}}},function(e,t,r){"use strict";var n=r(81),i=r(0),o=r(41),a=r(40),u=r(119),s=r(232),c=r(117),f=r(48),l=r(17)("iterator"),d=!([].keys&&"next"in[].keys()),p=function(){return this};e.exports=function(e,t,r,h,v,g,y){s(r,t,h);var m,b,_,w=function(e){if(!d&&e in E)return E[e];switch(e){case"keys":case"values":return function(){return new r(this,e)}}return function(){return new r(this,e)}},S=t+" Iterator",k="values"==v,x=!1,E=e.prototype,T=E[l]||E["@@iterator"]||v&&E[v],O=T||w(v),P=v?k?w("entries"):O:void 0,C="Array"==t&&E.entries||T;if(C&&(_=f(C.call(new e)))!==Object.prototype&&_.next&&(c(_,S,!0),n||"function"==typeof _[l]||a(_,l,p)),k&&T&&"values"!==T.name&&(x=!0,O=function(){return T.call(this)}),n&&!y||!d&&!x&&E[l]||a(E,l,O),u[t]=O,u[S]=p,v)if(m={values:k?O:w("values"),keys:g?O:w("keys"),entries:P},y)for(b in m)b in E||o(E,b,m[b]);else i(i.P+i.F*(d||x),t,m);return m}},function(e,t,r){"use strict";var n=r(98),i=r(94),o=r(117),a={};r(40)(a,r(17)("iterator"),function(){return this}),e.exports=function(e,t,r){e.prototype=n(a,{next:i(1,r)}),o(e,t+" Iterator")}},function(e,t,r){var n=r(173),i=r(65);e.exports=function(e,t,r){if(n(t))throw TypeError("String#"+r+" doesn't accept regex!");return String(i(e))}},function(e,t,r){var n=r(17)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(r){try{return t[n]=!1,!"/./"[e](t)}catch(e){}}return!0}},function(e,t,r){var n=r(119),i=r(17)("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(n.Array===e||o[i]===e)}},function(e,t,r){"use strict";var n=r(21),i=r(94);e.exports=function(e,t,r){t in e?n.f(e,t,i(0,r)):e[t]=r}},function(e,t,r){var n=r(138),i=r(17)("iterator"),o=r(119);e.exports=r(53).getIteratorMethod=function(e){if(void 0!=e)return e[i]||e["@@iterator"]||o[n(e)]}},function(e,t,r){var n=r(604);e.exports=function(e,t){return new(n(e))(t)}},function(e,t,r){"use strict";var n=r(25),i=r(97),o=r(22);e.exports=function(e){for(var t=n(this),r=o(t.length),a=arguments.length,u=i(a>1?arguments[1]:void 0,r),s=a>2?arguments[2]:void 0,c=void 0===s?r:i(s,r);c>u;)t[u++]=e;return t}},function(e,t,r){"use strict";var n=r(82),i=r(331),o=r(119),a=r(46);e.exports=r(231)(Array,"Array",function(e,t){this._t=a(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,r=this._i++;return!e||r>=e.length?(this._t=void 0,i(1)):i(0,"keys"==t?r:"values"==t?e[r]:[r,e[r]])},"values"),o.Arguments=o.Array,n("keys"),n("values"),n("entries")},function(e,t,r){var n,i,o,a=r(54),u=r(321),s=r(223),c=r(219),f=r(6),l=f.process,d=f.setImmediate,p=f.clearImmediate,h=f.MessageChannel,v=f.Dispatch,g=0,y={},m=function(){var e=+this;if(y.hasOwnProperty(e)){var t=y[e];delete y[e],t()}},b=function(e){m.call(e.data)};d&&p||(d=function(e){for(var t=[],r=1;arguments.length>r;)t.push(arguments[r++]);return y[++g]=function(){u("function"==typeof e?e:Function(e),t)},n(g),g},p=function(e){delete y[e]},"process"==r(55)(l)?n=function(e){l.nextTick(a(m,e,1))}:v&&v.now?n=function(e){v.now(a(m,e,1))}:h?(o=(i=new h).port2,i.port1.onmessage=b,n=a(o.postMessage,o,1)):f.addEventListener&&"function"==typeof postMessage&&!f.importScripts?(n=function(e){f.postMessage(e+"","*")},f.addEventListener("message",b,!1)):n="onreadystatechange"in c("script")?function(e){s.appendChild(c("script")).onreadystatechange=function(){s.removeChild(this),m.call(e)}}:function(e){setTimeout(a(m,e,1),0)}),e.exports={set:d,clear:p}},function(e,t,r){var n=r(6),i=r(241).set,o=n.MutationObserver||n.WebKitMutationObserver,a=n.process,u=n.Promise,s="process"==r(55)(a);e.exports=function(){var e,t,r,c=function(){var n,i;for(s&&(n=a.domain)&&n.exit();e;){i=e.fn,e=e.next;try{i()}catch(n){throw e?r():t=void 0,n}}t=void 0,n&&n.enter()};if(s)r=function(){a.nextTick(c)};else if(!o||n.navigator&&n.navigator.standalone)if(u&&u.resolve){var f=u.resolve(void 0);r=function(){f.then(c)}}else r=function(){i.call(n,c)};else{var l=!0,d=document.createTextNode("");new o(c).observe(d,{characterData:!0}),r=function(){d.data=l=!l}}return function(n){var i={fn:n,next:void 0};t&&(t.next=i),e||(e=i,r()),t=i}}},function(e,t,r){"use strict";var n=r(33);e.exports.f=function(e){return new function(e){var t,r;this.promise=new e(function(e,n){if(void 0!==t||void 0!==r)throw TypeError("Bad Promise constructor");t=e,r=n}),this.resolve=n(t),this.reject=n(r)}(e)}},function(e,t,r){"use strict";var n=r(6),i=r(20),o=r(81),a=r(180),u=r(40),s=r(103),c=r(10),f=r(101),l=r(66),d=r(22),p=r(340),h=r(99).f,v=r(21).f,g=r(239),y=r(117),m="prototype",b="Wrong index!",_=n.ArrayBuffer,w=n.DataView,S=n.Math,k=n.RangeError,x=n.Infinity,E=_,T=S.abs,O=S.pow,P=S.floor,C=S.log,M=S.LN2,j=i?"_b":"buffer",R=i?"_l":"byteLength",A=i?"_o":"byteOffset";function I(e,t,r){var n,i,o,a=new Array(r),u=8*r-t-1,s=(1<<u)-1,c=s>>1,f=23===t?O(2,-24)-O(2,-77):0,l=0,d=e<0||0===e&&1/e<0?1:0;for((e=T(e))!=e||e===x?(i=e!=e?1:0,n=s):(n=P(C(e)/M),e*(o=O(2,-n))<1&&(n--,o*=2),(e+=n+c>=1?f/o:f*O(2,1-c))*o>=2&&(n++,o/=2),n+c>=s?(i=0,n=s):n+c>=1?(i=(e*o-1)*O(2,t),n+=c):(i=e*O(2,c-1)*O(2,t),n=0));t>=8;a[l++]=255&i,i/=256,t-=8);for(n=n<<t|i,u+=t;u>0;a[l++]=255&n,n/=256,u-=8);return a[--l]|=128*d,a}function D(e,t,r){var n,i=8*r-t-1,o=(1<<i)-1,a=o>>1,u=i-7,s=r-1,c=e[s--],f=127&c;for(c>>=7;u>0;f=256*f+e[s],s--,u-=8);for(n=f&(1<<-u)-1,f>>=-u,u+=t;u>0;n=256*n+e[s],s--,u-=8);if(0===f)f=1-a;else{if(f===o)return n?NaN:c?-x:x;n+=O(2,t),f-=a}return(c?-1:1)*n*O(2,f-t)}function L(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]}function N(e){return[255&e]}function F(e){return[255&e,e>>8&255]}function U(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]}function z(e){return I(e,52,8)}function q(e){return I(e,23,4)}function B(e,t,r){v(e[m],t,{get:function(){return this[r]}})}function W(e,t,r,n){var i=p(+r);if(i+t>e[R])throw k(b);var o=e[j]._b,a=i+e[A],u=o.slice(a,a+t);return n?u:u.reverse()}function G(e,t,r,n,i,o){var a=p(+r);if(a+t>e[R])throw k(b);for(var u=e[j]._b,s=a+e[A],c=n(+i),f=0;f<t;f++)u[s+f]=c[o?f:t-f-1]}if(a.ABV){if(!c(function(){_(1)})||!c(function(){new _(-1)})||c(function(){return new _,new _(1.5),new _(NaN),"ArrayBuffer"!=_.name})){for(var V,H=(_=function(e){return f(this,_),new E(p(e))})[m]=E[m],J=h(E),Y=0;J.length>Y;)(V=J[Y++])in _||u(_,V,E[V]);o||(H.constructor=_)}var $=new w(new _(2)),K=w[m].setInt8;$.setInt8(0,2147483648),$.setInt8(1,2147483649),!$.getInt8(0)&&$.getInt8(1)||s(w[m],{setInt8:function(e,t){K.call(this,e,t<<24>>24)},setUint8:function(e,t){K.call(this,e,t<<24>>24)}},!0)}else _=function(e){f(this,_,"ArrayBuffer");var t=p(e);this._b=g.call(new Array(t),0),this[R]=t},w=function(e,t,r){f(this,w,"DataView"),f(e,_,"DataView");var n=e[R],i=l(t);if(i<0||i>n)throw k("Wrong offset!");if(i+(r=void 0===r?n-i:d(r))>n)throw k("Wrong length!");this[j]=e,this[A]=i,this[R]=r},i&&(B(_,"byteLength","_l"),B(w,"buffer","_b"),B(w,"byteLength","_l"),B(w,"byteOffset","_o")),s(w[m],{getInt8:function(e){return W(this,1,e)[0]<<24>>24},getUint8:function(e){return W(this,1,e)[0]},getInt16:function(e){var t=W(this,2,e,arguments[1]);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=W(this,2,e,arguments[1]);return t[1]<<8|t[0]},getInt32:function(e){return L(W(this,4,e,arguments[1]))},getUint32:function(e){return L(W(this,4,e,arguments[1]))>>>0},getFloat32:function(e){return D(W(this,4,e,arguments[1]),23,4)},getFloat64:function(e){return D(W(this,8,e,arguments[1]),52,8)},setInt8:function(e,t){G(this,1,e,N,t)},setUint8:function(e,t){G(this,1,e,N,t)},setInt16:function(e,t){G(this,2,e,F,t,arguments[2])},setUint16:function(e,t){G(this,2,e,F,t,arguments[2])},setInt32:function(e,t){G(this,4,e,U,t,arguments[2])},setUint32:function(e,t){G(this,4,e,U,t,arguments[2])},setFloat32:function(e,t){G(this,4,e,q,t,arguments[2])},setFloat64:function(e,t){G(this,8,e,z,t,arguments[2])}});y(_,"ArrayBuffer"),y(w,"DataView"),u(w[m],a.VIEW,!0),t.ArrayBuffer=_,t.DataView=w},function(e,t,r){var n=r(139);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==n(e)?e.split(""):Object(e)}},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,r){var n=r(34),i=r(27).document,o=n(i)&&n(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},function(e,t,r){var n=r(18),i=r(7),o=r(58);e.exports=function(e,t){var r=(i.Object||{})[e]||Object[e],a={};a[e]=t(r),n(n.S+n.F*o(function(){r(1)}),"Object",a)}},function(e,t){var r=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?n:r)(e)}},function(e,t,r){"use strict";var n=r(144),i=r(18),o=r(251),a=r(86),u=r(121),s=r(724),c=r(146),f=r(352),l=r(35)("iterator"),d=!([].keys&&"next"in[].keys()),p=function(){return this};e.exports=function(e,t,r,h,v,g,y){s(r,t,h);var m,b,_,w=function(e){if(!d&&e in E)return E[e];switch(e){case"keys":case"values":return function(){return new r(this,e)}}return function(){return new r(this,e)}},S=t+" Iterator",k="values"==v,x=!1,E=e.prototype,T=E[l]||E["@@iterator"]||v&&E[v],O=T||w(v),P=v?k?w("entries"):O:void 0,C="Array"==t&&E.entries||T;if(C&&(_=f(C.call(new e)))!==Object.prototype&&_.next&&(c(_,S,!0),n||"function"==typeof _[l]||a(_,l,p)),k&&T&&"values"!==T.name&&(x=!0,O=function(){return T.call(this)}),n&&!y||!d&&!x&&E[l]||a(E,l,O),u[t]=O,u[S]=p,v)if(m={values:k?O:w("values"),keys:g?O:w("keys"),entries:P},y)for(b in m)b in E||o(E,b,m[b]);else i(i.P+i.F*(d||x),t,m);return m}},function(e,t,r){e.exports=r(86)},function(e,t,r){var n=r(253)("keys"),i=r(186);e.exports=function(e){return n[e]||(n[e]=i(e))}},function(e,t,r){var n=r(7),i=r(27),o=i["__core-js_shared__"]||(i["__core-js_shared__"]={});(e.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:n.version,mode:r(144)?"pure":"global",copyright:"© 2018 Denis Pushkarev (zloirock.ru)"})},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,r){var n=r(187),i=r(35)("iterator"),o=r(121);e.exports=r(7).getIteratorMethod=function(e){if(void 0!=e)return e[i]||e["@@iterator"]||o[n(e)]}},function(e,t,r){"use strict";var n=r(85);e.exports.f=function(e){return new function(e){var t,r;this.promise=new e(function(e,n){if(void 0!==t||void 0!==r)throw TypeError("Bad Promise constructor");t=e,r=n}),this.resolve=n(t),this.reject=n(r)}(e)}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,r){var n=r(190),i=r(261),o=r(195),a=r(767),u=r(773),s=r(370),c=r(152),f=r(776),l=r(777),d=r(373),p=r(375),h=r(153),v=r(780),g=r(781),y=r(380),m=r(4),b=r(148),_=r(785),w=r(19),S=r(787),k=r(70),x=1,E=2,T=4,O="[object Arguments]",P="[object Function]",C="[object GeneratorFunction]",M="[object Object]",j={};j[O]=j["[object Array]"]=j["[object ArrayBuffer]"]=j["[object DataView]"]=j["[object Boolean]"]=j["[object Date]"]=j["[object Float32Array]"]=j["[object Float64Array]"]=j["[object Int8Array]"]=j["[object Int16Array]"]=j["[object Int32Array]"]=j["[object Map]"]=j["[object Number]"]=j[M]=j["[object RegExp]"]=j["[object Set]"]=j["[object String]"]=j["[object Symbol]"]=j["[object Uint8Array]"]=j["[object Uint8ClampedArray]"]=j["[object Uint16Array]"]=j["[object Uint32Array]"]=!0,j["[object Error]"]=j[P]=j["[object WeakMap]"]=!1,e.exports=function e(t,r,R,A,I,D){var L,N=r&x,F=r&E,U=r&T;if(R&&(L=I?R(t,A,I,D):R(t)),void 0!==L)return L;if(!w(t))return t;var z=m(t);if(z){if(L=v(t),!N)return c(t,L)}else{var q=h(t),B=q==P||q==C;if(b(t))return s(t,N);if(q==M||q==O||B&&!I){if(L=F||B?{}:y(t),!N)return F?l(t,u(L,t)):f(t,a(L,t))}else{if(!j[q])return I?t:{};L=g(t,q,N)}}D||(D=new n);var W=D.get(t);if(W)return W;if(D.set(t,L),S(t))return t.forEach(function(n){L.add(e(n,r,R,n,t,D))}),L;if(_(t))return t.forEach(function(n,i){L.set(i,e(n,r,R,i,t,D))}),L;var G=U?F?p:d:F?keysIn:k,V=z?void 0:G(t);return i(V||t,function(n,i){V&&(n=t[i=n]),o(L,i,e(n,r,R,i,t,D))}),L}},function(e,t,r){var n=r(109)(r(37),"Map");e.exports=n},function(e,t,r){var n=r(755),i=r(762),o=r(764),a=r(765),u=r(766);function s(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}s.prototype.clear=n,s.prototype.delete=i,s.prototype.get=o,s.prototype.has=a,s.prototype.set=u,e.exports=s},function(e,t){e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n&&!1!==t(e[r],r,e););return e}},function(e,t){var r=9007199254740991;e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=r}},function(e,t,r){var n=r(264),i=r(371),o=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,u=a?function(e){return null==e?[]:(e=Object(e),n(a(e),function(t){return o.call(e,t)}))}:i;e.exports=u},function(e,t){e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length,i=0,o=[];++r<n;){var a=e[r];t(a,r,e)&&(o[i++]=a)}return o}},function(e,t,r){var n=r(369)(Object.getPrototypeOf,Object);e.exports=n},function(e,t,r){var n=r(378);e.exports=function(e){var t=new e.constructor(e.byteLength);return new n(t).set(new n(e)),t}},function(e,t,r){var n=r(4),i=r(128),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;e.exports=function(e,t){if(n(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!i(e))||a.test(e)||!o.test(e)||null!=t&&e in Object(t)}},function(e,t,r){var n=r(69),i=r(265),o=r(38),a="[object Object]",u=Function.prototype,s=Object.prototype,c=u.toString,f=s.hasOwnProperty,l=c.call(Object);e.exports=function(e){if(!o(e)||n(e)!=a)return!1;var t=i(e);if(null===t)return!0;var r=f.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&c.call(r)==l}},function(e,t,r){var n=r(795),i=r(384)(n);e.exports=i},function(e,t,r){"use strict";t.decode=t.parse=r(797),t.encode=t.stringify=r(798)},function(e,t,r){e.exports={default:r(810),__esModule:!0}},function(e,t,r){var n=r(76),i=r(245),o=r(123),a=r(185),u=r(814);e.exports=function(e,t){var r=1==e,s=2==e,c=3==e,f=4==e,l=6==e,d=5==e||l,p=t||u;return function(t,u,h){for(var v,g,y=o(t),m=i(y),b=n(u,h,3),_=a(m.length),w=0,S=r?p(t,_):s?p(t,0):void 0;_>w;w++)if((d||w in m)&&(g=b(v=m[w],w,y),e))if(r)S[w]=g;else if(g)switch(e){case 3:return!0;case 5:return v;case 6:return w;case 2:S.push(v)}else if(f)return!1;return l?-1:c||f?f:S}}},function(e,t,r){"use strict";var n=r(27),i=r(18),o=r(158),a=r(58),u=r(86),s=r(189),c=r(124),f=r(188),l=r(34),d=r(146),p=r(50).f,h=r(272)(0),v=r(57);e.exports=function(e,t,r,g,y,m){var b=n[e],_=b,w=y?"set":"add",S=_&&_.prototype,k={};return v&&"function"==typeof _&&(m||S.forEach&&!a(function(){(new _).entries().next()}))?(_=t(function(t,r){f(t,_,e,"_c"),t._c=new b,void 0!=r&&c(r,y,t[w],t)}),h("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),function(e){var t="add"==e||"set"==e;e in S&&(!m||"clear"!=e)&&u(_.prototype,e,function(r,n){if(f(this,_,e),!t&&m&&!l(r))return"get"==e&&void 0;var i=this._c[e](0===r?0:r,n);return t?this:i})}),m||p(_.prototype,"size",{get:function(){return this._c.size}})):(_=g.getConstructor(t,e,y,w),s(_.prototype,r),o.NEED=!0),d(_,e),k[e]=_,i(i.G+i.W+i.F,k),m||g.setStrong(_,e,y),_}},function(e,t,r){"use strict";var n=r(18);e.exports=function(e){n(n.S,e,{of:function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];return new this(t)}})}},function(e,t,r){"use strict";var n=r(18),i=r(85),o=r(76),a=r(124);e.exports=function(e){n(n.S,e,{from:function(e){var t,r,n,u,s=arguments[1];return i(this),(t=void 0!==s)&&i(s),void 0==e?new this:(r=[],t?(n=0,u=o(s,arguments[2],2),a(e,!1,function(e){r.push(u(e,n++))})):a(e,!1,r.push,r),new this(r))}})}},function(e,t,r){t.f=r(35)},function(e,t,r){var n=r(27),i=r(7),o=r(144),a=r(276),u=r(50).f;e.exports=function(e){var t=i.Symbol||(i.Symbol=o?{}:n.Symbol||{});"_"==e.charAt(0)||e in t||u(t,e,{value:a.f(e)})}},function(e,t,r){var n=r(71);e.exports=function(e){return"function"==typeof e?e:n}},function(e,t,r){var n=r(200),i=r(280),o=4294967295;function a(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=o,this.__views__=[]}a.prototype=n(i.prototype),a.prototype.constructor=a,e.exports=a},function(e,t){e.exports=function(){}},function(e,t,r){var n=r(394),i=r(400),o=n?function(e){return n.get(e)}:i;e.exports=o},function(e,t,r){var n=r(200),i=r(280);function o(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}o.prototype=n(i.prototype),o.prototype.constructor=o,e.exports=o},function(e,t,r){var n=r(284);e.exports=function(e,t){return!(null==e||!e.length)&&n(e,t,0)>-1}},function(e,t,r){var n=r(285),i=r(404),o=r(843);e.exports=function(e,t,r){return t==t?o(e,t,r):n(e,i,r)}},function(e,t){e.exports=function(e,t,r,n){for(var i=e.length,o=r+(n?1:-1);n?o--:++o<i;)if(t(e[o],o,e))return o;return-1}},function(e,t,r){var n=r(19),i=r(128),o=NaN,a=/^\s+|\s+$/g,u=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,c=/^0o[0-7]+$/i,f=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(i(e))return o;if(n(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=n(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(a,"");var r=s.test(e);return r||c.test(e)?f(e.slice(2),r?2:8):u.test(e)?o:+e}},function(e,t,r){e.exports=r(852)},function(e,t,r){var n=r(880),i=r(70);e.exports=function(e){return null==e?[]:n(e,i(e))}},function(e,t,r){var n=r(884),i=r(38);e.exports=function e(t,r,o,a,u){return t===r||(null==t||null==r||!i(t)&&!i(r)?t!=t&&r!=r:n(t,r,o,a,e,u))}},function(e,t,r){var n=r(260),i=r(885),o=r(886);function a(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new n;++t<r;)this.add(e[t])}a.prototype.add=a.prototype.push=i,a.prototype.has=o,e.exports=a},function(e,t){e.exports=function(e,t){return e.has(t)}},function(e,t){e.exports=function(e){var t=-1,r=Array(e.size);return e.forEach(function(e){r[++t]=e}),r}},function(e,t,r){var n=r(87),i=r(36),o=r(88);e.exports=function(e,t,r){var a=-1,u=(t=n(t,e)).length;for(u||(u=1,e=void 0);++a<u;){var s=null==e?void 0:e[o(t[a])];void 0===s&&(a=u,s=r),e=i(s)?s.call(e):s}return e}},function(e,t,r){var n=r(154),i=r(26),o=r(891),a=r(208),u=i(function(e){return o(n(e,1,a,!0))});e.exports=u},function(e,t,r){var n=r(61),i="Expected a function";e.exports=function(e,t){var r;if("function"!=typeof t)throw new TypeError(i);return e=n(e),function(){return--e>0&&(r=t.apply(this,arguments)),e<=1&&(t=void 0),r}}},function(e,t,r){var n=r(261),i=r(93),o=r(278),a=r(4);e.exports=function(e,t){return(a(e)?n:i)(e,o(t))}},function(e,t,r){"use strict";t.__esModule=!0;var n=function(e){return e&&e.__esModule?e:{default:e}}(r(412));t.default=function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return(0,n.default)(e)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OAuthError=void 0;var n=f(r(164)),i=f(r(14)),o=f(r(8)),a=f(r(11)),u=f(r(15)),s=f(r(16)),c=r(13);function f(e){return e&&e.__esModule?e:{default:e}}var l=t.OAuthError=function(e){function t(){return(0,o.default)(this,t),(0,u.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments))}return(0,s.default)(t,e),(0,a.default)(t,[{key:"parse",value:function(e){var t=e.body||e;return(0,n.default)(this,{error:{enumerable:!0,value:t.error},errorDescription:{enumerable:!0,value:t.error_description},errorUri:{enumerable:!0,value:t.error_uri},res:{enumerable:!1,value:e}}),this.errorDescription}}]),t}(c.Exception),d=function(e){function t(){return(0,o.default)(this,t),(0,u.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments))}return(0,s.default)(t,e),t}(l),p=function(e){function t(){return(0,o.default)(this,t),(0,u.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments))}return(0,s.default)(t,e),t}(l),h=function(e){function t(){return(0,o.default)(this,t),(0,u.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments))}return(0,s.default)(t,e),t}(l),v=function(e){function t(){return(0,o.default)(this,t),(0,u.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments))}return(0,s.default)(t,e),t}(l),g=function(e){function t(){return(0,o.default)(this,t),(0,u.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments))}return(0,s.default)(t,e),t}(l),y=function(e){function t(){return(0,o.default)(this,t),(0,u.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments))}return(0,s.default)(t,e),t}(l),m={OAuthError:l,InvalidRequestError:d,InvalidClientError:p,InvalidGrantError:h,UnauthorizedClientError:v,UnsupportGrantTypeError:g,InvalidScopeError:y,invalid_request:d,invalid_client:p,invalid_grant:h,unauthorized_client:v,unsupported_grant_type:g,invalid_scope:y,select:function(e){return m[e]||l}};
/*!
 * Copyright (c) 2015-2017 Cisco Systems, Inc. See LICENSE file.
 */t.default=m},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sortScope=
/*!
 * Copyright (c) 2015-2017 Cisco Systems, Inc. See LICENSE file.
 */
function(e){if(!e)return"";return e.split(" ").sort().join(" ")},t.filterScope=function(e,t){if(!t)return"";return t.split(" ").filter(function(t){return t!==e}).sort().join(" ")}},function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n,i=y(r(49)),o=y(r(134)),a=y(r(24)),u=y(r(43)),s=y(r(1)),c=y(r(301)),f=r(13),l=r(132),d=y(r(213)),p=y(r(162)),h=r(299),v=r(298),g=y(v);function y(e){return e&&e.__esModule?e:{default:e}}function m(e,t,r,n,i){var o={};return Object.keys(n).forEach(function(e){o[e]=n[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}function b(e){if(400!==e.statusCode)return s.default.reject(e);var t=g.default.select(e.body.error);return t===v.OAuthError&&e instanceof d.default?s.default.reject(e):t?s.default.reject(new t(e._res||e)):s.default.reject(e)}var _=p.default.extend((m(n={derived:{canAuthorize:{deps:["access_token","isExpired"],fn:function(){return!!this.access_token&&!this.isExpired}},canDownscope:{deps:["canAuthorize"],fn:function(){return this.canAuthorize&&!!this.config.client_id}},canRefresh:{deps:["refresh_token"],fn:function(){return f.inBrowser?!!this.refresh_token&&!!this.config.refreshCallback:!!this.refresh_token&&!!this.config.client_secret}},isExpired:{deps:["expires","_isExpired"],fn:function(){return!!this.expires&&this._isExpired}},_string:{deps:["access_token","token_type"],fn:function(){return this.access_token&&this.token_type?this.token_type+" "+this.access_token:""}}},namespace:"Credentials",props:{scope:"string",access_token:"string",expires:"number",expires_in:"number",refresh_token:"string",refresh_token_expires:"number",refresh_token_expires_in:"number",token_type:{default:"Bearer",type:"string"}},session:{_isExpired:{default:!1,type:"boolean"},previousToken:{type:"state"}},downscope:function(e){var t=this;return this.logger.info("token: downscoping token to "+e),this.isExpired?(this.logger.info("token: request received to downscope expired access_token"),s.default.reject(new Error("cannot downscope expired access token"))):this.canDownscope?(e&&(e=(0,h.sortScope)(e)),e===(0,h.sortScope)(this.config.scope)?s.default.reject(new Error("token: scope reduction requires a reduced scope")):this.spark.request({method:"POST",uri:this.config.tokenUrl,form:{grant_type:"urn:cisco:oauth:grant-type:scope-reduction",token:this.access_token,scope:e,client_id:this.config.client_id}}).then(function(r){return t.logger.info("token: downscoped token to "+e),new _((0,u.default)(r.body,{scope:e}),{parent:t.parent})})):(this.config.client_id?this.logger.info("token: request received to downscope invalid access_token"):this.logger.warn("token: cannot downscope without client_id"),s.default.reject(new Error("cannot downscope access token")))},initialize:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if((0,a.default)(p.default.prototype.initialize,this,[t,r]),"string"==typeof t&&(this.access_token=t),!this.access_token)throw new Error("`access_token` is required");this.expires&&(this.expires<Date.now()?this._isExpired=!0:(0,l.safeSetTimeout)(function(){e._isExpired=!0},this.expires-Date.now()))},refresh:function(){var e=this;if(!this.canRefresh)throw new Error("Not enough information available to refresh this access token");var t=void 0;if(f.inBrowser){if(!this.config.refreshCallback)throw new Error("Cannot refresh access token without refreshCallback");t=s.default.resolve(this.config.refreshCallback(this.spark,this))}return(t||this.spark.request({method:"POST",uri:this.config.tokenUrl,form:{grant_type:"refresh_token",redirect_uri:this.config.redirect_uri,refresh_token:this.refresh_token},auth:{user:this.config.client_id,pass:this.config.client_secret,sendImmediately:!0},shouldRefreshAccessToken:!1}).then(function(e){return e.body})).then(function(t){if(!t)throw new Error("token: refreshCallback() did not produce an object");return t.refresh_token||(0,u.default)(t,(0,c.default)(e,"refresh_token","refresh_token_expires","refresh_token_expires_in")),e.access_token===t.access_token?(e.logger.error("token: new token matches current token"),e.logger.error("token: current token:",e.access_token),e.logger.error("token: new token:",t.access_token),s.default.reject(new Error("new token matches current token"))):(e.previousToken&&(e.previousToken.revoke(),e.unset("previousToken")),t.previousToken=e,t.scope=e.scope,new _(t,{parent:e.parent}))}).catch(b)},revoke:function(){var e=this;return this.isExpired?(this.logger.info("token: already expired, not making making revocation request"),s.default.resolve()):this.canAuthorize?this.config.client_secret?(this.logger.info("token: revoking access token"),this.spark.request({method:"POST",uri:this.config.revokeUrl,form:{token:this.access_token,token_type_hint:"access_token"},auth:{user:this.config.client_id,pass:this.config.client_secret,sendImmediately:!0},shouldRefreshAccessToken:!1}).then(function(){e.unset(["access_token","expires","expires_in","token_type"]),e.logger.info("token: access token revoked")}).catch(b)):(this.logger.info("token: no client secret available, not making revocation request"),s.default.resolve()):(this.logger.info("token: no longer valid, not making revocation request"),s.default.resolve())},set:function(){var e=this._filterSetParameters.apply(this,arguments),t=(0,o.default)(e,2),r=t[0],n=t[1];if(!r.token_type&&r.access_token&&r.access_token.includes(" ")){var i=r.access_token.split(" "),s=(0,o.default)(i,2),c=s[0],f=s[1];r=(0,u.default)({},r,{access_token:f,token_type:c})}var l=Date.now();return!r.expires&&r.expires_in&&(r.expires=l+1e3*r.expires_in),!r.refresh_token_expires&&r.refresh_token_expires_in&&(r.refresh_token_expires=l+1e3*r.refresh_token_expires_in),r.scope&&(r.scope=(0,h.sortScope)(r.scope)),(0,a.default)(p.default.prototype.set,this,[r,n])},toString:function(){if(!this._string)throw new Error("cannot stringify Token");return this._string},validate:function(){var e=this;return this.spark.request({method:"POST",service:"conversation",resource:"users/validateAuthToken",body:{token:this.access_token}}).catch(function(t){if("statusCode"in t)return s.default.reject(t);e.logger.info("REMINDER: If you're investigating a network error here, it's normal");return e.spark.request({method:"POST",uri:"https://conv-a.wbx2.com/conversation/api/v1/users/validateAuthToken",body:{token:e.access_token},headers:{authorization:"Bearer "+e.access_token}})}).then(function(e){return e.body})},version:"1.43.5"},"downscope",[(0,f.oneFlight)({keyFactory:function(e){return e}})],(0,i.default)(n,"downscope"),n),m(n,"refresh",[f.oneFlight],(0,i.default)(n,"refresh"),n),m(n,"revoke",[f.oneFlight],(0,i.default)(n,"revoke"),n),n));t.default=_}).call(this,r(23))},function(e,t,r){var n=r(912),i=r(204)(function(e,t){return null==e?{}:n(e,t)});e.exports=i},function(e,t,r){e.exports={default:r(924),__esModule:!0}},function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n,i=G(r(49)),o=G(r(30)),a=G(r(43)),u=G(r(297)),s=G(r(1)),c=G(r(31)),f=G(r(24)),l=G(r(944)),d=G(r(304)),p=G(r(107)),h=G(r(214)),v=G(r(202)),g=G(r(115)),y=G(r(36)),m=G(r(92)),b=G(r(51)),_=G(r(72));
/*!
                          * Copyright (c) 2015-2017 Cisco Systems, Inc. See LICENSE file.
                          */
t.registerPlugin=function(e,t,r){Y.registerPlugin(e,t,r)},t.registerInternalPlugin=function(e,t,r){W.default.registerPlugin(e,t,r)};var w=r(13),S=r(28),k=G(r(114)),x=G(r(444)),E=G(r(445)),T=G(r(446)),O=G(r(447)),P=G(r(448)),C=G(r(449)),M=G(r(450)),j=G(r(451)),R=G(r(213)),A=G(r(452)),I=G(r(453)),D=G(r(454)),L=G(r(455)),N=r(210),F=G(r(39)),U=G(r(166)),z=r(62),q=G(r(950)),B=G(r(951)),W=G(r(952));function G(e){return e&&e.__esModule?e:{default:e}}var V={SparkTrackingIdInterceptor:A.default.create,RequestEventInterceptor:P.default.create,RateLimitInterceptor:D.default.create,RequestLoggerInterceptor:e.env.ENABLE_NETWORK_LOGGING||e.env.ENABLE_VERBOSE_NETWORK_LOGGING?C.default.create:void 0,ResponseLoggerInterceptor:e.env.ENABLE_NETWORK_LOGGING||e.env.ENABLE_VERBOSE_NETWORK_LOGGING?j.default.create:void 0,RequestTimingInterceptor:M.default.create,UrlInterceptor:void 0,SparkUserAgentInterceptor:I.default.create,AuthInterceptor:x.default.create,KmsDryErrorInterceptor:void 0,PayloadTransformerInterceptor:T.default.create,ConversationInterceptor:void 0,RedirectInterceptor:O.default.create,HttpStatusInterceptor:function(){return S.HttpStatusInterceptor.create({error:R.default})},NetworkTimingInterceptor:E.default.create},H=["ResponseLoggerInterceptor","RequestTimingInterceptor","RequestEventInterceptor","SparkTrackingIdInterceptor","RateLimitInterceptor"],J=["HttpStatusInterceptor","NetworkTimingInterceptor","RequestLoggerInterceptor","RateLimitInterceptor"],Y=k.default.extend((function(e,t,r,n,i){var o={};Object.keys(n).forEach(function(e){o[e]=n[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null)}(n={version:"1.43.5",children:{internal:W.default},constructor:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];return"string"==typeof e?e={credentials:{supertoken:{access_token:e}}}:(["credentials.authorization","authorization","credentials.supertoken.supertoken","supertoken","access_token","credentials.authorization.supertoken"].forEach(function(t){var r=(0,b.default)(e,t);r&&((0,l.default)(e,t),(0,d.default)(e,"credentials.supertoken",r))}),["credentials","credentials.authorization"].forEach(function(t){var r=(0,b.default)(e,t);"string"==typeof r&&((0,l.default)(e,t),(0,d.default)(e,"credentials.supertoken",r))}),"string"==typeof(0,b.default)(e,"credentials.access_token")&&(0,d.default)(e,"credentials.supertoken",e.credentials)),(0,f.default)(k.default,this,[e,t])},derived:{boundedStorage:{deps:[],fn:function(){return(0,N.makeSparkStore)("bounded",this)}},unboundedStorage:{deps:[],fn:function(){return(0,N.makeSparkStore)("unbounded",this)}},ready:{deps:["loaded","internal.ready"],fn:function(){var e=this;return this.loaded&&(0,c.default)(this._children).reduce(function(t,r){return t&&e[r]&&!1!==e[r].ready},!0)}}},session:{config:{type:"object"},loaded:{default:!1,type:"boolean"},request:{setOnce:!0,type:"any"},sessionId:{setOnce:!0,type:"string"}},refresh:function(){var e;return(e=this.credentials).refresh.apply(e,arguments)},transform:function(e,t){var r=this,n=this.config.payloadTransformer.predicates.filter(function(t){return!t.direction||t.direction===e}),i={spark:this};return s.default.all(n.map(function(e){return e.test(i,t).then(function(r){if(r)return e.extract(t).then(function(t){return{name:e.name,target:t}})})})).then(function(t){return t.filter(function(e){return Boolean(e)}).reduce(function(t,n){var i=n.name,o=n.target,a=n.alias;return t.then(function(){return a?r.applyNamedTransform(e,a,o):r.applyNamedTransform(e,i,o)})},s.default.resolve())}).then(function(){return t})},applyNamedTransform:function(e,t,r){for(var n=arguments.length,i=Array(n>3?n-3:0),o=3;o<n;o++)i[o-3]=arguments[o];var a=this;return(0,g.default)(t)&&(i.unshift(r),r=t,t={spark:this,transform:function(){for(var r=arguments.length,n=Array(r),i=0;i<r;i++)n[i]=arguments[i];return a.applyNamedTransform.apply(a,[e,t].concat(n))}}),t.spark.config.payloadTransformer.transforms.filter(function(t){return t.name===r&&(!t.direction||t.direction===e)}).reduce(function(e,r){return e.then(function(){var e;return r.alias?(e=t).transform.apply(e,[r.alias].concat((0,u.default)(i))):s.default.resolve(r.fn.apply(r,[t].concat((0,u.default)(i))))})},s.default.resolve()).then(function(){return(0,v.default)(i)})},getWindow:function(){return window},initialize:function(){var t=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.config=(0,h.default)({},L.default,r.config),this.trigger("change:config");var n=function e(){t.loaded&&(t.trigger("loaded"),t.stopListening(t,"change:loaded",e))};e.nextTick(function(){t.listenToAndRun(t,"change:loaded",n)});var i=function e(){t.ready&&(t.trigger("ready"),t.stopListening(t,"change:ready",e))};e.nextTick(function(){t.listenToAndRun(t,"change:ready",i)}),(0,c.default)(this.constructor.prototype._children).forEach(function(e){t.listenTo(t[e],"change",function(){for(var r=arguments.length,n=Array(r),i=0;i<r;i++)n[i]=arguments[i];n.unshift("change:"+e),t.trigger.apply(t,n)})});var o=function(e,r){var n=V[r];return(0,y.default)(n)?(e.push((0,f.default)(n,t,[])),e):e},a=[];a=H.reduce(o,a),a=(0,c.default)(V).filter(function(e){return!(H.includes(e)||J.includes(e))}).reduce(o,a),a=J.reduce(o,a),this.request=(0,S.defaults)({json:!0,interceptors:a});var u=(0,b.default)(this,"config.trackingIdPrefix","spark-js-sdk")+"_"+(0,b.default)(this,"config.trackingIdBase",U.default.v4());(0,m.default)(this,"config.trackingIdPrefix")&&(u+="_"+(0,b.default)(this,"config.trackingIdPrefix")),this.sessionId=u},inspect:function(e){return F.default.inspect((0,p.default)(this.serialize({props:!0,session:!0,derived:!0}),"boundedStorage","unboundedStorage","request","config"),{depth:e})},logout:function(e){for(var t=this,r=arguments.length,n=Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];var o=this.credentials.supertoken&&(this.credentials.supertoken.refresh_token||this.credentials.supertoken.access_token);return e=(0,a.default)({token:o},e),this.config.onBeforeLogout.reverse().reduce(function(r,i){var o=i.plugin,a=i.fn;return r.then(function(){return s.default.resolve((0,f.default)(a,t[o]||t.internal[o],[e].concat((0,u.default)(n)))).catch(function(e){t.logger.warn("onBeforeLogout from plugin "+o+": failed",e)})})},s.default.resolve()).then(function(){return s.default.all([t.boundedStorage.clear(),t.unboundedStorage.clear()])}).then(function(){var e;return(e=t.credentials).invalidate.apply(e,(0,u.default)(n))}).then(function(){var r;return t.authorization&&t.authorization.logout&&(r=t.authorization).logout.apply(r,[e].concat((0,u.default)(n)))}).then(function(){return t.trigger("client:logout")})},measure:function(){var e;return this.metrics?(e=this.metrics).sendUnstructured.apply(e,arguments):s.default.resolve()},upload:function(e){var t=this;if(!e.file)return s.default.reject(new Error("`options.file` is required"));e.phases=e.phases||{},e.phases.initialize=e.phases.initialize||{},e.phases.upload=e.phases.upload||{},e.phases.finalize=e.phases.finalize||{},(0,_.default)(e.phases.initialize,{method:"POST"},(0,p.default)(e,"file","phases")),(0,_.default)(e.phases.upload,{method:"PUT",json:!1,withCredentials:!1,body:e.file,headers:{"x-trans-id":U.default.v4(),authorization:void 0}}),(0,_.default)(e.phases.finalize,{method:"POST"},(0,p.default)(e,"file","phases"));var r=new z.EventEmitter,n=this._uploadPhaseInitialize(e).then(function(){var n=t._uploadPhaseUpload(e);return(0,w.transferEvents)("progress",n,r),n}).then(function(){for(var r=arguments.length,n=Array(r),i=0;i<r;i++)n[i]=arguments[i];return t._uploadPhaseFinalize.apply(t,[e].concat(n))}).then(function(e){return e.body});return(0,w.proxyEvents)(r,n),n},_uploadPhaseInitialize:function(e){var t=this;return this.logger.debug("client: initiating upload session"),this.request(e.phases.initialize).then(function(){for(var r=arguments.length,n=Array(r),i=0;i<r;i++)n[i]=arguments[i];return t._uploadApplySession.apply(t,[e].concat(n))}).then(function(e){return t.logger.debug("client: initiated upload session"),e})},_uploadApplySession:function(e,t){var r=t.body;["upload","finalize"].reduce(function(e,t){return e[t]=(0,c.default)(e[t]).reduce(function(e,t){return t.startsWith("$")&&(e[t.substr(1)]=e[t](r),(0,o.default)(e,t)),e},e[t]),e},e.phases)},_uploadPhaseUpload:function(e){var t=this;this.logger.debug("client: uploading file");var r=this.request(e.phases.upload).then(function(e){return t.logger.debug("client: uploaded file"),e});return(0,w.proxyEvents)(e.phases.upload.upload,r),r},_uploadPhaseFinalize:function(e){var t=this;return this.logger.debug("client: finalizing upload session"),this.request(e.phases.finalize).then(function(e){return t.logger.debug("client: finalized upload session"),e})}},"_uploadPhaseUpload",[w.retry],(0,i.default)(n,"_uploadPhaseUpload"),n),n));Y.version="1.43.5",(0,B.default)(W.default,L.default,V),(0,q.default)(Y,L.default,V),t.default=Y}).call(this,r(23))},function(e,t,r){var n=r(432);e.exports=function(e,t,r){return null==e?e:n(e,t,r)}},function(e,t,r){var n=r(1044),i=r(1045);t.write=i,t.parse=n.parse,t.parseFmtpConfig=n.parseFmtpConfig,t.parseParams=n.parseParams,t.parsePayloads=n.parsePayloads,t.parseRemoteCandidates=n.parseRemoteCandidates,t.parseImageAttributes=n.parseImageAttributes,t.parseSimulcastStreamList=n.parseSimulcastStreamList},function(e,t){var r=e.exports={v:[{name:"version",reg:/^(\d*)$/}],o:[{name:"origin",reg:/^(\S*) (\d*) (\d*) (\S*) IP(\d) (\S*)/,names:["username","sessionId","sessionVersion","netType","ipVer","address"],format:"%s %s %d %s IP%d %s"}],s:[{name:"name"}],i:[{name:"description"}],u:[{name:"uri"}],e:[{name:"email"}],p:[{name:"phone"}],z:[{name:"timezones"}],r:[{name:"repeats"}],t:[{name:"timing",reg:/^(\d*) (\d*)/,names:["start","stop"],format:"%d %d"}],c:[{name:"connection",reg:/^IN IP(\d) (\S*)/,names:["version","ip"],format:"IN IP%d %s"}],b:[{push:"bandwidth",reg:/^(TIAS|AS|CT|RR|RS):(\d*)/,names:["type","limit"],format:"%s:%s"}],m:[{reg:/^(\w*) (\d*) ([\w\/]*)(?: (.*))?/,names:["type","port","protocol","payloads"],format:"%s %d %s %s"}],a:[{push:"rtp",reg:/^rtpmap:(\d*) ([\w\-\.]*)(?:\s*\/(\d*)(?:\s*\/(\S*))?)?/,names:["payload","codec","rate","encoding"],format:function(e){return e.encoding?"rtpmap:%d %s/%s/%s":e.rate?"rtpmap:%d %s/%s":"rtpmap:%d %s"}},{push:"fmtp",reg:/^fmtp:(\d*) ([\S| ]*)/,names:["payload","config"],format:"fmtp:%d %s"},{name:"control",reg:/^control:(.*)/,format:"control:%s"},{name:"rtcp",reg:/^rtcp:(\d*)(?: (\S*) IP(\d) (\S*))?/,names:["port","netType","ipVer","address"],format:function(e){return null!=e.address?"rtcp:%d %s IP%d %s":"rtcp:%d"}},{push:"rtcpFbTrrInt",reg:/^rtcp-fb:(\*|\d*) trr-int (\d*)/,names:["payload","value"],format:"rtcp-fb:%d trr-int %d"},{push:"rtcpFb",reg:/^rtcp-fb:(\*|\d*) ([\w-_]*)(?: ([\w-_]*))?/,names:["payload","type","subtype"],format:function(e){return null!=e.subtype?"rtcp-fb:%s %s %s":"rtcp-fb:%s %s"}},{push:"ext",reg:/^extmap:(\d+)(?:\/(\w+))? (\S*)(?: (\S*))?/,names:["value","direction","uri","config"],format:function(e){return"extmap:%d"+(e.direction?"/%s":"%v")+" %s"+(e.config?" %s":"")}},{push:"crypto",reg:/^crypto:(\d*) ([\w_]*) (\S*)(?: (\S*))?/,names:["id","suite","config","sessionConfig"],format:function(e){return null!=e.sessionConfig?"crypto:%d %s %s %s":"crypto:%d %s %s"}},{name:"setup",reg:/^setup:(\w*)/,format:"setup:%s"},{name:"mid",reg:/^mid:([^\s]*)/,format:"mid:%s"},{name:"msid",reg:/^msid:(.*)/,format:"msid:%s"},{name:"ptime",reg:/^ptime:(\d*)/,format:"ptime:%d"},{name:"maxptime",reg:/^maxptime:(\d*)/,format:"maxptime:%d"},{name:"direction",reg:/^(sendrecv|recvonly|sendonly|inactive)/},{name:"icelite",reg:/^(ice-lite)/},{name:"iceUfrag",reg:/^ice-ufrag:(\S*)/,format:"ice-ufrag:%s"},{name:"icePwd",reg:/^ice-pwd:(\S*)/,format:"ice-pwd:%s"},{name:"fingerprint",reg:/^fingerprint:(\S*) (\S*)/,names:["type","hash"],format:"fingerprint:%s %s"},{push:"candidates",reg:/^candidate:(\S*) (\d*) (\S*) (\d*) (\S*) (\d*) typ (\S*)(?: raddr (\S*) rport (\d*))?(?: tcptype (\S*))?(?: generation (\d*))?(?: network-id (\d*))?(?: network-cost (\d*))?/,names:["foundation","component","transport","priority","ip","port","type","raddr","rport","tcptype","generation","network-id","network-cost"],format:function(e){var t="candidate:%s %d %s %d %s %d typ %s";return t+=null!=e.raddr?" raddr %s rport %d":"%v%v",t+=null!=e.tcptype?" tcptype %s":"%v",null!=e.generation&&(t+=" generation %d"),t+=null!=e["network-id"]?" network-id %d":"%v",t+=null!=e["network-cost"]?" network-cost %d":"%v"}},{name:"endOfCandidates",reg:/^(end-of-candidates)/},{name:"remoteCandidates",reg:/^remote-candidates:(.*)/,format:"remote-candidates:%s"},{name:"iceOptions",reg:/^ice-options:(\S*)/,format:"ice-options:%s"},{push:"ssrcs",reg:/^ssrc:(\d*) ([\w_-]*)(?::(.*))?/,names:["id","attribute","value"],format:function(e){var t="ssrc:%d";return null!=e.attribute&&(t+=" %s",null!=e.value&&(t+=":%s")),t}},{push:"ssrcGroups",reg:/^ssrc-group:([\x21\x23\x24\x25\x26\x27\x2A\x2B\x2D\x2E\w]*) (.*)/,names:["semantics","ssrcs"],format:"ssrc-group:%s %s"},{name:"msidSemantic",reg:/^msid-semantic:\s?(\w*) (\S*)/,names:["semantic","token"],format:"msid-semantic: %s %s"},{push:"groups",reg:/^group:(\w*) (.*)/,names:["type","mids"],format:"group:%s %s"},{name:"rtcpMux",reg:/^(rtcp-mux)/},{name:"rtcpRsize",reg:/^(rtcp-rsize)/},{name:"sctpmap",reg:/^sctpmap:([\w_\/]*) (\S*)(?: (\S*))?/,names:["sctpmapNumber","app","maxMessageSize"],format:function(e){return null!=e.maxMessageSize?"sctpmap:%s %s %s":"sctpmap:%s %s"}},{name:"xGoogleFlag",reg:/^x-google-flag:([^\s]*)/,format:"x-google-flag:%s"},{push:"rids",reg:/^rid:([\d\w]+) (\w+)(?: ([\S| ]*))?/,names:["id","direction","params"],format:function(e){return e.params?"rid:%s %s %s":"rid:%s %s"}},{push:"imageattrs",reg:new RegExp("^imageattr:(\\d+|\\*)[\\s\\t]+(send|recv)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*)(?:[\\s\\t]+(recv|send)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*))?"),names:["pt","dir1","attrs1","dir2","attrs2"],format:function(e){return"imageattr:%s %s %s"+(e.dir2?" %s %s":"")}},{name:"simulcast",reg:new RegExp("^simulcast:(send|recv) ([a-zA-Z0-9\\-_~;,]+)(?:\\s?(send|recv) ([a-zA-Z0-9\\-_~;,]+))?$"),names:["dir1","list1","dir2","list2"],format:function(e){return"simulcast:%s %s"+(e.dir2?" %s %s":"")}},{name:"simulcast_03",reg:/^simulcast:[\s\t]+([\S+\s\t]+)$/,names:["value"],format:"simulcast: %s"},{name:"framerate",reg:/^framerate:(\d+(?:$|\.\d+))/,format:"framerate:%s"},{name:"sourceFilter",reg:/^source-filter: *(excl|incl) (\S*) (IP4|IP6|\*) (\S*) (.*)/,names:["filterMode","netType","addressTypes","destAddress","srcList"],format:"source-filter: %s %s %s %s %s"},{push:"invalid",names:["value"]}]};Object.keys(r).forEach(function(e){r[e].forEach(function(e){e.reg||(e.reg=/(.*)/),e.format||(e.format="%s")})})},function(e,t,r){var n=r(264),i=r(484),o=r(52),a=r(4);e.exports=function(e,t){return(a(e)?n:i)(e,o(t,3))}},function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n,i,o,a,u,s=M(r(49)),c=M(r(77)),f=M(r(24)),l=M(r(43)),d=M(r(1)),p=M(r(130)),h=M(r(51)),v=M(r(215)),g=M(r(72)),y=r(467),m=r(305),b=M(r(166)),_=r(2),w=r(13),S=r(486),k=r(466),x=M(k),E=r(311),T=M(r(493)),O=M(r(1093)),P=M(r(501)),C=M(r(508));function M(e){return e&&e.__esModule?e:{default:e}}function j(e,t,r,n,i){var o={};return Object.keys(n).forEach(function(e){o[e]=n[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var R=k.webrtcHelpers.boolToDirection,A=["ringing","connected","disconnected","replaced"];function I(e,t){var r="string"==typeof t?(0,m.parse)(t):t,n=void 0;return(n="screen"===e?r.media.find(function(e){return"video"===e.type&&e.content}):r.media.find(function(t){return t.type===e}))&&n.direction?n.direction:"inactive"}function D(e){switch(e){case"inactive":case"sendrecv":return e;case"sendonly":return"recvonly";case"recvonly":return"sendonly";default:throw new Error('direction "'+e+'" is not valid')}}var L={audio:"Audio",video:"Video"},N=_.SparkPlugin.extend((n=(0,w.whileInFlight)("locusJoinInFlight"),i=(0,w.deprecated)("Please use Call#reject()"),o=(0,w.whileInFlight)("locusLeaveInFlight"),a=(0,y.debounce)(),j(u={namespace:"Phone",children:{media:x.default},collections:{memberships:O.default},session:{activeParticipantsCount:{default:0,required:!0,type:"number"},remoteAudioMuted:{default:!1,required:!1,type:"boolean"},remoteVideoMuted:{default:!1,required:!1,type:"boolean"},correlationId:"string",facingMode:{type:"string",values:["user","environment"]},internalCallId:{setOnce:!0,type:"string"},locus:"object",localMediaStream:"object",locusJoinInFlight:{default:!1,type:"boolean"},locusLeaveInFlight:{default:!1,type:"boolean"},me:{type:"object"}},derived:{id:{deps:["locus"],fn:function(){return(0,h.default)(this,"locus.url")}},isActive:{deps:["locus"],fn:function(){return!(!this.locus||!(0,E.isActive)(this.locus))}},joinedOnThisDevice:{deps:["locus"],default:!1,fn:function(){return!(!this.locus||!(0,E.joinedOnThisDevice)(this.spark,this.locus))}},locusUrl:{deps:["locus"],fn:function(){return(0,h.default)(this,"locus.url")}},device:{deps:["locus"],fn:function(){return(0,E.getThisDevice)(this.spark,this.locus)}},mediaConnection:{deps:["locus"],fn:function(){var e=(0,E.getThisDevice)(this.spark,this.locus);return(0,h.default)(e,"mediaConnections[0]")}},mediaId:{deps:["locus"],fn:function(){var e=(0,E.getThisDevice)(this.spark,this.locus);return(0,h.default)(e,"mediaConnections[0].mediaId")}},remoteMember:{deps:["memberships","locus"],fn:function(){if((0,E.isCall)(this.locus))return this.memberships.find(function(e){return!e.isSelf})}},direction:{deps:["locus"],fn:function(){return this.locus?(0,E.direction)(this.locus):"out"}},from:{deps:["memberships"],fn:function(){if(this.isCall)return this.memberships.find(function(e){return e.isInitiator})}},to:{deps:["memberships"],fn:function(){if(this.isCall)return this.memberships.find(function(e){return!e.isInitiator})}},state:{deps:["locus"],fn:function(){if(this.config.enableExperimentalGroupCallingSupport)return(0,E.getState)(this.locus)}},status:{deps:["locus"],fn:function(){return(0,E.getStatus)(this.spark,this.locus,this.previousAttributes().locus)}},host:{deps:["locus"],fn:function(){if(this.config.enableExperimentalGroupCallingSupport)return this.locus.host}},roomId:{deps:["locus"],fn:function(){if(this.config.enableExperimentalGroupCallingSupport&&this.locus.conversationUrl)return w.base64.encode("ciscospark://us/ROOM/"+this.locus.conversationUrl.split("/").pop())}},remoteMediaStream:{deps:["media.remoteMediaStream"],fn:function(){return this.media.remoteMediaStream}},localScreenShare:{deps:["media.localScreenShare"],fn:function(){return this.media.localScreenShare}},receivingAudio:{deps:["media.receivingAudio"],fn:function(){return this.media.receivingAudio}},receivingVideo:{deps:["media.receivingVideo"],fn:function(){return this.media.receivingVideo}},sendingAudio:{deps:["media.sendingAudio"],fn:function(){return this.media.sendingAudio}},sendingVideo:{deps:["media.sendingVideo"],fn:function(){return this.media.sendingVideo}},isCall:{deps:["locus"],fn:function(){return(0,E.isCall)(this.locus)}},supportsDtmf:{deps:["locus"],fn:function(){return(0,h.default)(this,"locus.self.enableDTMF")}}},acknowledge:function(){var e=this;return this.logger.info("call: acknowledging"),this.spark.internal.locus.alert(this.locus).then(function(t){return e.setLocus(t)}).then((0,w.tap)(function(){return e.logger.info("call: acknowledged")}))},answer:function(e){var t=this;return this.logger.info("call: answering"),this.locus?this.joinedOnThisDevice&&this.media.pc.remoteDescription&&this.media.pc.remoteDescription.sdp?(this.logger.info("call: already joined on this device"),d.default.resolve()):this.createOrJoinLocus(this.locus,e).then((0,w.tap)(function(){return t.logger.info("call: answered")})):(this.logger.info("call: no locus provided, answer() is a noop"),d.default.resolve())},changeReceivingMedia:function(e,t){var r=this;return new d.default(function(n){var i=(0,m.parse)(r.media.offerSdp),o=(0,v.default)(i.media,{type:e});o&&o.direction.includes("recv")?(r.logger.info('changeReceivingMedia: expecting to renegotiate, waiting for call to emit "change:receiving'+L[e]+'"'),r.once("change:receiving"+L[e],function(){return n()})):(r.logger.info('changeReceivingMedia: expecting to renegotiate, waiting for media to emit "answeraccepted"'),r.media.once("answeraccepted",function(){return n()}));var a=(0,T.default)(r.media["sending"+L[e]],t);console.warn("starting to setMedia "+e+" to "+a),r.media.setMedia(e,a)})},changeSendingMedia:function(e,t){var r=this;if(this.logger.info('changeSendingMedia: changing sending "'+e+'" to "'+t+'"'),["audio","video"].includes(e)){var n=this.media.senderTracks.filter(function(t){return t.kind===e}),i=(0,T.default)(t,this.media["receiving"+L[e]]);return n.length>0?this.media.setMedia(e,i).then(function(){return r.updateMuteToggles(e,t)}):new d.default(function(t){r.once("mediaNegotiationCompleted",function(){return t()}),r.media.setMedia(e,i)})}return d.default.reject(new Error('kind must be one of "audio" or "video"'))},cleanup:function(){var t=this;return new d.default(function(r){e.nextTick(function(){t.media.stop(),t.stopListening(t.spark.internal.mercury),t.off(),r()})})},createOrJoinLocus:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(r.localMediaStream)this.localMediaStream=r.localMediaStream;else{r.constraints||(r.constraints={audio:!0,video:{facingMode:{ideal:this.spark.phone.defaultFacingMode}}});var n=(0,h.default)(r,"constraints.video.facingMode.ideal",(0,h.default)(r,"constraints.video.facingMode.exact"));"user"!==n&&"environment"!==n||(this.facingMode=n);var i=!r.constraints.audio&&!r.constraints.video;r.offerOptions=(0,g.default)(r.offerOptions,{offerToReceiveAudio:i||!!r.constraints.audio,offerToReceiveVideo:i||!!r.constraints.video}),r.constraints.fake&&(this.media.constraints.fake=!0),this.media.setMedia("audio",(0,T.default)(r.constraints.audio,r.offerOptions.offerToReceiveAudio),r.constraints.audio),"screen"===(0,h.default)(r,"constraints.video.mediaSource")||"application"===(0,h.default)(r,"constraints.video.mediaSource")?this.media.setMedia("screen","sendonly"):this.media.setMedia("video",(0,T.default)(r.constraints.video,r.offerOptions.offerToReceiveVideo),r.constraints.video)}return e.correlationId||(r.correlationId=b.default.v4(),this.correlationId=r.correlationId),this.correlationId||(this.correlationId=e.correlationId),this.media.bandwidthLimit={audioBandwidthLimit:this.config.audioBandwidthLimit,videoBandwidthLimit:this.config.videoBandwidthLimit},this.media.createOffer().then((0,w.tap)(function(){return t.logger.info("created offer")})).then(function(){return t.spark.internal.locus.createOrJoin(e,(0,l.default)({localSdp:t.media.offerSdp,correlationId:t.correlationId},r))}).then((0,w.tap)(function(){return t.logger.info("sent offer to locus")})).then((0,w.tap)(function(){return t.logger.info("setting locus")})).then(function(e){return t.setLocus(e)}).then((0,w.tap)(function(){return t.logger.info("successfully set locus")})).then(function(){var e=JSON.parse(t.mediaConnection.remoteSdp).sdp;return t.logger.info("accepting answer"),t.logger.info("peer state",t.media.pc&&t.media.pc.signalingState),t.media.ended?(t.logger.info("call: already ended, not accepting answer"),d.default.resolve()):t.media.acceptAnswer(e).then(function(){return t.logger.info("answer accepted")}).catch(function(e){return t.logger.error("failed to accept answer",e),d.default.reject(e)})})},decline:function(){return this.reject()},dial:function(e,t){var r=this;this.locusJoinInFlight=!0,this.logger.info("call: dialing");var n=e;if(w.base64.validate(e)){var i=w.base64.decode(e).split("/"),o=i[3],a=i[4];if("PEOPLE"===o&&(n=a),"ROOM"===o){if(!(0,h.default)(this,"config.enableExperimentalGroupCallingSupport"))throw new Error("Group calling is not enabled. Please enable config.phone.enableExperimentalGroupCallingSupport");n={url:this.spark.internal.device.services.conversationServiceUrl+"/conversations/"+a+"/locus"}}}return this.spark.internal.mercury.connect().then(function(){return r.createOrJoinLocus(n,t)}).then((0,w.tap)(function(){return r.logger.info("call: dialed")})).catch(function(e){r.trigger("error",e)}).then(function(){r.locusJoinInFlight=!1}),this},getRawStatsStream:function(){return new C.default(this.media.pc)},getStatsStream:function(){return this.getRawStatsStream().pipe(new P.default)},hangup:function(){var e=this;return"in"!==this.direction||this.joinedOnThisDevice?(this.logger.info("call: hanging up"),this.media.stop(),this.locusJoinInFlight?(this.logger.info("call: locus join in flight, waiting for rest call to complete before hanging up"),this.when("change:locusJoinInFlight").then(function(){return e.hangup()})):this.locus?this.leave():this.cleanup().then(function(){return e.logger.info("call: hang up complete, call never created")})):this.reject()},initialize:function(){for(var t=this,r=arguments.length,n=Array(r),i=0;i<r;i++)n[i]=arguments[i];(0,f.default)(_.SparkPlugin.prototype.initialize,this,n),this.on("change:activeParticipantsCount",function(){return t.onChangeActiveParticipantsCount.apply(t,arguments)}),this.on("change:isActive",function(){return t.onChangeIsActive.apply(t,arguments)}),this.on("change:localMediaStream",function(){return t.onChangeLocalMediaStream.apply(t,arguments)}),this.on("change:media.localMediaStream",function(){t.localMediaStream=t.media.localMediaStream}),this.on("change:remoteMember",function(){return t.onChangeRemoteMember.apply(t,arguments)}),["localMediaStream","remoteAudioMuted","remoteMediaStream","remoteVideoMuted","localScreenShare"].forEach(function(e){t.on("change:"+e,function(){return t.trigger(e+":change")})}),this.on("replaced",function(){return t.cleanup()}),this.listenTo(this.memberships,"add",function(){for(var e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];return t.trigger.apply(t,["memberships:add"].concat(r))}),this.listenTo(this.memberships,"change",function(){for(var e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];return t.trigger.apply(t,["membership:change"].concat(r))}),this.listenTo(this.memberships,"change:audioMuted",function(){return t.onMembershipsAudioMuted.apply(t,arguments)}),this.listenTo(this.memberships,"change:state",function(){return t.onMembershipsChangeState.apply(t,arguments)}),this.listenTo(this.memberships,"change:videoMuted",function(){return t.onMembershipsVideoMuted.apply(t,arguments)}),this.listenTo(this.memberships,"remove",function(){for(var e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];return t.trigger.apply(t,["memberships:remove"].concat(r))}),this.listenTo(this.spark.internal.mercury,"event:locus",function(e){return t.onLocusEvent(e)}),this.listenTo(this.spark.internal.mercury,"event:locus.difference",function(e){return t.onLocusEvent(e)}),this.listenTo(this.media,"error",function(e){return t.trigger("error",e)}),this.listenTo(this.media,"internalTrackUpdate",function(){t.trigger("remoteMediaStream:change")}),this.listenTo(this.media,"negotiationneeded",function(){return t.onMediaNegotiationNeeded.apply(t,arguments)}),this.locus?this.internalCallId=(0,E.makeInternalCallId)(this.locus):this.once("change:locus",function(){t.internalCallId=(0,E.makeInternalCallId)(t.locus)}),this.memberships.listenToAndRun(this,"change:locus",function(){t.locus&&t.locus.participants&&(t.memberships.set((0,E.participantsToCallMemberships)(t.spark,t.locus)),t.me=t.memberships.find(function(e){return e.isSelf}))}),this.config.enableExperimentalGroupCallingSupport?(this.on("inactive",function(){return t.hangup()}),this.on("inactive",function(){return t.cleanup()}),this.on("change:state",function(){e.nextTick(function(){return t.trigger(t.state)})}),this.on=(0,p.default)(this.on,function(e,r){for(var n=arguments.length,i=Array(n>2?n-2:0),o=2;o<n;o++)i[o-2]=arguments[o];if(A.includes(r))throw new Error('The "'+r+'" event is no longer valid with "enableExperimentalGroupCallingSupport===true"');return(0,f.default)(e,t,[r].concat(i))})):(this.on("disconnected",function(){return t.hangup()}),this.on("disconnected",function(){return t.cleanup()}),this.on("change:status",function(){e.nextTick(function(){return t.trigger(t.status)})}))},leave:function(){var e=this;this.logger.info("leave: attempting to leave locus");var t=(0,h.default)(this,this.config.enableExperimentalGroupCallingSupport?"me.state":"status");return"disconnected"===t?(this.logger.info("already hung up, not calling locus again"),d.default.resolve()):"declined"===t?(this.logger.info("call was declined, not leaving again"),d.default.resolve()):"connected"!==t?(this.logger.info("call is neither connected, disconnected, or declined, declining instead of leaving"),this.decline()):(this.logger.info("leave: leaving locus"),this.spark.internal.locus.leave(this.locus).catch(function(t){return e.logger.error("leave: locus leave error: ",t.stack||t.toString()),d.default.reject(t)}).then((0,w.tap)(function(){return e.logger.info("leave "+e.locus.id+": finished leaving via locus")})).then((0,w.tap)(function(){return e.logger.info("leave "+e.locus.id+": setting locus")})).then(function(t){return e.setLocus(t)}).then((0,w.tap)(function(){return e.logger.info("leave "+e.locus.id+": finished setting locus")})).then((0,w.tap)(function(){return e.logger.info("call: hung up")})))},onLocusEvent:function(e){var t=this,r=(0,h.default)(e,"data.locus.self.devices"),n=r&&(0,v.default)(r,function(e){return e.url===t.spark.internal.device.url});if(((this.locus&&(0,E.makeInternalCallId)(e.data.locus))===this.internalCallId||n&&this.correlationId===n.correlationId)&&(this.logger.info("locus event: "+e.data.eventType),this.setLocus(e.data.locus)),e.data.locus.replaces){var i=!0,o=!1,a=void 0;try{for(var u,s=(0,c.default)(e.data.locus.replaces);!(i=(u=s.next()).done);i=!0){var f=u.value;if(f.locusUrl+"_"+f.lastActive===this.internalCallId)return this.setLocus(e.data.locus),void this.logger.info("locus replacement event: "+e.data.eventType,this.locusUrl,"->",e.data.locus.url)}}catch(e){o=!0,a=e}finally{try{!i&&s.return&&s.return()}finally{if(o)throw a}}}},onMembershipsAudioMuted:function(){this.logger.info("onMembershipsAudioMuted"),this.remoteMember&&(this.remoteAudioMuted=this.remoteMember.audioMuted)},onMembershipsVideoMuted:function(){this.logger.info("onMembershipsVideoMuted"),this.remoteMember&&(this.remoteVideoMuted=this.remoteMember.videoMuted)},onChangeRemoteMember:function(){this.remoteMember?(this.remoteAudioMuted=this.remoteMember.audioMuted,this.remoteVideoMuted=this.remoteMember.videoMuted):(this.remoteAudioMuted=void 0,this.remoteVideoMuted=void 0)},onMembershipsChangeState:function(e){this.activeParticipantsCount=this.memberships.filter(function(e){return"connected"===e.state}).length,this.trigger("membership:"+e.state,e)},onMediaNegotiationNeeded:function(){var e=this;this.logger.info("onMediaNegotiationNeeded"),this.media.createOffer().then(function(){var t=(0,m.parse)(e.media.offerSdp),r=I("audio",t),n=!r.includes("send"),i=I("video",t),o=!i.includes("send"),a=I("screen",t);e.logger.info("onMediaNegotiationNeeded: audioOfferDir="+r+" videoOfferDir="+i+" screenOfferDir="+a),e.logger.info("onMediaNegotiationNeeded: audioMuted="+n+" videoMuted="+o);var u={sdp:e.media.offerSdp,mediaId:e.mediaId,audioMuted:n,videoMuted:o};return e.updateMedia(u)}).then(function(){return e.pollForExpectedLocusAndSdp()}).then(function(){var t=JSON.parse(e.mediaConnection.remoteSdp).sdp;return e.media.acceptAnswer(t)}).then(function(){return e.emit("mediaNegotiationCompleted")}).catch(function(t){return e.emit("error",t)})},onChangeLocalMediaStream:function(){var e=this;this.localMediaStream&&this.localMediaStream!==this.media.localMediaStream&&(["audio","video"].forEach(function(t){var r=e.localMediaStream.getTracks().find(function(e){return e.kind===t});r?e.media.setMedia(t,(0,T.default)(r.enabled,e["receiving"+L[t]]),r):e.media.setMedia(t,(0,T.default)(!1,e["receiving"+L[t]]))}),this.localMediaStream=this.media.localMediaStream)},onChangeIsActive:function(){this.isActive||this.joinedOnThisDevice&&(this.logger.info("call: hanging up due to locus going inactive"),this.hangup())},onChangeActiveParticipantsCount:function(){if(this.joinedOnThisDevice&&1===this.activeParticipantsCount&&(!this.isCall||this.config.hangupIfLastActive.call)&&(this.isCall||this.config.hangupIfLastActive.meeting)){var e=this.previousAttributes().locus;e&&(0,E.activeParticipants)(e).length>1&&(this.logger.info("call: hanging up due to last participant in call"),this.hangup())}},pollForExpectedLocusAndSdp:function(){var e=this;return new d.default(function(t,r){var n=(0,m.parse)(e.media.offerSdp),i=I("audio",n),o=I("video",n),a=I("screen",n),u=e,s=0;!function n(){s+=1;try{if(e.logger.info("iteration "+s+": checking if current locus sdp has the expected audio and video directions"),function(e){var t=(0,m.parse)(e),r=I("audio",t),n=I("video",t),s=I("screen",t),c=D(i),f=D(o),l=D(a);return u.logger.info("audio: "+i+", "+r+", "+c),u.logger.info("video: "+o+", "+n+", "+f),u.logger.info("screen: "+a+", "+s+", "+l),r===c&&n===f&&s===l}(JSON.parse(e.mediaConnection.remoteSdp).sdp)){e.logger.info("iteration "+s+": the current locus sdp has the expected audio and video directions");try{return e.logger.info("iteration "+s+": checking if current locus has the expected audio and video directions"),e.validateLocusMediaState(e.locus),e.logger.info("iteration "+s+": the current locus has the expected audio and video directions; not syncing"),void t()}catch(t){e.logger.info("iteration "+s+": the current locus does not have the expected audio and video directions; syncing")}}else e.logger.info("iteration "+s+": the current locus sdp does not have the expected audio and video directions; syncing");if(s>4)return void r(new Error("After "+s+" attempts polling locus"));setTimeout(function(){return e.spark.internal.locus.sync(e.locus).then(function(t){return e.setLocus(t)}).then(n).catch(r)},1e3*Math.pow(2,s))}catch(e){r(e)}}()})},releaseFloor:function(){var e=this;return this.logger.info("call: releasing floor grant"),d.default.resolve().then((0,E.waitForMediaShare)(this)).then(function(t){return e.spark.internal.locus.releaseFloorGrant(e.locus,t)})},reject:function(){var e=this;return"out"===this.direction?d.default.resolve():(this.logger.info("call: rejecting"),this.spark.internal.locus.decline(this.locus).then(function(t){return e.setLocus(t)}).then((0,w.tap)(function(){return e.cleanup()})).then((0,w.tap)(function(){return e.logger.info("call: rejected")})))},requestFloor:function(){var e=this;return this.logger.info("call: requesting floor grant"),d.default.resolve().then((0,E.waitForMediaShare)(this)).then(function(t){return e.spark.internal.locus.requestFloorGrant(e.locus,t)})},setLocus:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.locus;if(!n)return this.locus=e,d.default.resolve();switch(this.spark.internal.locus.compare(n,e)){case S.USE_INCOMING:this.locus=this.spark.internal.locus.merge(this.locus,e),this.device&&(this.correlationId=this.device.correlationId);break;case S.FETCH:return r?(this.logger.info("call: fetching locus according to sequencing algorithm"),this.spark.internal.locus.get(n).then(function(e){return t.setLocus(e,!0)})):(this.logger.info("call: syncing locus according to sequencing algorithm"),this.spark.internal.locus.sync(n).then(function(e){return t.setLocus(e,!0)}))}return d.default.resolve()},sendDtmf:function(e){return this.supportsDtmf?this.spark.internal.locus.sendDtmf(this.locus,e):d.default.reject(new Error("this call does not support dtmf"))},sendFeedback:function(e){return this.spark.internal.metrics.submit("meetup_call_user_rating",e)},startApplicationShare:function(){var e=this;return this.logger.info("call: sharing application"),new d.default(function(t){e.media.once("answeraccepted",t),e.media.setMedia("screen","sendonly",{mediaSource:"application"})}).then(function(){return e.requestFloor()})},startScreenShare:function(){var e=this;return this.logger.info("call: sharing screen"),new d.default(function(t){e.media.once("answeraccepted",t),e.media.setMedia("screen","sendonly",{mediaSource:"screen"})}).then(function(){return e.requestFloor()})},startReceivingAudio:function(){return this.changeReceivingMedia("audio",!0)},startReceivingVideo:function(){return this.changeReceivingMedia("video",!0)},startSendingAudio:function(){return this.changeSendingMedia("audio",!0)},startSendingVideo:function(){return this.changeSendingMedia("video",!0)},stopScreenShare:function(){var e=this;return this.logger.info("call: stopping screen/application share"),this.releaseFloor().then(function(){return new d.default(function(t){e.media.once("answeraccepted",t),e.media.setMedia("screen","inactive")})})},stopReceivingAudio:function(){return this.changeReceivingMedia("audio",!1)},stopReceivingVideo:function(){return this.changeReceivingMedia("video",!1)},stopSendingAudio:function(){return this.changeSendingMedia("audio",!1)},stopSendingVideo:function(){return this.changeSendingMedia("video",!1)},toggleFacingMode:function(){var e=this;if(!this.sendingVideo)throw new Error("Cannot toggle facingMode if we're not sending video");if("user"!==this.facingMode&&"environment"!==this.facingMode)throw new Error("Cannot determine current facing mode; specify a new localMediaStream to change cameras");var t={facingMode:{ideal:"user"===this.facingMode?"environment":"user"}};return this.media.setMedia("video",(0,T.default)(this.sendingAudio,this.sendingVideo),t).then(function(){e.facingMode=t.facingMode.ideal})},toggleReceivingAudio:function(){return this.receivingAudio?this.stopReceivingAudio():this.startReceivingAudio()},toggleReceivingVideo:function(){return this.receivingVideo?this.stopReceivingVideo():this.startReceivingVideo()},toggleSendingAudio:function(){return this.sendingAudio?this.stopSendingAudio():this.startSendingAudio()},toggleSendingVideo:function(){return this.sendingVideo?this.stopSendingVideo():this.startSendingVideo()},updateMedia:function(e){var t=this;if(this.logger.info("updateMedia"),e.sdp&&!e.sdp.includes("b="))throw new Error("outbound sdp should always have a 'b=' line");return this.spark.internal.locus.updateMedia(this.locus,e).then(function(e){return t.setLocus(e)})},updateVideoMuteSdp:function(e,t){var r=R(!t,this.receivingVideo),n=R(t,this.receivingVideo);return e.replace(new RegExp("a=mid:video[^a]+a="+n,"gi"),"a=mid:video\na="+r)},updateMuteToggles:function(e,t){this.logger.info("updating mute toggles: "+e+"="+t);var r={mediaId:this.mediaId,audioMuted:!this.sendingAudio,videoMuted:!this.sendingVideo};return"audio"===e?r.audioMuted=!t:"video"===e&&(r.videoMuted=!t,r.sdp=this.updateVideoMuteSdp(this.media.offerSdp,!t)),this.updateMedia(r)},validateLocusMediaState:function(e){var t=e.self.status.audioStatus.toLowerCase(),r=this.media.audioDirection;if(t!==r)throw this.logger.warn("locus: expected audio "+t+" (locus) to equal "+r+" (local media)"),new Error("locus.self.status.audioStatus indicates the received DTO is out of date");var n=e.self.status.videoStatus.toLowerCase(),i=this.media.videoDirection;if(n!==i)throw this.logger.warn("locus: expected video "+n+" (locus) to equal "+i+" (local media)"),new Error("locus.self.status.videoStatus indicates the received DTO is out of date");return e},waitForExpectedLocus:function(){var e=this;return new d.default(function(t){var r=function r(){try{e.validateLocusMediaState(e.locus),e.off("change:locus",r),t()}catch(t){e.logger.warn("locus: current locus not in expected state; waiting for next locus")}};e.on("change:locus",r),r()})},version:"1.43.5"},"acknowledge",[w.oneFlight],(0,s.default)(u,"acknowledge"),u),j(u,"answer",[w.oneFlight,n],(0,s.default)(u,"answer"),u),j(u,"createOrJoinLocus",[w.oneFlight],(0,s.default)(u,"createOrJoinLocus"),u),j(u,"decline",[i],(0,s.default)(u,"decline"),u),j(u,"dial",[w.oneFlight],(0,s.default)(u,"dial"),u),j(u,"leave",[w.oneFlight,o],(0,s.default)(u,"leave"),u),j(u,"onMediaNegotiationNeeded",[a],(0,s.default)(u,"onMediaNegotiationNeeded"),u),j(u,"pollForExpectedLocusAndSdp",[w.retry],(0,s.default)(u,"pollForExpectedLocusAndSdp"),u),j(u,"reject",[w.oneFlight],(0,s.default)(u,"reject"),u),j(u,"updateMuteToggles",[w.oneFlight],(0,s.default)(u,"updateMuteToggles"),u),u));N.make=function(e,t){return new N(e,t)},t.default=N}).call(this,r(23))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Forbidden=t.NotAuthorized=t.BadRequest=t.UnknownResponse=t.ConnectionError=void 0;var n,i,o,a,u,s,c,f,l,d,p=_(r(164)),h=_(r(14)),v=_(r(8)),g=_(r(11)),y=_(r(15)),m=_(r(16)),b=r(13);function _(e){return e&&e.__esModule?e:{default:e}}var w=t.ConnectionError=(i=n=function(e){function t(){return(0,v.default)(this,t),(0,y.default)(this,(t.__proto__||(0,h.default)(t)).apply(this,arguments))}return(0,m.default)(t,e),(0,g.default)(t,[{key:"parse",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,p.default)(this,{code:{value:e.code},reason:{value:e.reason}}),e.reason}}]),t}(b.Exception),n.defaultMessage="Failed to connect to socket",i);t.UnknownResponse=(a=o=function(e){function t(){return(0,v.default)(this,t),(0,y.default)(this,(t.__proto__||(0,h.default)(t)).apply(this,arguments))}return(0,m.default)(t,e),t}(w),o.defaultMessage="UnknownResponse is produced by IE when we receive a 4XXX. You probably want to treat this like a NotFound",a),t.BadRequest=(s=u=function(e){function t(){return(0,v.default)(this,t),(0,y.default)(this,(t.__proto__||(0,h.default)(t)).apply(this,arguments))}return(0,m.default)(t,e),t}(w),u.defaultMessage="BadRequest usually implies an attempt to use service account credentials",s),t.NotAuthorized=(f=c=function(e){function t(){return(0,v.default)(this,t),(0,y.default)(this,(t.__proto__||(0,h.default)(t)).apply(this,arguments))}return(0,m.default)(t,e),t}(w),c.defaultMessage="Please refresh your access token",f),t.Forbidden=(d=l=function(e){function t(){return(0,v.default)(this,t),(0,y.default)(this,(t.__proto__||(0,h.default)(t)).apply(this,arguments))}return(0,m.default)(t,e),t}(w),l.defaultMessage="Forbidden usually implies these credentials are not entitled for Spark",d)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=c(r(134)),i=c(r(24)),o=c(r(1)),a=c(r(389)),u=r(2),s=r(132);function c(e){return e&&e.__esModule?e:{default:e}}
/*!
 * Copyright (c) 2015-2017 Cisco Systems, Inc. See LICENSE file.
 */var f=(0,a.default)("metric id"),l=u.Batcher.extend({namespace:"Metrics",prepareItem:function(e){return e.appType=e.appType||this.config.appType,e.env=e.env||"TEST",e.time=e.time||Date.now(),e.version=e.version||this.spark.version,o.default.resolve(e)},prepareRequest:function(e){return o.default.resolve(e.map(function(e){return e.postTime=e.postTime||Date.now(),e}))},submitHttpRequest:function(e){return this.spark.request({method:"POST",service:"metrics",resource:"metrics",body:{metrics:e}})},handleHttpSuccess:function(e){var t=this;return o.default.all(e.options.body.metrics.map(function(e){return t.acceptItem(e)}))},handleHttpError:function(e){var t=this;return e instanceof u.SparkHttpError.NetworkOrCORSError?(this.logger.warn("metrics-batcher: received network error submitting metrics, reenqueuing payload"),o.default.all(e.options.body.metrics.map(function(e){return new o.default(function(r){var n=e[f].nextDelay;n<t.config.batcherRetryPlateau&&(e[f].nextDelay*=2),(0,s.safeSetTimeout)(function(){r(t.rerequest(e))},n)})}))):(0,i.default)(u.Batcher.prototype.handleHttpError,this,[e])},rerequest:function(e){var t=this;return o.default.all([this.getDeferredForRequest(e),this.prepareItem(e)]).then(function(e){var r=(0,n.default)(e,2),i=r[0],o=r[1];t.enqueue(o).then(function(){return t.bounce()}).catch(function(e){return i.reject(e)})})},fingerprintRequest:function(e){return e[f]=e[f]||{nextDelay:1e3},o.default.resolve(e[f])},fingerprintResponse:function(e){return o.default.resolve(e[f])}});t.default=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s(r(77)),i=s(r(60)),o=s(r(1)),a=s(r(51)),u=s(r(307));function s(e){return e&&e.__esModule?e:{default:e}}
/*!
 * Copyright (c) 2015-2017 Cisco Systems, Inc. See LICENSE file.
 */function c(e){return Boolean(e.self&&p(e.self))}function f(e,t){return c(t)&&t.self.devices.some(function(t){return e.internal.device.url===t.url&&"JOINED"===t.state})}function l(e,t,r){var n=void 0,i=void 0;return r.person.isExternal||(i=r.person.id,n=e.people.inferPersonIdFromUuid(r.person.id)),{_id:r.id,isSelf:t.self.url===r.url,isInitiator:r.isCreator||!1,personUuid:i,personId:n,state:d(r),audioMuted:g(r),videoMuted:y(r)}}function d(e){var t=e.state&&e.state.toLowerCase();switch(t){case"idle":return"notified";case"joined":return"connected";case"left":return"disconnected";default:return t}}function p(e){return e&&"JOINED"===e.state}function h(e){return v(e)[0]}function v(e){return e.participants.filter(function(t){return"USER"===t.type&&t.url!==e.self.url})}function g(e){return p(e)&&!e.status.audioStatus.includes("SEND")}function y(e){return p(e)&&!e.status.videoStatus.includes("SEND")}t.activeParticipants=function(e){return(0,u.default)(e.participants,{state:"JOINED"})},t.direction=function(e){if(!e||!e.self)return"unknown";return e.self.isCreator?"out":"in"},t.waitForMediaShare=function(e){return function(){var t=new o.default(function(t,r){!function n(){try{e.logger.info("checking for media share");var i=e.locus.mediaShares.find(function(e){return"content"===e.name});if(!i)return e.logger.info("did not find media share, waiting for next locus change"),void e.once("change:locus",n);e.logger.info("found media share"),t(i)}catch(t){e.logger.error("something unexpected happened"),e.logger.error(t),r(t)}}()});return o.default.race([t,new o.default(function(e,t){return setTimeout(t(new Error("Could not find media share after 10000ms")),1e4)})])}},t.isActive=function(e){return"ACTIVE"===e.fullState.state},t.isCall=function(e){return e&&e.fullState&&"CALL"===e.fullState.type},t.joined=c,t.joinedOnThisDevice=f,t.participantsToCallMemberships=function(e,t){var r=new i.default,o=new i.default,u=!0,s=!1,c=void 0;try{for(var f,d=(0,n.default)(t.participants);!(u=(f=d.next()).done);u=!0){var p=f.value;"USER"===p.type?r.set(p.url,p):"RESOURCE_ROOM"===p.type&&o.set(p.url,p)}}catch(e){s=!0,c=e}finally{try{!u&&d.return&&d.return()}finally{if(s)throw c}}var h=[];return r.forEach(function(r){var i=l(e,t,r);if(r.devices){var u=!0,s=!1,c=void 0;try{for(var f,d=(0,n.default)(r.devices);!(u=(f=d.next()).done);u=!0){var p=f.value;if("JOINED"===p.state&&"OBSERVE"===(0,a.default)(p,"intent.type")){var v=o.get(p.url);i.audioMuted=g(v),i.videoMuted=y(v)}o.delete(p.url)}}catch(e){s=!0,c=e}finally{try{!u&&d.return&&d.return()}finally{if(s)throw c}}}h.push(i)}),o.forEach(function(r){var n=l(e,t,r);h.push(n)}),h},t.participantToCallMembership=l,t.participantStateToCallMembershipState=d,t.makeInternalCallId=function(e){return e.url+"_"+e.fullState.lastActive},t.mediaDirection=function(e,t){if(!t)return"inactive";if(!t.status)return"inactive";return(t.status[e+"Status"]||"inactive").toLowerCase()},t.participantIsJoined=p,t.remoteParticipant=h,t.remoteParticipants=v,t.remoteAudioMuted=g,t.remoteVideoMuted=y,t.shouldRing=function(e){return"NONE"!==(0,a.default)(e,"self.alertType.action")},t.getState=function(e){return e&&e.fullState&&e.fullState.state.toLowerCase()},t.getStatus=function(e,t,r){if(t){var i=h(t);if(i){if(f(e,t)&&i&&p(i))return"connected";if(t.replaces){var o=!0,u=!1,s=void 0;try{for(var c,l=(0,n.default)(t.replaces);!(o=(c=l.next()).done);o=!0){var d=c.value;if(d.locusUrl===r.url&&d.lastActive===(0,a.default)(r,"fullState.lastActive"))return"replaced"}}catch(e){u=!0,s=e}finally{try{!o&&l.return&&l.return()}finally{if(u)throw s}}}var v=t.self;if("LEFT"===i.state||"LEFT"===v.state)return"disconnected";if("DECLINED"===i.state)return"disconnected";if("NOTIFIED"===i.state)return"ringing"}}return"initiated"},t.getThisDevice=function(e,t){return t&&t.self&&t.self.devices.find(function(t){return t.url===e.internal.device.url})}},function(e,t,r){(t=e.exports=r(503)).Stream=t,t.Readable=t,t.Writable=r(313),t.Duplex=r(116),t.Transform=r(507),t.PassThrough=r(1139)},function(e,t,r){"use strict";(function(t,n,i){var o=r(217);function a(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,r){var n=e.entry;e.entry=null;for(;n;){var i=n.callback;t.pendingcb--,i(r),n=n.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}(t,e)}}e.exports=m;var u,s=!t.browser&&["v0.10","v0.9."].indexOf(t.version.slice(0,5))>-1?n:o.nextTick;m.WritableState=y;var c=r(168);c.inherits=r(113);var f={deprecate:r(1138)},l=r(504),d=r(218).Buffer,p=i.Uint8Array||function(){};var h,v=r(505);function g(){}function y(e,t){u=u||r(116),e=e||{};var n=t instanceof u;this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var i=e.highWaterMark,c=e.writableHighWaterMark,f=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:n&&(c||0===c)?c:f,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var l=!1===e.decodeStrings;this.decodeStrings=!l,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,n=r.sync,i=r.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function(e,t,r,n,i){--t.pendingcb,r?(o.nextTick(i,n),o.nextTick(x,e,t),e._writableState.errorEmitted=!0,e.emit("error",n)):(i(n),e._writableState.errorEmitted=!0,e.emit("error",n),x(e,t))}(e,r,n,t,i);else{var a=S(r);a||r.corked||r.bufferProcessing||!r.bufferedRequest||w(e,r),n?s(_,e,r,a,i):_(e,r,a,i)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new a(this)}function m(e){if(u=u||r(116),!(h.call(m,this)||this instanceof u))return new m(e);this._writableState=new y(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),l.call(this)}function b(e,t,r,n,i,o,a){t.writelen=n,t.writecb=a,t.writing=!0,t.sync=!0,r?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function _(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),x(e,t)}function w(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,i=new Array(n),o=t.corkedRequestsFree;o.entry=r;for(var u=0,s=!0;r;)i[u]=r,r.isBuf||(s=!1),r=r.next,u+=1;i.allBuffers=s,b(e,t,!0,t.length,i,"",o.finish),t.pendingcb++,t.lastBufferedRequest=null,o.next?(t.corkedRequestsFree=o.next,o.next=null):t.corkedRequestsFree=new a(t),t.bufferedRequestCount=0}else{for(;r;){var c=r.chunk,f=r.encoding,l=r.callback;if(b(e,t,!1,t.objectMode?1:c.length,c,f,l),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function S(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function k(e,t){e._final(function(r){t.pendingcb--,r&&e.emit("error",r),t.prefinished=!0,e.emit("prefinish"),x(e,t)})}function x(e,t){var r=S(t);return r&&(!function(e,t){t.prefinished||t.finalCalled||("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,o.nextTick(k,e,t)):(t.prefinished=!0,e.emit("prefinish")))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),r}c.inherits(m,l),y.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(y.prototype,"buffer",{get:f.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(h=Function.prototype[Symbol.hasInstance],Object.defineProperty(m,Symbol.hasInstance,{value:function(e){return!!h.call(this,e)||this===m&&(e&&e._writableState instanceof y)}})):h=function(e){return e instanceof this},m.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},m.prototype.write=function(e,t,r){var n=this._writableState,i=!1,a=!n.objectMode&&function(e){return d.isBuffer(e)||e instanceof p}(e);return a&&!d.isBuffer(e)&&(e=function(e){return d.from(e)}(e)),"function"==typeof t&&(r=t,t=null),a?t="buffer":t||(t=n.defaultEncoding),"function"!=typeof r&&(r=g),n.ended?function(e,t){var r=new Error("write after end");e.emit("error",r),o.nextTick(t,r)}(this,r):(a||function(e,t,r,n){var i=!0,a=!1;return null===r?a=new TypeError("May not write null values to stream"):"string"==typeof r||void 0===r||t.objectMode||(a=new TypeError("Invalid non-string/buffer chunk")),a&&(e.emit("error",a),o.nextTick(n,a),i=!1),i}(this,n,e,r))&&(n.pendingcb++,i=function(e,t,r,n,i,o){if(!r){var a=function(e,t,r){e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=d.from(t,r));return t}(t,n,i);n!==a&&(r=!0,i="buffer",n=a)}var u=t.objectMode?1:n.length;t.length+=u;var s=t.length<t.highWaterMark;s||(t.needDrain=!0);if(t.writing||t.corked){var c=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},c?c.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else b(e,t,!1,u,n,i,o);return s}(this,n,a,e,t,r)),i},m.prototype.cork=function(){this._writableState.corked++},m.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||w(this,e))},m.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(m.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),m.prototype._write=function(e,t,r){r(new Error("_write() is not implemented"))},m.prototype._writev=null,m.prototype.end=function(e,t,r){var n=this._writableState;"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!==e&&void 0!==e&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||n.finished||function(e,t,r){t.ending=!0,x(e,t),r&&(t.finished?o.nextTick(r):e.once("finish",r));t.ended=!0,e.writable=!1}(this,n,r)},Object.defineProperty(m.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),m.prototype.destroy=v.destroy,m.prototype._undestroy=v.undestroy,m.prototype._destroy=function(e,t){this.end(),t(e)}}).call(this,r(23),r(1136).setImmediate,r(32))},function(e,t,r){e.exports=!r(20)&&!r(10)(function(){return 7!=Object.defineProperty(r(219)("div"),"a",{get:function(){return 7}}).a})},function(e,t,r){t.f=r(17)},function(e,t,r){var n=r(45),i=r(46),o=r(170)(!1),a=r(221)("IE_PROTO");e.exports=function(e,t){var r,u=i(e),s=0,c=[];for(r in u)r!=a&&n(u,r)&&c.push(r);for(;t.length>s;)n(u,r=t[s++])&&(~o(c,r)||c.push(r));return c}},function(e,t,r){var n=r(21),i=r(3),o=r(96);e.exports=r(20)?Object.defineProperties:function(e,t){i(e);for(var r,a=o(t),u=a.length,s=0;u>s;)n.f(e,r=a[s++],t[r]);return e}},function(e,t,r){var n=r(46),i=r(99).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return a&&"[object Window]"==o.call(e)?function(e){try{return i(e)}catch(e){return a.slice()}}(e):i(n(e))}},function(e,t,r){"use strict";var n=r(96),i=r(171),o=r(137),a=r(25),u=r(136),s=Object.assign;e.exports=!s||r(10)(function(){var e={},t={},r=Symbol(),n="abcdefghijklmnopqrst";return e[r]=7,n.split("").forEach(function(e){t[e]=e}),7!=s({},e)[r]||Object.keys(s({},t)).join("")!=n})?function(e,t){for(var r=a(e),s=arguments.length,c=1,f=i.f,l=o.f;s>c;)for(var d,p=u(arguments[c++]),h=f?n(p).concat(f(p)):n(p),v=h.length,g=0;v>g;)l.call(p,d=h[g++])&&(r[d]=p[d]);return r}:s},function(e,t,r){"use strict";var n=r(33),i=r(12),o=r(321),a=[].slice,u={};e.exports=Function.bind||function(e){var t=n(this),r=a.call(arguments,1),s=function(){var n=r.concat(a.call(arguments));return this instanceof s?function(e,t,r){if(!(t in u)){for(var n=[],i=0;i<t;i++)n[i]="a["+i+"]";u[t]=Function("F,a","return new F("+n.join(",")+")")}return u[t](e,r)}(t,n.length,n):o(t,n,e)};return i(t.prototype)&&(s.prototype=t.prototype),s}},function(e,t){e.exports=function(e,t,r){var n=void 0===r;switch(t.length){case 0:return n?e():e.call(r);case 1:return n?e(t[0]):e.call(r,t[0]);case 2:return n?e(t[0],t[1]):e.call(r,t[0],t[1]);case 3:return n?e(t[0],t[1],t[2]):e.call(r,t[0],t[1],t[2]);case 4:return n?e(t[0],t[1],t[2],t[3]):e.call(r,t[0],t[1],t[2],t[3])}return e.apply(r,t)}},function(e,t,r){var n=r(6).parseInt,i=r(118).trim,o=r(225),a=/^[-+]?0[xX]/;e.exports=8!==n(o+"08")||22!==n(o+"0x16")?function(e,t){var r=i(String(e),3);return n(r,t>>>0||(a.test(r)?16:10))}:n},function(e,t,r){var n=r(6).parseFloat,i=r(118).trim;e.exports=1/n(r(225)+"-0")!=-1/0?function(e){var t=i(String(e),3),r=n(t);return 0===r&&"-"==t.charAt(0)?-0:r}:n},function(e,t,r){var n=r(55);e.exports=function(e,t){if("number"!=typeof e&&"Number"!=n(e))throw TypeError(t);return+e}},function(e,t,r){var n=r(12),i=Math.floor;e.exports=function(e){return!n(e)&&isFinite(e)&&i(e)===e}},function(e,t){e.exports=Math.log1p||function(e){return(e=+e)>-1e-8&&e<1e-8?e-e*e/2:Math.log(1+e)}},function(e,t,r){var n=r(228),i=Math.pow,o=i(2,-52),a=i(2,-23),u=i(2,127)*(2-a),s=i(2,-126);e.exports=Math.fround||function(e){var t,r,i=Math.abs(e),c=n(e);return i<s?c*function(e){return e+1/o-1/o}(i/s/a)*s*a:(r=(t=(1+a/o)*i)-(t-i))>u||r!=r?c*(1/0):c*r}},function(e,t,r){var n=r(3);e.exports=function(e,t,r,i){try{return i?t(n(r)[0],r[1]):t(r)}catch(t){var o=e.return;throw void 0!==o&&n(o.call(e)),t}}},function(e,t,r){var n=r(33),i=r(25),o=r(136),a=r(22);e.exports=function(e,t,r,u,s){n(t);var c=i(e),f=o(c),l=a(c.length),d=s?l-1:0,p=s?-1:1;if(r<2)for(;;){if(d in f){u=f[d],d+=p;break}if(d+=p,s?d<0:l<=d)throw TypeError("Reduce of empty array with no initial value")}for(;s?d>=0:l>d;d+=p)d in f&&(u=t(u,f[d],d,c));return u}},function(e,t,r){"use strict";var n=r(25),i=r(97),o=r(22);e.exports=[].copyWithin||function(e,t){var r=n(this),a=o(r.length),u=i(e,a),s=i(t,a),c=arguments.length>2?arguments[2]:void 0,f=Math.min((void 0===c?a:i(c,a))-s,a-u),l=1;for(s<u&&u<s+f&&(l=-1,s+=f-1,u+=f-1);f-- >0;)s in r?r[u]=r[s]:delete r[u],u+=l,s+=l;return r}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,r){r(20)&&"g"!=/./g.flags&&r(21).f(RegExp.prototype,"flags",{configurable:!0,get:r(175)})},function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},function(e,t,r){var n=r(3),i=r(12),o=r(243);e.exports=function(e,t){if(n(e),i(t)&&t.constructor===e)return t;var r=o.f(e);return(0,r.resolve)(t),r.promise}},function(e,t,r){"use strict";var n=r(336),i=r(120);e.exports=r(179)("Map",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{get:function(e){var t=n.getEntry(i(this,"Map"),e);return t&&t.v},set:function(e,t){return n.def(i(this,"Map"),0===e?0:e,t)}},n,!0)},function(e,t,r){"use strict";var n=r(21).f,i=r(98),o=r(103),a=r(54),u=r(101),s=r(102),c=r(231),f=r(331),l=r(100),d=r(20),p=r(80).fastKey,h=r(120),v=d?"_s":"size",g=function(e,t){var r,n=p(t);if("F"!==n)return e._i[n];for(r=e._f;r;r=r.n)if(r.k==t)return r};e.exports={getConstructor:function(e,t,r,c){var f=e(function(e,n){u(e,f,t,"_i"),e._t=t,e._i=i(null),e._f=void 0,e._l=void 0,e[v]=0,void 0!=n&&s(n,r,e[c],e)});return o(f.prototype,{clear:function(){for(var e=h(this,t),r=e._i,n=e._f;n;n=n.n)n.r=!0,n.p&&(n.p=n.p.n=void 0),delete r[n.i];e._f=e._l=void 0,e[v]=0},delete:function(e){var r=h(this,t),n=g(r,e);if(n){var i=n.n,o=n.p;delete r._i[n.i],n.r=!0,o&&(o.n=i),i&&(i.p=o),r._f==n&&(r._f=i),r._l==n&&(r._l=o),r[v]--}return!!n},forEach:function(e){h(this,t);for(var r,n=a(e,arguments.length>1?arguments[1]:void 0,3);r=r?r.n:this._f;)for(n(r.v,r.k,this);r&&r.r;)r=r.p},has:function(e){return!!g(h(this,t),e)}}),d&&n(f.prototype,"size",{get:function(){return h(this,t)[v]}}),f},def:function(e,t,r){var n,i,o=g(e,t);return o?o.v=r:(e._l=o={i:i=p(t,!0),k:t,v:r,p:n=e._l,n:void 0,r:!1},e._f||(e._f=o),n&&(n.n=o),e[v]++,"F"!==i&&(e._i[i]=o)),e},getEntry:g,setStrong:function(e,t,r){c(e,t,function(e,r){this._t=h(e,t),this._k=r,this._l=void 0},function(){for(var e=this._k,t=this._l;t&&t.r;)t=t.p;return this._t&&(this._l=t=t?t.n:this._t._f)?f(0,"keys"==e?t.k:"values"==e?t.v:[t.k,t.v]):(this._t=void 0,f(1))},r?"entries":"values",!r,!0),l(t)}}},function(e,t,r){"use strict";var n=r(336),i=r(120);e.exports=r(179)("Set",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{add:function(e){return n.def(i(this,"Set"),e=0===e?0:e,e)}},n)},function(e,t,r){"use strict";var n,i=r(68)(0),o=r(41),a=r(80),u=r(319),s=r(339),c=r(12),f=r(10),l=r(120),d=a.getWeak,p=Object.isExtensible,h=s.ufstore,v={},g=function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},y={get:function(e){if(c(e)){var t=d(e);return!0===t?h(l(this,"WeakMap")).get(e):t?t[this._i]:void 0}},set:function(e,t){return s.def(l(this,"WeakMap"),e,t)}},m=e.exports=r(179)("WeakMap",g,y,s,!0,!0);f(function(){return 7!=(new m).set((Object.freeze||Object)(v),7).get(v)})&&(u((n=s.getConstructor(g,"WeakMap")).prototype,y),a.NEED=!0,i(["delete","has","get","set"],function(e){var t=m.prototype,r=t[e];o(t,e,function(t,i){if(c(t)&&!p(t)){this._f||(this._f=new n);var o=this._f[e](t,i);return"set"==e?this:o}return r.call(this,t,i)})}))},function(e,t,r){"use strict";var n=r(103),i=r(80).getWeak,o=r(3),a=r(12),u=r(101),s=r(102),c=r(68),f=r(45),l=r(120),d=c(5),p=c(6),h=0,v=function(e){return e._l||(e._l=new g)},g=function(){this.a=[]},y=function(e,t){return d(e.a,function(e){return e[0]===t})};g.prototype={get:function(e){var t=y(this,e);if(t)return t[1]},has:function(e){return!!y(this,e)},set:function(e,t){var r=y(this,e);r?r[1]=t:this.a.push([e,t])},delete:function(e){var t=p(this.a,function(t){return t[0]===e});return~t&&this.a.splice(t,1),!!~t}},e.exports={getConstructor:function(e,t,r,o){var c=e(function(e,n){u(e,c,t,"_i"),e._t=t,e._i=h++,e._l=void 0,void 0!=n&&s(n,r,e[o],e)});return n(c.prototype,{delete:function(e){if(!a(e))return!1;var r=i(e);return!0===r?v(l(this,t)).delete(e):r&&f(r,this._i)&&delete r[this._i]},has:function(e){if(!a(e))return!1;var r=i(e);return!0===r?v(l(this,t)).has(e):r&&f(r,this._i)}}),c},def:function(e,t,r){var n=i(o(t),!0);return!0===n?v(e).set(t,r):n[e._i]=r,e},ufstore:v}},function(e,t,r){var n=r(66),i=r(22);e.exports=function(e){if(void 0===e)return 0;var t=n(e),r=i(t);if(t!==r)throw RangeError("Wrong length!");return r}},function(e,t,r){var n=r(99),i=r(171),o=r(3),a=r(6).Reflect;e.exports=a&&a.ownKeys||function(e){var t=n.f(o(e)),r=i.f;return r?t.concat(r(e)):t}},function(e,t,r){"use strict";var n=r(172),i=r(12),o=r(22),a=r(54),u=r(17)("isConcatSpreadable");e.exports=function e(t,r,s,c,f,l,d,p){for(var h,v,g=f,y=0,m=!!d&&a(d,p,3);y<c;){if(y in s){if(h=m?m(s[y],y,r):s[y],v=!1,i(h)&&(v=void 0!==(v=h[u])?!!v:n(h)),v&&l>0)g=e(t,r,h,o(h.length),g,l-1)-1;else{if(g>=9007199254740991)throw TypeError();t[g]=h}g++}y++}return g}},function(e,t,r){var n=r(22),i=r(227),o=r(65);e.exports=function(e,t,r,a){var u=String(o(e)),s=u.length,c=void 0===r?" ":String(r),f=n(t);if(f<=s||""==c)return u;var l=f-s,d=i.call(c,Math.ceil(l/c.length));return d.length>l&&(d=d.slice(0,l)),a?d+u:u+d}},function(e,t,r){var n=r(96),i=r(46),o=r(137).f;e.exports=function(e){return function(t){for(var r,a=i(t),u=n(a),s=u.length,c=0,f=[];s>c;)o.call(a,r=u[c++])&&f.push(e?[r,a[r]]:a[r]);return f}}},function(e,t,r){var n=r(138),i=r(346);e.exports=function(e){return function(){if(n(this)!=e)throw TypeError(e+"#toJSON isn't generic");return i(this)}}},function(e,t,r){var n=r(102);e.exports=function(e,t){var r=[];return n(e,!1,r.push,r,t),r}},function(e,t){e.exports=Math.scale||function(e,t,r,n,i){return 0===arguments.length||e!=e||t!=t||r!=r||n!=n||i!=i?NaN:e===1/0||e===-1/0?e:(e-t)*(i-n)/(r-t)+n}},function(e,t,r){e.exports=!r(57)&&!r(58)(function(){return 7!=Object.defineProperty(r(247)("div"),"a",{get:function(){return 7}}).a})},function(e,t,r){var n=r(50),i=r(29),o=r(122);e.exports=r(57)?Object.defineProperties:function(e,t){i(e);for(var r,a=o(t),u=a.length,s=0;u>s;)n.f(e,r=a[s++],t[r]);return e}},function(e,t,r){var n=r(84),i=r(83),o=r(725)(!1),a=r(252)("IE_PROTO");e.exports=function(e,t){var r,u=i(e),s=0,c=[];for(r in u)r!=a&&n(u,r)&&c.push(r);for(;t.length>s;)n(u,r=t[s++])&&(~o(c,r)||c.push(r));return c}},function(e,t,r){var n=r(27).document;e.exports=n&&n.documentElement},function(e,t,r){var n=r(84),i=r(123),o=r(252)("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=i(e),n(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,r){var n=r(29);e.exports=function(e,t,r,i){try{return i?t(n(r)[0],r[1]):t(r)}catch(t){var o=e.return;throw void 0!==o&&n(o.call(e)),t}}},function(e,t,r){var n=r(121),i=r(35)("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(n.Array===e||o[i]===e)}},function(e,t,r){var n=r(29),i=r(85),o=r(35)("species");e.exports=function(e,t){var r,a=n(e).constructor;return void 0===a||void 0==(r=n(a)[o])?t:i(r)}},function(e,t,r){var n,i,o,a=r(76),u=r(358),s=r(351),c=r(247),f=r(27),l=f.process,d=f.setImmediate,p=f.clearImmediate,h=f.MessageChannel,v=f.Dispatch,g=0,y={},m=function(){var e=+this;if(y.hasOwnProperty(e)){var t=y[e];delete y[e],t()}},b=function(e){m.call(e.data)};d&&p||(d=function(e){for(var t=[],r=1;arguments.length>r;)t.push(arguments[r++]);return y[++g]=function(){u("function"==typeof e?e:Function(e),t)},n(g),g},p=function(e){delete y[e]},"process"==r(139)(l)?n=function(e){l.nextTick(a(m,e,1))}:v&&v.now?n=function(e){v.now(a(m,e,1))}:h?(o=(i=new h).port2,i.port1.onmessage=b,n=a(o.postMessage,o,1)):f.addEventListener&&"function"==typeof postMessage&&!f.importScripts?(n=function(e){f.postMessage(e+"","*")},f.addEventListener("message",b,!1)):n="onreadystatechange"in c("script")?function(e){s.appendChild(c("script")).onreadystatechange=function(){s.removeChild(this),m.call(e)}}:function(e){setTimeout(a(m,e,1),0)}),e.exports={set:d,clear:p}},function(e,t){e.exports=function(e,t,r){var n=void 0===r;switch(t.length){case 0:return n?e():e.call(r);case 1:return n?e(t[0]):e.call(r,t[0]);case 2:return n?e(t[0],t[1]):e.call(r,t[0],t[1]);case 3:return n?e(t[0],t[1],t[2]):e.call(r,t[0],t[1],t[2]);case 4:return n?e(t[0],t[1],t[2],t[3]):e.call(r,t[0],t[1],t[2],t[3])}return e.apply(r,t)}},function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},function(e,t,r){var n=r(29),i=r(34),o=r(256);e.exports=function(e,t){if(n(e),i(t)&&t.constructor===e)return t;var r=o.f(e);return(0,r.resolve)(t),r.promise}},function(e,t,r){"use strict";var n=r(27),i=r(7),o=r(50),a=r(57),u=r(35)("species");e.exports=function(e){var t="function"==typeof i[e]?i[e]:n[e];a&&t&&!t[u]&&o.f(t,u,{configurable:!0,get:function(){return this}})}},function(e,t,r){var n=r(35)("iterator"),i=!1;try{var o=[7][n]();o.return=function(){i=!0},Array.from(o,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!i)return!1;var r=!1;try{var o=[7],a=o[n]();a.next=function(){return{done:r=!0}},o[n]=function(){return a},e(o)}catch(e){}return r}},function(e,t,r){"use strict";var n=r(122),i=r(257),o=r(141),a=r(123),u=r(245),s=Object.assign;e.exports=!s||r(58)(function(){var e={},t={},r=Symbol(),n="abcdefghijklmnopqrst";return e[r]=7,n.split("").forEach(function(e){t[e]=e}),7!=s({},e)[r]||Object.keys(s({},t)).join("")!=n})?function(e,t){for(var r=a(e),s=arguments.length,c=1,f=i.f,l=o.f;s>c;)for(var d,p=u(arguments[c++]),h=f?n(p).concat(f(p)):n(p),v=h.length,g=0;v>g;)l.call(p,d=h[g++])&&(r[d]=p[d]);return r}:s},function(e,t,r){(function(t){var r="object"==typeof t&&t&&t.Object===Object&&t;e.exports=r}).call(this,r(32))},function(e,t){var r=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return r.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},function(e,t,r){var n=r(109),i=function(){try{var e=n(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=i},function(e,t,r){var n=r(768),i=r(147),o=r(4),a=r(148),u=r(149),s=r(197),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var r=o(e),f=!r&&i(e),l=!r&&!f&&a(e),d=!r&&!f&&!l&&s(e),p=r||f||l||d,h=p?n(e.length,String):[],v=h.length;for(var g in e)!t&&!c.call(e,g)||p&&("length"==g||l&&("offset"==g||"parent"==g)||d&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||u(g,v))||h.push(g);return h}},function(e,t,r){var n=r(150),i=r(772),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!n(e))return i(e);var t=[];for(var r in Object(e))o.call(e,r)&&"constructor"!=r&&t.push(r);return t}},function(e,t){e.exports=function(e,t){return function(r){return e(t(r))}}},function(e,t,r){(function(e){var n=r(37),i="object"==typeof t&&t&&!t.nodeType&&t,o=i&&"object"==typeof e&&e&&!e.nodeType&&e,a=o&&o.exports===i?n.Buffer:void 0,u=a?a.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var r=e.length,n=u?u(r):new e.constructor(r);return e.copy(n),n}}).call(this,r(196)(e))},function(e,t){e.exports=function(){return[]}},function(e,t,r){var n=r(199),i=r(265),o=r(263),a=r(371),u=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)n(t,o(e)),e=i(e);return t}:a;e.exports=u},function(e,t,r){var n=r(374),i=r(263),o=r(70);e.exports=function(e){return n(e,o,i)}},function(e,t,r){var n=r(199),i=r(4);e.exports=function(e,t,r){var o=t(e);return i(e)?o:n(o,r(e))}},function(e,t,r){var n=r(374),i=r(372),o=r(151);e.exports=function(e){return n(e,o,i)}},function(e,t,r){var n=r(109)(r(37),"Set");e.exports=n},function(e,t,r){var n=r(109)(r(37),"WeakMap");e.exports=n},function(e,t,r){var n=r(37).Uint8Array;e.exports=n},function(e,t,r){var n=r(266);e.exports=function(e,t){var r=t?n(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}},function(e,t,r){var n=r(200),i=r(265),o=r(150);e.exports=function(e){return"function"!=typeof e.constructor||o(e)?{}:n(i(e))}},function(e,t,r){var n=r(87),i=r(202),o=r(382),a=r(88);e.exports=function(e,t){return t=n(t,e),null==(e=o(e,t))||delete e[a(i(t))]}},function(e,t,r){var n=r(203),i=r(129);e.exports=function(e,t){return t.length<2?e:n(e,i(t,0,-1))}},function(e,t,r){var n=r(89),i=Math.max;e.exports=function(e,t,r){return t=i(void 0===t?e.length-1:t,0),function(){for(var o=arguments,a=-1,u=i(o.length-t,0),s=Array(u);++a<u;)s[a]=o[t+a];a=-1;for(var c=Array(t+1);++a<t;)c[a]=o[a];return c[t]=r(s),n(e,this,c)}}},function(e,t){var r=800,n=16,i=Date.now;e.exports=function(e){var t=0,o=0;return function(){var a=i(),u=n-(a-o);if(o=a,u>0){if(++t>=r)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}},function(e,t){var r={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==r.call(e)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=u(r(8)),i=u(r(11)),o=u(r(44)),a=u(r(39));function u(e){return e&&e.__esModule?e:{default:e}}
/*!
 * Copyright (c) 2015-2017 Cisco Systems, Inc. See LICENSE file.
 */
function s(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];if(e.add)e.add.apply(e,r);else if(e.set)e.set.apply(e,r);else{if(!e.push)throw new TypeError("Could not determine how to insert into the specified container");e.push.apply(e,r)}}t.default=function e(){for(var t=arguments.length,r=Array(t),u=0;u<t;u++)r[u]=arguments[u];var c=r.shift(),f=new o.default,l=new o.default,d=r.length>1?e.apply(void 0,r):r[0],p="("+[c.name].concat(r.map(function(e){return e.name})).join(", ")+")";return function(){function e(){(0,n.default)(this,e);for(var t=arguments.length,r=Array(t),i=0;i<t;i++)r[i]=arguments[i];f.set(this,new(Function.prototype.bind.apply(c,[null].concat(r)))),l.set(this,0)}return(0,i.default)(e,[{key:"add",value:function(){return this.set.apply(this,arguments)}},{key:"clear",value:function(){var e=f.get(this).clear();return l.set(this,0),e}},{key:"delete",value:function(e){for(var t=f.get(this),r=arguments.length,n=Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];if(!n.length)return t.delete(e);var o=t.get(e);if(!o)return!1;var a=o.delete.apply(o,n);return a&&l.set(this,l.get(this)-1),0===o.size&&t.delete(e),a}},{key:"get",value:function(e){var t=f.get(this);if(!t.get)return t;for(var r=arguments.length,n=Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];if(!n.length)return t.get(e);var o=t.get(e);return o?o.get?o.get.apply(o,n):o:void 0}},{key:"has",value:function(){return void 0!==this.get.apply(this,arguments)}},{key:"set",value:function(){for(var e=!1,t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];this.has.apply(this,r)&&(e=!0);var i=f.get(this),o=r.shift();if(!i.get)return s.apply(void 0,[i,o].concat(r)),this;var a=i.get(o);if(!a){if(!d)return s.apply(void 0,[i,o].concat(r)),this;s(i,o,a=new d)}return s.apply(void 0,[a].concat(r)),e||l.set(this,l.get(this)+1),this}},{key:"inspect",value:function(){return"Container"+p+" {\n  "+a.default.inspect(f.get(this),{depth:null})+"\n}"}},{key:"size",get:function(){return l.get(this)}}]),e}()}},function(e,t,r){var n=r(139);e.exports=Array.isArray||function(e){return"Array"==n(e)}},function(e,t,r){e.exports={default:r(821),__esModule:!0}},function(e,t,r){e.exports={default:r(822),__esModule:!0}},function(e,t,r){var n=r(350),i=r(254).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,i)}},function(e,t,r){"use strict";var n=r(50).f,i=r(145),o=r(189),a=r(76),u=r(188),s=r(124),c=r(250),f=r(353),l=r(361),d=r(57),p=r(158).fastKey,h=r(159),v=d?"_s":"size",g=function(e,t){var r,n=p(t);if("F"!==n)return e._i[n];for(r=e._f;r;r=r.n)if(r.k==t)return r};e.exports={getConstructor:function(e,t,r,c){var f=e(function(e,n){u(e,f,t,"_i"),e._t=t,e._i=i(null),e._f=void 0,e._l=void 0,e[v]=0,void 0!=n&&s(n,r,e[c],e)});return o(f.prototype,{clear:function(){for(var e=h(this,t),r=e._i,n=e._f;n;n=n.n)n.r=!0,n.p&&(n.p=n.p.n=void 0),delete r[n.i];e._f=e._l=void 0,e[v]=0},delete:function(e){var r=h(this,t),n=g(r,e);if(n){var i=n.n,o=n.p;delete r._i[n.i],n.r=!0,o&&(o.n=i),i&&(i.p=o),r._f==n&&(r._f=i),r._l==n&&(r._l=o),r[v]--}return!!n},forEach:function(e){h(this,t);for(var r,n=a(e,arguments.length>1?arguments[1]:void 0,3);r=r?r.n:this._f;)for(n(r.v,r.k,this);r&&r.r;)r=r.p},has:function(e){return!!g(h(this,t),e)}}),d&&n(f.prototype,"size",{get:function(){return h(this,t)[v]}}),f},def:function(e,t,r){var n,i,o=g(e,t);return o?o.v=r:(e._l=o={i:i=p(t,!0),k:t,v:r,p:n=e._l,n:void 0,r:!1},e._f||(e._f=o),n&&(n.n=o),e[v]++,"F"!==i&&(e._i[i]=o)),e},getEntry:g,setStrong:function(e,t,r){c(e,t,function(e,r){this._t=h(e,t),this._k=r,this._l=void 0},function(){for(var e=this._k,t=this._l;t&&t.r;)t=t.p;return this._t&&(this._l=t=t?t.n:this._t._f)?f(0,"keys"==e?t.k:"values"==e?t.v:[t.k,t.v]):(this._t=void 0,f(1))},r?"entries":"values",!r,!0),l(t)}}},function(e,t,r){var n=r(187),i=r(831);e.exports=function(e){return function(){if(n(this)!=e)throw TypeError(e+"#toJSON isn't generic");return i(this)}}},function(e,t,r){var n=r(71),i=r(394),o=i?function(e,t){return i.set(e,t),e}:n;e.exports=o},function(e,t,r){var n=r(377),i=n&&new n;e.exports=i},function(e,t,r){var n=r(396),i=r(397),o=r(836),a=r(207),u=r(398),s=r(160),c=r(844),f=r(131),l=r(37),d=1,p=2,h=8,v=16,g=128,y=512;e.exports=function e(t,r,m,b,_,w,S,k,x,E){var T=r&g,O=r&d,P=r&p,C=r&(h|v),M=r&y,j=P?void 0:a(t);return function d(){for(var p=arguments.length,h=Array(p),v=p;v--;)h[v]=arguments[v];if(C)var g=s(d),y=o(h,g);if(b&&(h=n(h,b,_,C)),w&&(h=i(h,w,S,C)),p-=y,C&&p<E){var R=f(h,g);return u(t,r,e,d.placeholder,m,h,R,k,x,E-p)}var A=O?m:this,I=P?A[t]:t;return p=h.length,k?h=c(h,k):M&&p>1&&h.reverse(),T&&x<p&&(h.length=x),this&&this!==l&&this instanceof d&&(I=j||a(I)),I.apply(A,h)}}},function(e,t){var r=Math.max;e.exports=function(e,t,n,i){for(var o=-1,a=e.length,u=n.length,s=-1,c=t.length,f=r(a-u,0),l=Array(c+f),d=!i;++s<c;)l[s]=t[s];for(;++o<u;)(d||o<a)&&(l[n[o]]=e[o]);for(;f--;)l[s++]=e[o++];return l}},function(e,t){var r=Math.max;e.exports=function(e,t,n,i){for(var o=-1,a=e.length,u=-1,s=n.length,c=-1,f=t.length,l=r(a-s,0),d=Array(l+f),p=!i;++o<l;)d[o]=e[o];for(var h=o;++c<f;)d[h+c]=t[c];for(;++u<s;)(p||o<a)&&(d[h+n[u]]=e[o++]);return d}},function(e,t,r){var n=r(399),i=r(402),o=r(403),a=1,u=2,s=4,c=8,f=32,l=64;e.exports=function(e,t,r,d,p,h,v,g,y,m){var b=t&c;t|=b?f:l,(t&=~(b?l:f))&s||(t&=~(a|u));var _=[e,t,p,b?h:void 0,b?v:void 0,b?void 0:h,b?void 0:v,g,y,m],w=r.apply(void 0,_);return n(e)&&i(w,_),w.placeholder=d,o(w,e,t)}},function(e,t,r){var n=r(279),i=r(281),o=r(401),a=r(838);e.exports=function(e){var t=o(e),r=a[t];if("function"!=typeof r||!(t in n.prototype))return!1;if(e===r)return!0;var u=i(r);return!!u&&e===u[0]}},function(e,t){e.exports=function(){}},function(e,t,r){var n=r(837),i=Object.prototype.hasOwnProperty;e.exports=function(e){for(var t=e.name+"",r=n[t],o=i.call(n,t)?r.length:0;o--;){var a=r[o],u=a.func;if(null==u||u==e)return a.name}return t}},function(e,t,r){var n=r(393),i=r(384)(n);e.exports=i},function(e,t,r){var n=r(840),i=r(841),o=r(269),a=r(842);e.exports=function(e,t,r){var u=t+"";return o(e,i(u,a(n(u),r)))}},function(e,t){e.exports=function(e){return e!=e}},function(e,t,r){var n=r(406),i=r(854),o=r(408),a=r(855);e.exports.Backoff=n,e.exports.FunctionCall=a,e.exports.FibonacciStrategy=o,e.exports.ExponentialStrategy=i,e.exports.fibonacci=function(e){return new n(new o(e))},e.exports.exponential=function(e){return new n(new i(e))},e.exports.call=function(e,t,r){var n=Array.prototype.slice.call(arguments);return e=n[0],t=n.slice(1,n.length-1),r=n[n.length-1],new a(e,t,r)}},function(e,t,r){var n=r(62),i=r(287);function o(e){n.EventEmitter.call(this),this.backoffStrategy_=e,this.maxNumberOfRetry_=-1,this.backoffNumber_=0,this.backoffDelay_=0,this.timeoutID_=-1,this.handlers={backoff:this.onBackoff_.bind(this)}}r(39).inherits(o,n.EventEmitter),o.prototype.failAfter=function(e){i.checkArgument(e>0,"Expected a maximum number of retry greater than 0 but got %s.",e),this.maxNumberOfRetry_=e},o.prototype.backoff=function(e){i.checkState(-1===this.timeoutID_,"Backoff in progress."),this.backoffNumber_===this.maxNumberOfRetry_?(this.emit("fail",e),this.reset()):(this.backoffDelay_=this.backoffStrategy_.next(),this.timeoutID_=setTimeout(this.handlers.backoff,this.backoffDelay_),this.emit("backoff",this.backoffNumber_,this.backoffDelay_,e))},o.prototype.onBackoff_=function(){this.timeoutID_=-1,this.emit("ready",this.backoffNumber_,this.backoffDelay_),this.backoffNumber_++},o.prototype.reset=function(){this.backoffNumber_=0,this.backoffStrategy_.reset(),clearTimeout(this.timeoutID_),this.timeoutID_=-1},e.exports=o},function(e,t,r){r(62),r(39);function n(e){return void 0!==e&&null!==e}function i(e){if(n((e=e||{}).initialDelay)&&e.initialDelay<1)throw new Error("The initial timeout must be greater than 0.");if(n(e.maxDelay)&&e.maxDelay<1)throw new Error("The maximal timeout must be greater than 0.");if(this.initialDelay_=e.initialDelay||100,this.maxDelay_=e.maxDelay||1e4,this.maxDelay_<=this.initialDelay_)throw new Error("The maximal backoff delay must be greater than the initial backoff delay.");if(n(e.randomisationFactor)&&(e.randomisationFactor<0||e.randomisationFactor>1))throw new Error("The randomisation factor must be between 0 and 1.");this.randomisationFactor_=e.randomisationFactor||0}i.prototype.getMaxDelay=function(){return this.maxDelay_},i.prototype.getInitialDelay=function(){return this.initialDelay_},i.prototype.next=function(){var e=this.next_(),t=1+Math.random()*this.randomisationFactor_;return Math.round(e*t)},i.prototype.next_=function(){throw new Error("BackoffStrategy.next_() unimplemented.")},i.prototype.reset=function(){this.reset_()},i.prototype.reset_=function(){throw new Error("BackoffStrategy.reset_() unimplemented.")},e.exports=i},function(e,t,r){var n=r(39),i=r(407);function o(e){i.call(this,e),this.backoffDelay_=0,this.nextBackoffDelay_=this.getInitialDelay()}n.inherits(o,i),o.prototype.next_=function(){var e=Math.min(this.nextBackoffDelay_,this.getMaxDelay());return this.nextBackoffDelay_+=this.backoffDelay_,this.backoffDelay_=e,e},o.prototype.reset_=function(){this.nextBackoffDelay_=this.getInitialDelay(),this.backoffDelay_=0},e.exports=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}
/*!
 * Copyright (c) 2015-2017 Cisco Systems, Inc. See LICENSE file.
 */(r(1));t.default=function(e){return function(t){return new n.default(function(r){r(e(t))}).then(function(){return t}).catch(function(){return t})}}},function(e,t,r){e.exports={default:r(858),__esModule:!0}},function(e,t,r){e.exports={default:r(860),__esModule:!0}},function(e,t,r){e.exports={default:r(863),__esModule:!0}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.grantErrors=t.Token=t.sortScope=t.filterScope=t.Credentials=void 0;var n=r(875);Object.defineProperty(t,"Credentials",{enumerable:!0,get:function(){return s(n).default}});var i=r(299);Object.defineProperty(t,"filterScope",{enumerable:!0,get:function(){return i.filterScope}}),Object.defineProperty(t,"sortScope",{enumerable:!0,get:function(){return i.sortScope}});var o=r(300);Object.defineProperty(t,"Token",{enumerable:!0,get:function(){return s(o).default}});var a=r(298);Object.defineProperty(t,"grantErrors",{enumerable:!0,get:function(){return s(a).default}});var u=s(n);function s(e){return e&&e.__esModule?e:{default:e}}
/*!
 * Copyright (c) 2015-2017 Cisco Systems, Inc. See LICENSE file.
 */(0,r(303).registerPlugin)("credentials",u.default,{proxies:["canAuthorize","canRefresh"]})},function(e,t,r){var n=r(258),i=4;e.exports=function(e){return n(e,i)}},function(e,t,r){var n=r(112),i=0;e.exports=function(e){var t=++i;return n(e)+t}},function(e,t,r){var n=r(26),i=r(161);e.exports=function(e){return n(function(t,r){var n=-1,o=r.length,a=o>1?r[o-1]:void 0,u=o>2?r[2]:void 0;for(a=e.length>3&&"function"==typeof a?(o--,a):void 0,u&&i(r[0],r[1],u)&&(a=o<3?void 0:a,o=1),t=Object(t);++n<o;){var s=r[n];s&&e(t,s,n,a)}return t})}},function(e,t){e.exports=function(e){return function(t){return null==e?void 0:e[t]}}},function(e,t,r){var n=r(419),i=r(278);e.exports=function(e,t){return e&&n(e,i(t))}},function(e,t,r){var n=r(420),i=r(70);e.exports=function(e,t){return e&&n(e,t,i)}},function(e,t,r){var n=r(421)();e.exports=n},function(e,t){e.exports=function(e){return function(t,r,n){for(var i=-1,o=Object(t),a=n(t),u=a.length;u--;){var s=a[e?u:++i];if(!1===r(o[s],s,o))break}return t}}},function(e,t,r){var n=r(284),i=r(59),o=r(115),a=r(61),u=r(288),s=Math.max;e.exports=function(e,t,r,c){e=i(e)?e:u(e),r=r&&!c?a(r):0;var f=e.length;return r<0&&(r=s(f+r,0)),o(e)?r<=f&&e.indexOf(t,r)>-1:!!f&&n(e,t,r)>-1}},function(e,t,r){var n=r(290),i=r(424),o=r(291),a=1,u=2;e.exports=function(e,t,r,s,c,f){var l=r&a,d=e.length,p=t.length;if(d!=p&&!(l&&p>d))return!1;var h=f.get(e);if(h&&f.get(t))return h==t;var v=-1,g=!0,y=r&u?new n:void 0;for(f.set(e,t),f.set(t,e);++v<d;){var m=e[v],b=t[v];if(s)var _=l?s(b,m,v,t,e,f):s(m,b,v,e,t,f);if(void 0!==_){if(_)continue;g=!1;break}if(y){if(!i(t,function(e,t){if(!o(y,t)&&(m===e||c(m,e,r,s,f)))return y.push(t)})){g=!1;break}}else if(m!==b&&!c(m,b,r,s,f)){g=!1;break}}return f.delete(e),f.delete(t),g}},function(e,t){e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}},function(e,t,r){var n=r(87),i=r(147),o=r(4),a=r(149),u=r(262),s=r(88);e.exports=function(e,t,r){for(var c=-1,f=(t=n(t,e)).length,l=!1;++c<f;){var d=s(t[c]);if(!(l=null!=e&&r(e,d)))break;e=e[d]}return l||++c!=f?l:!!(f=null==e?0:e.length)&&u(f)&&a(d,f)&&(o(e)||i(e))}},function(e,t){e.exports=function(e,t,r){for(var n=-1,i=null==e?0:e.length;++n<i;)if(r(t,e[n]))return!0;return!1}},function(e,t,r){var n=r(295);e.exports=function(e){return n(2,e)}},function(e,t,r){var n=r(59);e.exports=function(e,t){return function(r,i){if(null==r)return r;if(!n(r))return e(r,i);for(var o=r.length,a=t?o:-1,u=Object(r);(t?a--:++a<o)&&!1!==i(u[a],a,u););return r}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=y(r(430)),i=y(r(90)),o=y(r(297)),a=y(r(431)),u=y(r(60)),s=y(r(1)),c=y(r(24)),f=y(r(130)),l=y(r(293)),d=y(r(71)),p=y(r(211)),h=y(r(163));t.persist=
/*!
 * Copyright (c) 2015-2017 Cisco Systems, Inc. See LICENSE file.
 */
function e(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];if(3===r.length)return e("@").apply(void 0,r);var i=r[0],o=r[1];return function(e,t,r){if("initialize"!==t)throw new TypeError("@persist can only currently be applied to AmpersandState objects or their derivatives and must be applied to the initialize method");r.value=(0,f.default)(r.value,function(e){for(var t=this,r=arguments.length,n=Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];var u=(0,c.default)(e,this,n),f="@"===i?"change":"change:"+i;return this.on(f,(0,p.default)(function(){var e=!o||c.default.apply(Reflect,[o,t].concat(n));return e?"@"===i?t.boundedStorage.put(i,t):t.boundedStorage.put(i,t[i]):s.default.resolve()},0)),u}),k(e,t)}},t.waitForValue=function(e){if(!e)throw new Error("`key` is required");return function(t,r,n){return _.add(t,r,e),n.value=(0,f.default)(n.value,function(e){for(var n=this,i=arguments.length,a=Array(i>1?i-1:0),u=1;u<i;u++)a[u-1]=arguments[u];var f=_.get(t,r);return s.default.all([].concat((0,o.default)(f)).map(function(e){return n.boundedStorage.waitFor(e)})).then(function(){return(0,c.default)(e,n,a)})}),"object"!==(void 0===t?"undefined":(0,i.default)(t))||t.prototype||(t[r]=n.value),k(t,r),n}};var v=r(212),g=r(13);function y(e){return e&&e.__esModule?e:{default:e}}var m=u.default,b=a.default,_=new((0,g.make)(m,m,b));var w=new a.default;var S=new a.default;function k(e,t){var r=function(e){return e.namespace?e.namespace:e}(e);if(!w.has(r)){if(w.add(r),e.initialize)return void(e.initialize=(0,f.default)(e.initialize,function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var o=(0,c.default)(e,this,r);return(0,c.default)(i,this,r),o}));e.initialize=i}function i(){var r=this,i=this.getNamespace();this.spark.initialize=(0,f.default)(this.spark.initialize||d.default,function(o){var a=this;S.add(i);for(var u=arguments.length,f=Array(u>1?u-1:0),d=1;d<u;d++)f[d-1]=arguments[d];(0,c.default)(o,this,f);var p=(0,h.default)(function(e,t){a.logger.debug("storage:("+i+"): got `"+e+"` for first time"),"@"===e?r.parent.set((0,n.default)({},i.toLowerCase(),t)):(0,l.default)(r[e],"isState")?r[e].set(t):r.set(e,t),a.logger.debug("storage:("+i+"): set `"+e+"` for first time")}),g=(0,h.default)(function(e,t){return t instanceof v.NotFoundError||t.toString().includes("MockNotFoundError")?(a.logger.debug("storage("+i+"): no data for `"+e+"`, continuing"),s.default.resolve()):(a.logger.error("storage("+i+"): failed to init `"+e+"`",t),s.default.reject(t))}),y=[];_.get(e,t).forEach(function(e){y.push(a.boundedStorage.get(i,e).then(p(e)).catch(g(e)))}),s.default.all(y).then(function(){S.delete(i),0===S.size&&(a.loaded=!0)})})}}},function(e,t,r){"use strict";t.__esModule=!0;var n=function(e){return e&&e.__esModule?e:{default:e}}(r(271));t.default=function(e,t,r){return t in e?(0,n.default)(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}},function(e,t,r){e.exports={default:r(896),__esModule:!0}},function(e,t,r){var n=r(195),i=r(87),o=r(149),a=r(19),u=r(88);e.exports=function(e,t,r,s){if(!a(e))return e;for(var c=-1,f=(t=i(t,e)).length,l=f-1,d=e;null!=d&&++c<f;){var p=u(t[c]),h=r;if(c!=l){var v=d[p];void 0===(h=s?s(v,p,d):void 0)&&(h=a(v)?v:o(t[c+1])?[]:{})}n(d,p,h),d=d[p]}return e}},function(e,t,r){var n=r(914),i=r(425);e.exports=function(e,t){return null!=e&&i(e,t,n)}},function(e,t,r){e.exports={default:r(921),__esModule:!0}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(r(1)),i=s(r(135)),o=s(r(31)),a=s(r(8)),u=s(r(11));function s(e){return e&&e.__esModule?e:{default:e}}
/*!
 * Copyright (c) 2015-2017 Cisco Systems, Inc. See LICENSE file.
 */var c=function(){function e(t){var r=this;(0,a.default)(this,e),t&&(0,o.default)(t).forEach(function(e){var n=t[e];(0,i.default)(r,e,{enumerable:!0,value:n})})}return(0,u.default)(e,[{key:"onRequest",value:function(e){return n.default.resolve(e)}},{key:"onRequestError",value:function(e,t){return n.default.reject(t)}},{key:"onResponse",value:function(e,t){return n.default.resolve(t)}},{key:"onResponseError",value:function(e,t){return n.default.reject(t)}}],[{key:"create",value:function(){throw new Error("`Interceptor.create()` must be defined")}}]),e}();t.default=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i,o=y(r(106)),a=y(r(302)),u=y(r(164)),s=y(r(90)),c=y(r(14)),f=y(r(8)),l=y(r(11)),d=y(r(15)),p=y(r(16)),h=y(r(301)),v=r(13),g=y(r(926));function y(e){return e&&e.__esModule?e:{default:e}}var m=(i=n=function(e){function t(){return(0,f.default)(this,t),(0,d.default)(this,(t.__proto__||(0,c.default)(t)).apply(this,arguments))}return(0,p.default)(t,e),(0,l.default)(t,[{key:"parse",value:function(e){var t=e.body,r=void 0;switch(void 0===t?"undefined":(0,s.default)(t)){case"string":try{t=JSON.parse(t),r=this.parseObject(t)}catch(e){r=t}break;case"object":r=this.parseObject(t)}return r||(r=this.defaultMessage),(0,u.default)(this,{body:{enumerable:!1,value:t},httpVersion:{enumerable:!1,value:e.httpVersion},headers:{enumerable:!1,value:e.headers||{}},rawHeaders:{enumerable:!1,value:e.rawHeaders||[]},trailers:{enumerable:!1,value:e.trailers||{}},rawTrailers:{enumerable:!1,value:e.rawTrailers||[]},method:{enumerable:!1,value:e.method},url:{enumerable:!1,value:e.url},statusCode:{enumerable:!1,value:e.statusCode},statusMessage:{enumerable:!1,value:e.statusMessage},socket:{enumerable:!1,value:e.socket},_res:{enumerable:!1,value:e}}),r}},{key:"parseObject",value:function(e){var r=(0,a.default)((0,h.default)(e,t.errorKeys));if(0===r.length)return(0,o.default)(e,null,2);var n=r[0];return"object"===(void 0===n?"undefined":(0,s.default)(n))?this.parseObject(n):n}}]),t}(v.Exception),n.errorKeys=["error","errorString","response","errorResponse","message","msg"],n.defaultMessage="An error was received while trying to fulfill the request",i);t.default=m,(0,g.default)(m),m.makeSubTypes=g.default},function(e,t,r){var n=r(122),i=r(83),o=r(141).f;e.exports=function(e){return function(t){for(var r,a=i(t),u=n(a),s=u.length,c=0,f=[];s>c;)o.call(a,r=u[c++])&&f.push(e?[r,a[r]]:a[r]);return f}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.detect=void 0;var n=a(r(1));t.default=u,t.detectSync=s;var i=a(r(928)),o=r(13);function a(e){return e&&e.__esModule?e:{default:e}}
/*!
 * Copyright (c) 2015-2017 Cisco Systems, Inc. See LICENSE file.
 */function u(e){return new n.default(function(t){t(s(e))})}function s(e){var t=e;if(o.inBrowser){if(e instanceof Blob)return e.type;if(e instanceof ArrayBuffer)t=new Uint8Array(e);else if(!(e instanceof Uint8Array))throw new Error("`detect` requires a buffer of type Blob, ArrayBuffer, or Uint8Array")}var r=(0,i.default)(t);return r?r.mime:"application/octet-stream"}t.detect=u},function(e,t,r){"use strict";var n=Object.prototype.hasOwnProperty,i=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),o=function(e,t){for(var r=t&&t.plainObjects?Object.create(null):{},n=0;n<e.length;++n)void 0!==e[n]&&(r[n]=e[n]);return r};e.exports={arrayToObject:o,assign:function(e,t){return Object.keys(t).reduce(function(e,r){return e[r]=t[r],e},e)},compact:function(e){for(var t=[{obj:{o:e},prop:"o"}],r=[],n=0;n<t.length;++n)for(var i=t[n],o=i.obj[i.prop],a=Object.keys(o),u=0;u<a.length;++u){var s=a[u],c=o[s];"object"==typeof c&&null!==c&&-1===r.indexOf(c)&&(t.push({obj:o,prop:s}),r.push(c))}return function(e){for(var t;e.length;){var r=e.pop();if(t=r.obj[r.prop],Array.isArray(t)){for(var n=[],i=0;i<t.length;++i)void 0!==t[i]&&n.push(t[i]);r.obj[r.prop]=n}}return t}(t)},decode:function(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(t){return e}},encode:function(e){if(0===e.length)return e;for(var t="string"==typeof e?e:String(e),r="",n=0;n<t.length;++n){var o=t.charCodeAt(n);45===o||46===o||95===o||126===o||o>=48&&o<=57||o>=65&&o<=90||o>=97&&o<=122?r+=t.charAt(n):o<128?r+=i[o]:o<2048?r+=i[192|o>>6]+i[128|63&o]:o<55296||o>=57344?r+=i[224|o>>12]+i[128|o>>6&63]+i[128|63&o]:(n+=1,o=65536+((1023&o)<<10|1023&t.charCodeAt(n)),r+=i[240|o>>18]+i[128|o>>12&63]+i[128|o>>6&63]+i[128|63&o])}return r},isBuffer:function(e){return null!==e&&void 0!==e&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},merge:function e(t,r,i){if(!r)return t;if("object"!=typeof r){if(Array.isArray(t))t.push(r);else{if("object"!=typeof t)return[t,r];(i.plainObjects||i.allowPrototypes||!n.call(Object.prototype,r))&&(t[r]=!0)}return t}if("object"!=typeof t)return[t].concat(r);var a=t;return Array.isArray(t)&&!Array.isArray(r)&&(a=o(t,i)),Array.isArray(t)&&Array.isArray(r)?(r.forEach(function(r,o){n.call(t,o)?t[o]&&"object"==typeof t[o]?t[o]=e(t[o],r,i):t.push(r):t[o]=r}),t):Object.keys(r).reduce(function(t,o){var a=r[o];return n.call(t,o)?t[o]=e(t[o],a,i):t[o]=a,t},a)}}},function(e,t,r){"use strict";var n=String.prototype.replace,i=/%20/g;e.exports={default:"RFC3986",formatters:{RFC1738:function(e){return n.call(e,i,"+")},RFC3986:function(e){return e}},RFC1738:"RFC1738",RFC3986:"RFC3986"}},function(e,t,r){var n=r(26),i=r(91),o=r(160),a=r(131),u=n(function(e,t,r){var n=1;if(r.length){var s=a(r,o(u));n|=32}return i(e,n,t,r,s)});u.placeholder={},e.exports=u},function(e,t,r){var n=r(127),i=r(125);e.exports=function(e,t,r){(void 0===r||i(e[t],r))&&(void 0!==r||t in e)||n(e,t,r)}},function(e,t){e.exports=function(e,t){return"__proto__"==t?void 0:e[t]}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=f(r(1)),i=f(r(30)),o=f(r(14)),a=f(r(8)),u=f(r(11)),s=f(r(15)),c=f(r(16));function f(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){return(0,a.default)(this,t),(0,s.default)(this,(t.__proto__||(0,o.default)(t)).apply(this,arguments))}return(0,c.default)(t,e),(0,u.default)(t,[{key:"onRequest",value:function(e){var t=this;return e.headers=e.headers||{},"authorization"in e.headers||"auth"in e?(e.headers.authorization||(0,i.default)(e.headers,"authorization"),n.default.resolve(e)):this.requiresCredentials(e).then(function(r){return r?t.spark.credentials.getUserToken().then(function(t){return e.headers.authorization=t.toString(),e}):e})}},{key:"requiresCredentials",value:function(e){var t=this;if(e.uri&&e.uri.includes(this.spark.config.device.preDiscoveryServices.hydraServiceUrl))return n.default.resolve(!0);if(!this.spark.internal.device)return n.default.resolve(!1);if(e.uri&&e.runWhitelistedDomains&&this.spark.config.device.whitelistedServiceDomains.filter(function(t){return e.uri.includes(t)}).length)return n.default.resolve(!0);return this.spark.internal.device.isSpecificService("hydra",e.uri).then(function(r){return!!r||(e.service?t.spark.internal.device.isService(e.service):!!e.uri&&t.spark.internal.device.isServiceUrl(e.uri))})}},{key:"onResponseError",value:function(e,t){var r=this;return this.shouldAttemptReauth(t,e).then(function(o){return o&&(r.spark.logger.info("auth: received 401, attempting to reauthenticate"),t.options.headers&&(0,i.default)(t.options.headers,"authorization"),r.spark.credentials.canRefresh)?r.spark.credentials.refresh().then(function(){return r.replay(e)}):n.default.reject(t)})}},{key:"replay",value:function(e){return e.replayCount?e.replayCount+=1:e.replayCount=1,e.replayCount>this.spark.config.maxAuthenticationReplays?(this.spark.logger.error("auth: failed after "+this.spark.config.maxAuthenticationReplays+" replay attempts"),n.default.reject(new Error("Failed after "+this.spark.config.maxAuthenticationReplays+" replay attempts"))):(this.spark.logger.info("auth: replaying request "+e.replayCount+" time"),this.spark.request(e))}},{key:"shouldAttemptReauth",value:function(e,t){return t&&!1===t.shouldRefreshAccessToken?n.default.resolve(!1):401===e.statusCode?n.default.resolve(!0):n.default.resolve(!1)}}],[{key:"create",value:function(){return new t({spark:this})}}]),t}(r(28).Interceptor);
/*!
                           * Copyright (c) 2015-2017 Cisco Systems, Inc. See LICENSE file.
                           */t.default=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=c(r(1)),i=c(r(14)),o=c(r(8)),a=c(r(11)),u=c(r(15)),s=c(r(16));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){return(0,o.default)(this,t),(0,u.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments))}return(0,s.default)(t,e),(0,a.default)(t,[{key:"onRequest",value:function(e){return e.$timings=e.$timings||{},e.$timings.networkStart=Date.now(),e}},{key:"onResponse",value:function(e,t){return e.$timings.networkEnd=Date.now(),t}},{key:"onResponseError",value:function(e,t){return e.$timings.networkEnd=Date.now(),n.default.reject(t)}}],[{key:"create",value:function(e){return new t(this,e)}}]),t}(r(28).Interceptor);
/*!
                           * Copyright (c) 2015-2017 Cisco Systems, Inc. See LICENSE file.
                           */t.default=f},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=c(r(1)),i=c(r(14)),o=c(r(8)),a=c(r(11)),u=c(r(15)),s=c(r(16));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){return(0,o.default)(this,t),(0,u.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments))}return(0,s.default)(t,e),(0,a.default)(t,[{key:"onRequest",value:function(e){return e.noTransform?e:this.spark.transform("outbound",e)}},{key:"onResponse",value:function(e,t){return this.spark.transform("inbound",t)}},{key:"onResponseError",value:function(e,t){return this.spark.transform("inbound",t).then(function(e){return n.default.reject(e||t)})}}],[{key:"create",value:function(){return new t({spark:this})}}]),t}(r(28).Interceptor);
/*!
                           * Copyright (c) 2015-2017 Cisco Systems, Inc. See LICENSE file.
                           */t.default=f},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(r(1)),i=l(r(30)),o=l(r(14)),a=l(r(8)),u=l(r(11)),s=l(r(15)),c=l(r(16)),f=l(r(414));function l(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(){return(0,a.default)(this,t),(0,s.default)(this,(t.__proto__||(0,o.default)(t)).apply(this,arguments))}return(0,c.default)(t,e),(0,u.default)(t,[{key:"onRequest",value:function(e){return e.uri.includes(this.spark.config.credentials.samlUrl)||e.uri.includes(this.spark.config.credentials.tokenUrl)||e.uri.includes(this.spark.config.credentials.authorizeUrl)?e:"cisco-no-http-redirect"in e.headers?(e.headers["cisco-no-http-redirect"]||(0,i.default)(e.headers,"cisco-no-http-redirect"),e):(e.headers["cisco-no-http-redirect"]=!0,e.$redirectCount=e.$redirectCount||0,e)}},{key:"onResponse",value:function(e,t){if(t.headers&&t.headers["cisco-location"])return(e=(0,f.default)(e)).uri=t.headers["cisco-location"],e.$redirectCount+=1,e.$redirectCount>this.spark.config.maxAppLevelRedirects?n.default.reject(new Error("Maximum redirects exceeded")):this.spark.request(e);if(t.headers&&t.body&&2000002===t.body.errorCode&&t.body.location){if(e=(0,f.default)(e),t.options&&t.options.qs){var r=t.body.location.split("?");e.uri=r[0]}else e.uri=t.body.location;return e.$redirectCount+=1,e.$redirectCount>this.spark.config.maxLocusRedirects?n.default.reject(new Error("Maximum redirects exceeded")):this.spark.request(e)}return t}}],[{key:"create",value:function(){return new t({spark:this})}}]),t}(r(28).Interceptor);
/*!
                                                   * Copyright (c) 2015-2017 Cisco Systems, Inc. See LICENSE file.
                                                   */t.default=d},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=f(r(1)),i=f(r(14)),o=f(r(8)),a=f(r(11)),u=f(r(15)),s=f(r(16)),c=f(r(51));function f(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){return(0,o.default)(this,t),(0,u.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments))}return(0,s.default)(t,e),(0,a.default)(t,[{key:"onRequest",value:function(e){var t=(0,c.default)(this,"spark.logger",console);try{this.spark.trigger("request:start",e)}catch(e){t.warn("event handler for request:start failed ",e)}return n.default.resolve(e)}},{key:"onRequestError",value:function(e,t){var r=(0,c.default)(this,"spark.logger",console);try{this.spark.trigger("request:end",e,t),this.spark.trigger("request:failure",e,t)}catch(e){r.warn("event handler for request:end failed ",e)}return n.default.reject(t)}},{key:"onResponse",value:function(e,t){var r=(0,c.default)(this,"spark.logger",console);try{this.spark.trigger("request:success",t.options,t)}catch(e){r.warn("event handler for request:success failed ",e)}return n.default.resolve(t)}},{key:"onResponseError",value:function(e,t){var r=(0,c.default)(this,"spark.logger",console);try{this.spark.trigger("request:end",e,t),this.spark.trigger("request:failure",e,t)}catch(e){r.warn("event handler for request:failure failed ",e)}return n.default.reject(t)}}],[{key:"create",value:function(){return new t({spark:this})}}]),t}(r(28).Interceptor);
/*!
                           * Copyright (c) 2015-2017 Cisco Systems, Inc. See LICENSE file.
                           */t.default=l},function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=v(r(1)),i=v(r(14)),o=v(r(8)),a=v(r(11)),u=v(r(15)),s=v(r(16)),c=v(r(107)),f=v(r(115)),l=v(r(4)),d=v(r(92)),p=v(r(51)),h=v(r(39));function v(e){return e&&e.__esModule?e:{default:e}}
/*!
 * Copyright (c) 2015-2017 Cisco Systems, Inc. See LICENSE file.
 */var g=function(t){function r(){return(0,o.default)(this,r),(0,u.default)(this,(r.__proto__||(0,i.default)(r)).apply(this,arguments))}return(0,s.default)(r,t),(0,a.default)(r,[{key:"onRequest",value:function(t){var r=(0,p.default)(this,"spark.logger",console);r.info("/**********************************************************************\\ "),r.info("Request:",t.method||"GET",t.uri),r.info("WEBEX_TRACKINGID: ",(0,p.default)(t,"headers.trackingid")),(0,d.default)(t,"headers.x-trans-id")&&r.info("X-Trans-ID: ",(0,p.default)(t,"headers.x-trans-id")),(0,d.default)(this,"spark.internal.device.userId")&&r.info("User ID:",(0,p.default)(this,"spark.internal.device.userId"));var i=new Date;if(e.env.ENABLE_VERBOSE_NETWORK_LOGGING){r.info("timestamp (start): ",i.getTime(),i.toISOString());try{t.body&&t.body.length&&!(0,l.default)(t.body)&&!(0,f.default)(t.body)?r.info("Request Options:",h.default.inspect((0,c.default)(t,"body"),{depth:null})):r.info("Request Options:",h.default.inspect(t,{depth:null}))}catch(e){r.warn("Could not stringify request options:",e)}}return n.default.resolve(t)}},{key:"onRequestError",value:function(e,t){this.onRequest(e);var r=(0,p.default)(this,"spark.logger",console);return r.error("Request Failed: ",t.stack),r.info("\\**********************************************************************/"),n.default.reject(t)}}],[{key:"create",value:function(){return new r({spark:this})}}]),r}(r(28).Interceptor);t.default=g}).call(this,r(23))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=c(r(1)),i=c(r(14)),o=c(r(8)),a=c(r(11)),u=c(r(15)),s=c(r(16));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){return(0,o.default)(this,t),(0,u.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments))}return(0,s.default)(t,e),(0,a.default)(t,[{key:"onRequest",value:function(e){return e.$timings=e.$timings||{},e.$timings.requestStart=Date.now(),e}},{key:"onRequestError",value:function(e){return e.$timings.requestEnd=e.$timings.requestFail=Date.now(),n.default.reject(e)}},{key:"onResponse",value:function(e,t){return e.$timings.requestEnd=Date.now(),n.default.resolve(t)}},{key:"onResponseError",value:function(e,t){return e.$timings.requestEnd=e.$timings.requestFail=Date.now(),n.default.reject(t)}}],[{key:"create",value:function(e){return new t(this,e)}}]),t}(r(28).Interceptor);
/*!
                           * Copyright (c) 2015-2017 Cisco Systems, Inc. See LICENSE file.
                           */t.default=f},function(e,t,r){"use strict";(function(e,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=h(r(1)),o=h(r(90)),a=h(r(14)),u=h(r(8)),s=h(r(11)),c=h(r(15)),f=h(r(16)),l=h(r(107)),d=h(r(51)),p=h(r(39));function h(e){return e&&e.__esModule?e:{default:e}}
/*!
 * Copyright (c) 2015-2017 Cisco Systems, Inc. See LICENSE file.
 */var v=function(t){function r(){return(0,u.default)(this,r),(0,c.default)(this,(r.__proto__||(0,a.default)(r)).apply(this,arguments))}return(0,f.default)(r,t),(0,s.default)(r,[{key:"onResponse",value:function(t,r){var i=new Date;this.printResponseHeader(t,r);var a=(0,d.default)(this,"spark.logger",console);if(e.env.ENABLE_VERBOSE_NETWORK_LOGGING)if(a.info("timestamp (end): ",i.getTime(),i.toISOString()),"string"==typeof r.body||n.isBuffer(r.body))a.info("Response: ","Not printed, it`s probably a file");else if("object"===(0,o.default)(r.body))try{a.info("Response: ",p.default.inspect((0,l.default)(r.body,"features"),{depth:null}))}catch(e){a.info("Response: ","[Not Serializable]",e)}return a.info("\\**********************************************************************/"),r}},{key:"onResponseError",value:function(t,r){var n=new Date;this.printResponseHeader(t,r);var o=(0,d.default)(this,"spark.logger",console);if(e.env.ENABLE_VERBOSE_NETWORK_LOGGING){o.info("timestamp (end): ",n.getTime(),n.toISOString());try{o.error("Response: ",p.default.inspect(r.body,{depth:null}))}catch(e){o.error("Response: ",r.body)}}return o.info("\\**********************************************************************/"),i.default.reject(r)}},{key:"printResponseHeader",value:function(e,t){var r=(0,d.default)(this,"spark.logger",console);r.info("Status Code:",t.statusCode),r.info("WEBEX_TRACKINGID:",(0,d.default)(e,"headers.trackingid")||(0,d.default)(t,"headers.trackingid")),r.info("Network duration:",e.$timings.networkEnd-e.$timings.networkStart),r.info("Processing duration:",e.$timings.requestEnd-e.$timings.requestStart)}}],[{key:"create",value:function(){return new r({spark:this})}}]),r}(r(28).Interceptor);t.default=v}).call(this,r(23),r(157).Buffer)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(r(30)),i=l(r(14)),o=l(r(8)),a=l(r(11)),u=l(r(15)),s=l(r(16)),c=l(r(44)),f=r(28);function l(e){return e&&e.__esModule?e:{default:e}}var d=new c.default,p=function(e){function t(){return(0,o.default)(this,t),(0,u.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments))}return(0,s.default)(t,e),(0,a.default)(t,[{key:"onRequest",value:function(e){if(e.headers=e.headers||{},"trackingid"in e.headers)return e.headers.trackingid||(0,n.default)(e.headers,"trackingid"),e;if(this.requiresTrackingId(e)&&(e.headers.trackingid=this.spark.sessionId+"_"+this.sequence),e.headers.trackingid&&e.replayCount){var t=e.headers.trackingid.split("+");t[1]=e.replayCount,e.headers.trackingid=t.join("+")}return e}},{key:"requiresTrackingId",value:function(e){return!e.headers.trackingid}},{key:"sequence",get:function(){var e=d.get(this)||0;return e+=1,d.set(this,e),e}}],[{key:"create",value:function(){return new t({spark:this})}}]),t}(f.Interceptor);
/*!
 * Copyright (c) 2015-2017 Cisco Systems, Inc. See LICENSE file.
 */t.default=p},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=p(r(30)),i=p(r(14)),o=p(r(8)),a=p(r(11)),u=p(r(15)),s=p(r(16)),c=p(r(44)),f=p(r(51)),l=r(13),d=r(28);function p(e){return e&&e.__esModule?e:{default:e}}
/*!
 * Copyright (c) 2015-2017 Cisco Systems, Inc. See LICENSE file.
 */var h=new c.default,v=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,o.default)(this,t);var r=(0,f.default)(e,"spark.config.appName"),n=(0,f.default)(e,"spark.config.appVersion"),a=(0,f.default)(e,"spark.ciscospark",!1)?"ciscospark":"spark-js-sdk",s=(0,f.default)(e,"spark.version","development"),c=(0,u.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e));return r&&n?h.set(c,r+"/"+n+" ("+(l.inBrowser?"web":"node")+") "+a+"/"+s):h.set(c,a+"/"+s+" ("+(l.inBrowser?"web":"node")+")"),c}return(0,s.default)(t,e),(0,a.default)(t,[{key:"onRequest",value:function(e){return e.headers=e.headers||{},e.uri&&(e.uri.includes(this.spark.config.credentials.samlUrl)||e.uri.includes(this.spark.config.credentials.tokenUrl)||e.uri.includes(this.spark.config.credentials.authorizeUrl))?e:"spark-user-agent"in e.headers?(e.headers["spark-user-agent"]||(0,n.default)(e.headers,"spark-user-agent"),e):(e.headers["spark-user-agent"]=h.get(this),e)}}],[{key:"create",value:function(){return new t({spark:this})}}]),t}(d.Interceptor);t.default=v},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=d(r(1)),i=d(r(60)),o=d(r(14)),a=d(r(8)),u=d(r(15)),s=d(r(11)),c=d(r(16)),f=d(r(44)),l=r(28);function d(e){return e&&e.__esModule?e:{default:e}}var p=new f.default,h=/.*(idbroker|identity)(bts)?.webex.com\/([^/]+)/,v=function(e){function t(){var e;(0,a.default)(this,t);for(var r=arguments.length,n=Array(r),s=0;s<r;s++)n[s]=arguments[s];var c=(0,u.default)(this,(e=t.__proto__||(0,o.default)(t)).call.apply(e,[this].concat(n)));return p.set(c,new i.default),c}return(0,c.default)(t,e),(0,s.default)(t,null,[{key:"create",value:function(){return new t({spark:this})}}]),(0,s.default)(t,[{key:"onRequest",value:function(e){return this.isRateLimited(e.uri)?n.default.reject(new Error("API rate limited "+e.uri)):n.default.resolve(e)}},{key:"onResponseError",value:function(e,t){return 429===t.statusCode&&(e.uri.includes("idbroker")||e.uri.includes("identity"))&&this.setRateLimitExpiry(e.uri,this.extractRetryAfterTime(e)),n.default.reject(t)}},{key:"extractRetryAfterTime",value:function(e){var t=e.headers["retry-after"]||null;return null===t||t<=0?6e4:t>3600?36e5:1e3*t}},{key:"setRateLimitExpiry",value:function(e,t){var r=this.getApiName(e);if(!r)return!1;var n=(new Date).getTime()+t;return p.get(this).set(r,n)}},{key:"getRateLimitStatus",value:function(e){var t=this.getApiName(e);if(!t)return!1;var r=(new Date).getTime(),n=p.get(this);return void 0!==n.get(t)&&r<n.get(t)}},{key:"getApiName",value:function(e){if(!e)return null;var t=e.match(h);return t?t[2]:null}},{key:"isRateLimited",value:function(e){return!(!e||!e.includes("idbroker")&&!e.includes("identity"))&&this.getRateLimitStatus(e)}}]),t}(l.Interceptor);
/*!
 * Copyright (c) 2015-2017 Cisco Systems, Inc. See LICENSE file.
 */t.default=v},function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=r(210),i=e.env.IDBROKER_BASE_URL||"https://idbroker.webex.com";
/*!
                                                                                        * Copyright (c) 2015-2017 Cisco Systems, Inc. See LICENSE file.
                                                                                        */
t.default={maxAppLevelRedirects:10,maxLocusRedirects:5,maxAuthenticationReplays:1,maxReconnectAttempts:1,onBeforeLogout:[],trackingIdPrefix:"spark-js-sdk",trackingIdSuffix:"",AlternateLogger:void 0,credentials:{authorizationString:e.env.CISCOSPARK_AUTHORIZATION_STRING||e.env.AUTHORIZATION_STRING,authorizeUrl:e.env.AUTHORIZE_URL||i+"/idb/oauth2/v1/authorize",tokenUrl:e.env.TOKEN_URL||i+"/idb/oauth2/v1/access_token",revokeUrl:e.env.REVOKE_URL||i+"/idb/oauth2/v1/revoke",logoutUrl:i+"/idb/oauth2/v1/logout",client_id:e.env.CISCOSPARK_CLIENT_ID||e.env.COMMON_IDENTITY_CLIENT_ID||e.env.CLIENT_ID,client_secret:e.env.CISCOSPARK_CLIENT_SECRET||e.env.COMMON_IDENTITY_CLIENT_SECRET||e.env.CLIENT_SECRET,redirect_uri:e.env.CISCOSPARK_REDIRECT_URI||e.env.COMMON_IDENTITY_REDIRECT_URI||e.env.REDIRECT_URI,scope:e.env.CISCOSPARK_SCOPE||e.env.CISCOSPARK_SCOPES||e.env.COMMON_IDENTITY_SCOPE||e.env.SCOPE,cisService:"spark"},device:{preDiscoveryServices:{hydraServiceUrl:"https://api.ciscospark.com/v1"},whitelistedServiceDomains:["wbx2.com","ciscospark.com","webex.com"]},payloadTransformer:{predicates:[],transforms:[]},storage:{boundedAdapter:n.MemoryStoreAdapter,unboundedAdapter:n.MemoryStoreAdapter}}}).call(this,r(23))},function(e,t){var r="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(r){var n=new Uint8Array(16);e.exports=function(){return r(n),n}}else{var i=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),i[t]=e>>>((3&t)<<3)&255;return i}}},function(e,t){for(var r=[],n=0;n<256;++n)r[n]=(n+256).toString(16).substr(1);e.exports=function(e,t){var n=t||0,i=r;return[i[e[n++]],i[e[n++]],i[e[n++]],i[e[n++]],"-",i[e[n++]],i[e[n++]],"-",i[e[n++]],i[e[n++]],"-",i[e[n++]],i[e[n++]],"-",i[e[n++]],i[e[n++]],i[e[n++]],i[e[n++]],i[e[n++]],i[e[n++]]].join("")}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(r(31)),i=a(r(114)),o=a(r(459));function a(e){return e&&e.__esModule?e:{default:e}}
/*!
 * Copyright (c) 2015-2017 Cisco Systems, Inc. See LICENSE file.
 */var u=i.default.extend({collections:{developer:o.default,entitlement:o.default,user:o.default},clear:function(e){var t=this;return(0,n.default)(this.attributes).forEach(function(r){t.unset(r,e)}),(0,n.default)(this._children).forEach(function(e){t[e].clear()}),(0,n.default)(this._collections).forEach(function(e){t[e].reset()}),this},initialize:function(){var e=this;["change:value","add","remove"].forEach(function(t){["developer","entitlement","user"].forEach(function(r){e[r].on(t,function(t,n){e.trigger("change:"+r,e,e[r],n)})})})}});t.default=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(r(165)),i=o(r(460));function o(e){return e&&e.__esModule?e:{default:e}}
/*!
 * Copyright (c) 2015-2017 Cisco Systems, Inc. See LICENSE file.
 */var a=n.default.extend({mainIndex:"key",model:i.default});t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s(r(434)),i=s(r(24)),o=s(r(19)),a=s(r(72)),u=s(r(114));function s(e){return e&&e.__esModule?e:{default:e}}var c=u.default.extend({props:{key:"string",lastModified:"date",mutable:"boolean",type:"string",val:"string",value:"any"},constructor:function(e,t){return t=t||{},(0,a.default)(t,{parse:!0}),(0,i.default)(u.default.prototype.constructor,this,[e,t])},idAttribute:"key",parse:function(e){if(!e)return{};var t=Number(e.val);return e.val&&!(0,n.default)(t)?(e.value=t,e.type="number"):"true"===e.val?(e.value=!0,e.type="boolean"):"false"===e.val?(e.value=!1,e.type="boolean"):(e.value=e.val,e.type="string"),e},serialize:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=(0,i.default)(u.default.prototype.serialize,this,t);return n.lastModified&&(n.lastModified=new Date(n.lastModified).toISOString()),n},set:function(e,t,r){var n=void 0;return(0,o.default)(e)||null===e?(n=e,r=t):(n={})[e]=t,n=this.parse(n,r),(0,i.default)(u.default.prototype.set,this,[n,r])}});
/*!
     * Copyright (c) 2015-2017 Cisco Systems, Inc. See LICENSE file.
     */t.default=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(r(1)),i=a(r(165)),o=a(r(462));function a(e){return e&&e.__esModule?e:{default:e}}
/*!
 * Copyright (c) 2015-2017 Cisco Systems, Inc. See LICENSE file.
 */var u=i.default.extend({mainIndex:"service",model:o.default,markFailedAndCycleUrl:function(e){return e?this.inferServiceFromUrl(e).then(function(t){return t.markHostFailed(e),t.cycleNextHost().then(function(){return t.url})}):n.default.reject(new Error("`uri` is a required parameter"))},resetAllAndRetry:function(e){return e?this.inferServiceFromUrl(e).then(function(e){return e.resetAllHosts(),e.url}):n.default.reject(new Error("`uri` is a required parameter"))},inferServiceFromUrl:function(e){var t=this.filter(function(t){return t.doesUrlBelongToService(e)});return t.length>=1?n.default.resolve(t[0]):n.default.reject(new Error("Unable to infer service for this url "+e))},inferServiceNameFromUrl:function(e){return this.inferServiceFromUrl(e).then(function(e){return e.service})}});t.default=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=l(r(1)),i=l(r(24)),o=l(r(215)),a=l(r(465)),u=l(r(19)),s=l(r(72)),c=l(r(114)),f=l(r(156));function l(e){return e&&e.__esModule?e:{default:e}}
/*!
 * Copyright (c) 2015-2017 Cisco Systems, Inc. See LICENSE file.
 */var d=c.default.extend({props:{service:"string",defaultUrl:"string",availableHosts:{type:"array",default:function(){return[]}}},session:{currentHostIndex:{type:"number",default:0}},derived:{url:{deps:["defaultUrl","availableHosts","currentHostIndex"],fn:function(){if(0===this.availableHosts.length)return this.defaultUrl;var e=void 0;return e=this.currentHostIndex>=this.availableHosts.length?this.availableHosts[this.availableHosts.length-1]:this.availableHosts[this.currentHostIndex],this._changeUrlHost(this.defaultUrl,e.host)}}},constructor:function(e,t){return t=t||{},(0,s.default)(t,{parse:!0}),(0,i.default)(c.default.prototype.constructor,this,[e,t])},idAttribute:"service",serialize:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=(0,i.default)(c.default.prototype.serialize,this,t);return n.url=this.url,n},parse:function(e){return e?(e.availableHosts&&e.availableHosts.sort(function(e,t){return e.priority-t.priority}),e):{}},set:function(e,t,r){var n=void 0;return(0,u.default)(e)||null===e?(n=e,r=t):(n={})[e]=t,n=this.parse(n,r),(0,i.default)(c.default.prototype.set,this,[n,r])},markHostFailed:function(e){var t=this.getCurrentHost();if(e){var r=f.default.parse(e);t=(0,o.default)(this.availableHosts,function(e){return e.host===r.host})}t&&(t.failed=!0)},cycleNextHost:function(){for(var e=0;e<this.availableHosts.length;e+=1){var t=this.availableHosts[e];if(!t.failed&&this.currentHostIndex!==e)return this.currentHostIndex=e,n.default.resolve(t)}return this.currentHostIndex=0,n.default.reject(new Error("All hosts have failed for "+this.service))},doesUrlBelongToService:function(e){var t=f.default.parse(e),r=this.availableHosts.map(function(e){return e.host});return r.push(f.default.parse(this.defaultUrl).host),(0,a.default)(r,function(e){return e===t.host})},getCurrentHost:function(){return this.availableHosts[this.currentHostIndex]},resetAllHosts:function(){this.availableHosts.forEach(function(e){e.failed=!1})},replaceUrlWithCurrentHost:function(e){return this._changeUrlHost(e,this.getCurrentHost().host)},_changeUrlHost:function(e,t){var r=f.default.parse(e);return r.host=t,f.default.format(r)}});t.default=d},function(e,t,r){var n=r(19);e.exports=function(e){return e==e&&!n(e)}},function(e,t){e.exports=function(e,t){return function(r){return null!=r&&r[e]===t&&(void 0!==t||e in Object(r))}}},function(e,t,r){var n=r(424),i=r(52),o=r(968),a=r(4),u=r(161);e.exports=function(e,t,r){var s=a(e)?n:o;return r&&u(e,t,r)&&(t=void 0),s(e,i(t,3))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.webrtcHelpers=t.WebRTCMediaEngine=t.default=void 0;var n=r(976);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o(n).default}}),Object.defineProperty(t,"WebRTCMediaEngine",{enumerable:!0,get:function(){return o(n).default}});var i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(483));function o(e){return e&&e.__esModule?e:{default:e}}t.webrtcHelpers=i},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(5)),n(r(986)),n(r(997)),n(r(998)),n(r(999)),n(r(1e3)),n(r(1001)),n(r(1002)),n(r(1003)),n(r(1004)),n(r(1005)),n(r(1006)),n(r(1007)),n(r(1008)),n(r(1009)),n(r(1010)),n(r(1012)),n(r(1014)),n(r(1016)),n(r(1018)),n(r(1020)),n(r(1021)),n(r(1022)),n(r(1023)),n(r(1024)),n(r(1025)),n(r(1028)),n(r(1029)),n(r(1031)),n(r(1033)),n(r(1035)),n(r(1037)),n(r(1038)),n(r(1039)),n(r(1040)),n(r(1042))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(78);t.InstanceChainMap=new n.CompositeKeyWeakMap},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.log=function(e){return void 0===e&&(e=""),"lodash-decorators -> "+e}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(418);t.copyMetadata=function(e,t){return n(t,function(t,r){return e[r]=t}),e}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(472),i=r(474),o=r(19);function a(e,t,r){var n=Object.getOwnPropertyDescriptor(e,r);if(!n||n.configurable){var i=Object.getOwnPropertyDescriptor(t,r);o(i)?Object.defineProperty(e,r,i):e[r]=t[r]}}t.assignAll=function(e,t,r){void 0===r&&(r=[]);for(var o=0,u=n.apply(void 0,[Object.getOwnPropertyNames(t)].concat(r));o<u.length;o++){var s=u[o];i(a,e,t,s)}return e},t.assignProperty=a},function(e,t,r){var n=r(473),i=r(26),o=r(208),a=i(function(e,t){return o(e)?n(e,t):[]});e.exports=a},function(e,t,r){var n=r(290),i=r(283),o=r(426),a=r(108),u=r(111),s=r(291),c=200;e.exports=function(e,t,r,f){var l=-1,d=i,p=!0,h=e.length,v=[],g=t.length;if(!h)return v;r&&(t=a(t,u(r))),f?(d=o,p=!1):t.length>=c&&(d=s,p=!1,t=new n(t));e:for(;++l<h;){var y=e[l],m=null==r?y:r(y);if(y=f||0!==y?y:0,p&&m==m){for(var b=g;b--;)if(t[b]===m)continue e;v.push(y)}else d(t,m,f)||v.push(y)}return v}},function(e,t,r){var n=r(89),i=r(26),o=r(985),a=i(function(e,t){try{return n(e,void 0,t)}catch(e){return o(e)?e:new Error(e)}});e.exports=a},function(e,t,r){var n=r(61),i="Expected a function";e.exports=function(e,t){if("function"!=typeof t)throw new TypeError(i);return e=n(e),function(){if(--e<1)return t.apply(this,arguments)}}},function(e,t,r){var n=r(91),i=128;e.exports=function(e,t,r){return t=r?void 0:t,t=e&&null==t?e.length:t,n(e,i,void 0,void 0,void 0,void 0,t)}},function(e,t,r){var n=r(91),i=16;function o(e,t,r){var a=n(e,i,void 0,void 0,void 0,void 0,void 0,t=r?void 0:t);return a.placeholder=o.placeholder,a}o.placeholder={},e.exports=o},function(e,t){var r="Expected a function";e.exports=function(e,t,n){if("function"!=typeof e)throw new TypeError(r);return setTimeout(function(){e.apply(void 0,n)},t)}},function(e,t,r){var n=r(282),i=r(204),o=r(281),a=r(401),u=r(4),s=r(399),c="Expected a function",f=8,l=32,d=128,p=256;e.exports=function(e){return i(function(t){var r=t.length,i=r,h=n.prototype.thru;for(e&&t.reverse();i--;){var v=t[i];if("function"!=typeof v)throw new TypeError(c);if(h&&!g&&"wrapper"==a(v))var g=new n([],!0)}for(i=g?i:r;++i<r;){v=t[i];var y=a(v),m="wrapper"==y?o(v):void 0;g=m&&s(m[0])&&m[1]==(d|f|l|p)&&!m[4].length&&1==m[9]?g[a(m[0])].apply(g,m[3]):1==v.length&&s(v)?g[y]():g.thru(v)}return function(){var e=arguments,n=e[0];if(g&&1==e.length&&u(n))return g.plant(n).value();for(var i=0,o=r?t[i].apply(this,e):n;++i<r;)o=t[i].call(this,o);return o}})}},function(e,t){var r="Expected a function";e.exports=function(e){if("function"!=typeof e)throw new TypeError(r);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}},function(e,t,r){var n=r(129);e.exports=function(e,t,r){var i=e.length;return r=void 0===r?i:r,!t&&r>=i?e:n(e,t,r)}},function(e,t,r){var n=r(211),i=r(19),o="Expected a function";e.exports=function(e,t,r){var a=!0,u=!0;if("function"!=typeof e)throw new TypeError(o);return i(r)&&(a="leading"in r?!!r.leading:a,u="trailing"in r?!!r.trailing:u),n(e,t,{leading:a,maxWait:t,trailing:u})}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ensureH264=void 0;var n=u(r(307)),i=u(r(215)),o=u(r(163));t.getMediaDirectionFromSDP=s,t.getMediaFromSDP=function(e,t,r){var i="screen"===e?{content:"slides",type:"video"}:{type:e},o=(0,n.default)((0,a.parse)(t).media,i),u={};r&&("sendrecv"===r?(o.forEach(function(e){u[e.direction]=e}),!u.sendrecv||u.recvonly||u.sendonly?!u.sendrecv&&u.recvonly&&u.sendonly&&(o=[u.recvonly,u.sendonly]):o=u.sendrecv):o=o.filter(function(e){return e.direction===r}));return o},t.reverseMediaDirection=c,t.limitBandwith=function(e,t){var r=e.audioBandwidthLimit,n=e.videoBandwidthLimit;return t.split("\r\n").reduce(function(e,t){return e.push(t),t.startsWith("m=")&&e.push("b=TIAS:"+(t.includes("audio")?r:n)),e},[]).join("\r\n")},t.kindToPropertyFragment=function(e){return"audio"===e?"Audio":"Video"},t.getMediaDirectionFromSDPForAnswer=function(e,t){return c(s(e,t))},t.boolToDirection=f,t.getMediaDirectionFromTracks=function(e,t){if("closed"===t.signalingState)return"inactive";var r=t.getSenders().filter(function(t){return t.track&&t.track.kind===e}),n=r.length>0&&r.reduce(function(e,t){return e||t.track.enabled},!1),i=t.getReceivers().filter(function(t){return t.track&&t.track.kind===e}),o=i.length>0&&i.reduce(function(e,t){return e||t.track.enabled},!1);return f(n,o)},t.removeExtmap=function(e){return e.replace(/a=extmap.*\r\n/g,"")},r(1048);var a=r(305);function u(e){return e&&e.__esModule?e:{default:e}}function s(e,t){var r="screen"===e?{content:"slides",type:"video"}:{type:e},n=(0,i.default)((0,a.parse)(t).media,r);return n?n.direction:"inactive"}function c(e){switch(e){case"inactive":case"sendrecv":return e;case"sendonly":return"recvonly";case"recvonly":return"sendonly";default:throw new Error('direction "'+e+'" is not valid')}}t.ensureH264=(0,o.default)(function(e,t){if(e){if(!t.includes("m=video"))throw new Error("No video section found in offer");if(!/[hH]264/.test(t))throw new Error("Offer does not include h264 codec")}return t});function f(e,t){return e&&t?"sendrecv":e?"sendonly":t?"recvonly":"inactive"}},function(e,t,r){var n=r(93);e.exports=function(e,t){var r=[];return n(e,function(e,n,i){t(e,n,i)&&r.push(e)}),r}},function(e,t,r){"use strict";var n={generateIdentifier:function(){return Math.random().toString(36).substr(2,10)}};n.localCName=n.generateIdentifier(),n.splitLines=function(e){return e.trim().split("\n").map(function(e){return e.trim()})},n.splitSections=function(e){return e.split("\nm=").map(function(e,t){return(t>0?"m="+e:e).trim()+"\r\n"})},n.getDescription=function(e){var t=n.splitSections(e);return t&&t[0]},n.getMediaSections=function(e){var t=n.splitSections(e);return t.shift(),t},n.matchPrefix=function(e,t){return n.splitLines(e).filter(function(e){return 0===e.indexOf(t)})},n.parseCandidate=function(e){for(var t,r={foundation:(t=0===e.indexOf("a=candidate:")?e.substring(12).split(" "):e.substring(10).split(" "))[0],component:parseInt(t[1],10),protocol:t[2].toLowerCase(),priority:parseInt(t[3],10),ip:t[4],port:parseInt(t[5],10),type:t[7]},n=8;n<t.length;n+=2)switch(t[n]){case"raddr":r.relatedAddress=t[n+1];break;case"rport":r.relatedPort=parseInt(t[n+1],10);break;case"tcptype":r.tcpType=t[n+1];break;case"ufrag":r.ufrag=t[n+1],r.usernameFragment=t[n+1];break;default:r[t[n]]=t[n+1]}return r},n.writeCandidate=function(e){var t=[];t.push(e.foundation),t.push(e.component),t.push(e.protocol.toUpperCase()),t.push(e.priority),t.push(e.ip),t.push(e.port);var r=e.type;return t.push("typ"),t.push(r),"host"!==r&&e.relatedAddress&&e.relatedPort&&(t.push("raddr"),t.push(e.relatedAddress),t.push("rport"),t.push(e.relatedPort)),e.tcpType&&"tcp"===e.protocol.toLowerCase()&&(t.push("tcptype"),t.push(e.tcpType)),(e.usernameFragment||e.ufrag)&&(t.push("ufrag"),t.push(e.usernameFragment||e.ufrag)),"candidate:"+t.join(" ")},n.parseIceOptions=function(e){return e.substr(14).split(" ")},n.parseRtpMap=function(e){var t=e.substr(9).split(" "),r={payloadType:parseInt(t.shift(),10)};return t=t[0].split("/"),r.name=t[0],r.clockRate=parseInt(t[1],10),r.channels=3===t.length?parseInt(t[2],10):1,r.numChannels=r.channels,r},n.writeRtpMap=function(e){var t=e.payloadType;void 0!==e.preferredPayloadType&&(t=e.preferredPayloadType);var r=e.channels||e.numChannels||1;return"a=rtpmap:"+t+" "+e.name+"/"+e.clockRate+(1!==r?"/"+r:"")+"\r\n"},n.parseExtmap=function(e){var t=e.substr(9).split(" ");return{id:parseInt(t[0],10),direction:t[0].indexOf("/")>0?t[0].split("/")[1]:"sendrecv",uri:t[1]}},n.writeExtmap=function(e){return"a=extmap:"+(e.id||e.preferredId)+(e.direction&&"sendrecv"!==e.direction?"/"+e.direction:"")+" "+e.uri+"\r\n"},n.parseFmtp=function(e){for(var t,r={},n=e.substr(e.indexOf(" ")+1).split(";"),i=0;i<n.length;i++)r[(t=n[i].trim().split("="))[0].trim()]=t[1];return r},n.writeFmtp=function(e){var t="",r=e.payloadType;if(void 0!==e.preferredPayloadType&&(r=e.preferredPayloadType),e.parameters&&Object.keys(e.parameters).length){var n=[];Object.keys(e.parameters).forEach(function(t){e.parameters[t]?n.push(t+"="+e.parameters[t]):n.push(t)}),t+="a=fmtp:"+r+" "+n.join(";")+"\r\n"}return t},n.parseRtcpFb=function(e){var t=e.substr(e.indexOf(" ")+1).split(" ");return{type:t.shift(),parameter:t.join(" ")}},n.writeRtcpFb=function(e){var t="",r=e.payloadType;return void 0!==e.preferredPayloadType&&(r=e.preferredPayloadType),e.rtcpFeedback&&e.rtcpFeedback.length&&e.rtcpFeedback.forEach(function(e){t+="a=rtcp-fb:"+r+" "+e.type+(e.parameter&&e.parameter.length?" "+e.parameter:"")+"\r\n"}),t},n.parseSsrcMedia=function(e){var t=e.indexOf(" "),r={ssrc:parseInt(e.substr(7,t-7),10)},n=e.indexOf(":",t);return n>-1?(r.attribute=e.substr(t+1,n-t-1),r.value=e.substr(n+1)):r.attribute=e.substr(t+1),r},n.parseSsrcGroup=function(e){var t=e.substr(13).split(" ");return{semantics:t.shift(),ssrcs:t.map(function(e){return parseInt(e,10)})}},n.getMid=function(e){var t=n.matchPrefix(e,"a=mid:")[0];if(t)return t.substr(6)},n.parseFingerprint=function(e){var t=e.substr(14).split(" ");return{algorithm:t[0].toLowerCase(),value:t[1]}},n.getDtlsParameters=function(e,t){return{role:"auto",fingerprints:n.matchPrefix(e+t,"a=fingerprint:").map(n.parseFingerprint)}},n.writeDtlsParameters=function(e,t){var r="a=setup:"+t+"\r\n";return e.fingerprints.forEach(function(e){r+="a=fingerprint:"+e.algorithm+" "+e.value+"\r\n"}),r},n.getIceParameters=function(e,t){var r=n.splitLines(e);return{usernameFragment:(r=r.concat(n.splitLines(t))).filter(function(e){return 0===e.indexOf("a=ice-ufrag:")})[0].substr(12),password:r.filter(function(e){return 0===e.indexOf("a=ice-pwd:")})[0].substr(10)}},n.writeIceParameters=function(e){return"a=ice-ufrag:"+e.usernameFragment+"\r\na=ice-pwd:"+e.password+"\r\n"},n.parseRtpParameters=function(e){for(var t={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},r=n.splitLines(e)[0].split(" "),i=3;i<r.length;i++){var o=r[i],a=n.matchPrefix(e,"a=rtpmap:"+o+" ")[0];if(a){var u=n.parseRtpMap(a),s=n.matchPrefix(e,"a=fmtp:"+o+" ");switch(u.parameters=s.length?n.parseFmtp(s[0]):{},u.rtcpFeedback=n.matchPrefix(e,"a=rtcp-fb:"+o+" ").map(n.parseRtcpFb),t.codecs.push(u),u.name.toUpperCase()){case"RED":case"ULPFEC":t.fecMechanisms.push(u.name.toUpperCase())}}}return n.matchPrefix(e,"a=extmap:").forEach(function(e){t.headerExtensions.push(n.parseExtmap(e))}),t},n.writeRtpDescription=function(e,t){var r="";r+="m="+e+" ",r+=t.codecs.length>0?"9":"0",r+=" UDP/TLS/RTP/SAVPF ",r+=t.codecs.map(function(e){return void 0!==e.preferredPayloadType?e.preferredPayloadType:e.payloadType}).join(" ")+"\r\n",r+="c=IN IP4 0.0.0.0\r\n",r+="a=rtcp:9 IN IP4 0.0.0.0\r\n",t.codecs.forEach(function(e){r+=n.writeRtpMap(e),r+=n.writeFmtp(e),r+=n.writeRtcpFb(e)});var i=0;return t.codecs.forEach(function(e){e.maxptime>i&&(i=e.maxptime)}),i>0&&(r+="a=maxptime:"+i+"\r\n"),r+="a=rtcp-mux\r\n",t.headerExtensions&&t.headerExtensions.forEach(function(e){r+=n.writeExtmap(e)}),r},n.parseRtpEncodingParameters=function(e){var t,r=[],i=n.parseRtpParameters(e),o=-1!==i.fecMechanisms.indexOf("RED"),a=-1!==i.fecMechanisms.indexOf("ULPFEC"),u=n.matchPrefix(e,"a=ssrc:").map(function(e){return n.parseSsrcMedia(e)}).filter(function(e){return"cname"===e.attribute}),s=u.length>0&&u[0].ssrc,c=n.matchPrefix(e,"a=ssrc-group:FID").map(function(e){return e.substr(17).split(" ").map(function(e){return parseInt(e,10)})});c.length>0&&c[0].length>1&&c[0][0]===s&&(t=c[0][1]),i.codecs.forEach(function(e){if("RTX"===e.name.toUpperCase()&&e.parameters.apt){var n={ssrc:s,codecPayloadType:parseInt(e.parameters.apt,10)};s&&t&&(n.rtx={ssrc:t}),r.push(n),o&&((n=JSON.parse(JSON.stringify(n))).fec={ssrc:t,mechanism:a?"red+ulpfec":"red"},r.push(n))}}),0===r.length&&s&&r.push({ssrc:s});var f=n.matchPrefix(e,"b=");return f.length&&(f=0===f[0].indexOf("b=TIAS:")?parseInt(f[0].substr(7),10):0===f[0].indexOf("b=AS:")?1e3*parseInt(f[0].substr(5),10)*.95-16e3:void 0,r.forEach(function(e){e.maxBitrate=f})),r},n.parseRtcpParameters=function(e){var t={},r=n.matchPrefix(e,"a=ssrc:").map(function(e){return n.parseSsrcMedia(e)}).filter(function(e){return"cname"===e.attribute})[0];r&&(t.cname=r.value,t.ssrc=r.ssrc);var i=n.matchPrefix(e,"a=rtcp-rsize");t.reducedSize=i.length>0,t.compound=0===i.length;var o=n.matchPrefix(e,"a=rtcp-mux");return t.mux=o.length>0,t},n.parseMsid=function(e){var t,r=n.matchPrefix(e,"a=msid:");if(1===r.length)return{stream:(t=r[0].substr(7).split(" "))[0],track:t[1]};var i=n.matchPrefix(e,"a=ssrc:").map(function(e){return n.parseSsrcMedia(e)}).filter(function(e){return"msid"===e.attribute});return i.length>0?{stream:(t=i[0].value.split(" "))[0],track:t[1]}:void 0},n.generateSessionId=function(){return Math.random().toString().substr(2,21)},n.writeSessionBoilerplate=function(e,t){var r=void 0!==t?t:2;return"v=0\r\no=thisisadapterortc "+(e||n.generateSessionId())+" "+r+" IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\n"},n.writeMediaSection=function(e,t,r,i){var o=n.writeRtpDescription(e.kind,t);if(o+=n.writeIceParameters(e.iceGatherer.getLocalParameters()),o+=n.writeDtlsParameters(e.dtlsTransport.getLocalParameters(),"offer"===r?"actpass":"active"),o+="a=mid:"+e.mid+"\r\n",e.direction?o+="a="+e.direction+"\r\n":e.rtpSender&&e.rtpReceiver?o+="a=sendrecv\r\n":e.rtpSender?o+="a=sendonly\r\n":e.rtpReceiver?o+="a=recvonly\r\n":o+="a=inactive\r\n",e.rtpSender){var a="msid:"+i.id+" "+e.rtpSender.track.id+"\r\n";o+="a="+a,o+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" "+a,e.sendEncodingParameters[0].rtx&&(o+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" "+a,o+="a=ssrc-group:FID "+e.sendEncodingParameters[0].ssrc+" "+e.sendEncodingParameters[0].rtx.ssrc+"\r\n")}return o+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" cname:"+n.localCName+"\r\n",e.rtpSender&&e.sendEncodingParameters[0].rtx&&(o+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" cname:"+n.localCName+"\r\n"),o},n.getDirection=function(e,t){for(var r=n.splitLines(e),i=0;i<r.length;i++)switch(r[i]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return r[i].substr(2)}return t?n.getDirection(t):"sendrecv"},n.getKind=function(e){return n.splitLines(e)[0].split(" ")[0].substr(2)},n.isRejected=function(e){return"0"===e.split(" ",2)[1]},n.parseMLine=function(e){var t=n.splitLines(e)[0].substr(2).split(" ");return{kind:t[0],port:parseInt(t[1],10),protocol:t[2],fmt:t.slice(3).join(" ")}},n.parseOLine=function(e){var t=n.matchPrefix(e,"o=")[0].substr(2).split(" ");return{username:t[0],sessionId:t[1],sessionVersion:parseInt(t[2],10),netType:t[3],addressType:t[4],address:t[5]}},n.isValidSDP=function(e){if("string"!=typeof e||0===e.length)return!1;for(var t=n.splitLines(e),r=0;r<t.length;r++)if(t[r].length<2||"="!==t[r].charAt(1))return!1;return!0},e.exports=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DESYNC=t.LESS_THAN=t.GREATER_THAN=t.FETCH=t.EQUAL=t.USE_CURRENT=t.USE_INCOMING=t.eventKeys=void 0;var n=r(1061);Object.defineProperty(t,"eventKeys",{enumerable:!0,get:function(){return n.locusEventKeys}});var i=r(1062);Object.defineProperty(t,"USE_INCOMING",{enumerable:!0,get:function(){return i.USE_INCOMING}}),Object.defineProperty(t,"USE_CURRENT",{enumerable:!0,get:function(){return i.USE_CURRENT}}),Object.defineProperty(t,"EQUAL",{enumerable:!0,get:function(){return i.EQUAL}}),Object.defineProperty(t,"FETCH",{enumerable:!0,get:function(){return i.FETCH}}),Object.defineProperty(t,"GREATER_THAN",{enumerable:!0,get:function(){return i.GREATER_THAN}}),Object.defineProperty(t,"LESS_THAN",{enumerable:!0,get:function(){return i.LESS_THAN}}),Object.defineProperty(t,"DESYNC",{enumerable:!0,get:function(){return i.DESYNC}}),r(1065);var o=r(2),a=function(e){return e&&e.__esModule?e:{default:e}}(i);(0,o.registerInternalPlugin)("locus",a.default),
/*!
                                                                   * Copyright (c) 2015-2017 Cisco Systems, Inc. See LICENSE file.
                                                                   */
t.default=a.default},function(e,t,r){var n=r(473),i=r(154),o=r(26),a=r(208),u=o(function(e,t){return a(e)?n(e,i(t,1,a,!0)):[]});e.exports=u},function(e,t){var r=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");e.exports=function(e){return r.test(e)}},function(e,t){e.exports=function(e,t,r,n){var i=-1,o=null==e?0:e.length;for(n&&o&&(r=e[++i]);++i<o;)r=t(r,e[i],i,e);return r}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(1081);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return function(e){return e&&e.__esModule?e:{default:e}}(n).default}})},function(e,t,r){var n=r(216)(function(e,t,r){e[r?0:1].push(t)},function(){return[[],[]]});e.exports=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.config=t.default=void 0;var n=r(1089);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return u(n).default}}),r(167);var i=r(2),o=u(n),a=u(r(1092));function u(e){return e&&e.__esModule?e:{default:e}}
/*!
 * Copyright (c) 2015-2017 Cisco Systems, Inc. See LICENSE file.
 */(0,i.registerInternalPlugin)("metrics",o.default,{config:a.default}),t.config=a.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=
/*!
 * Copyright (c) 2015-2017 Cisco Systems, Inc. See LICENSE file.
 */
function(e,t){if(e&&t)return"sendrecv";if(e&&!t)return"sendonly";if(!e&&t)return"recvonly";if(!e&&!t)return"inactive";throw new Error("If you see this error, your JavaScript engine has a major flaw")}},function(e,t,r){var n=r(89),i=r(87),o=r(202),a=r(382),u=r(88);e.exports=function(e,t,r){t=i(t,e);var s=null==(e=a(e,t))?e:e[u(o(t))];return null==s?void 0:n(s,e,r)}},function(e,t,r){var n=r(93),i=r(59);e.exports=function(e,t){var r=-1,o=i(e)?Array(e.length):[];return n(e,function(e,n,i){o[++r]=t(e,n,i)}),o}},function(e,t,r){var n=r(128);e.exports=function(e,t,r){for(var i=-1,o=e.length;++i<o;){var a=e[i],u=t(a);if(null!=u&&(void 0===s?u==u&&!n(u):r(u,s)))var s=u,c=a}return c}},function(e,t){e.exports=function(e,t,r,n,i){return i(e,function(e,i,o){r=n?(n=!1,e):t(r,e,i,o)}),r}},function(e,t,r){var n=r(499);e.exports=function(e){var t=e.length;return t?e[n(0,t-1)]:void 0}},function(e,t){var r=Math.floor,n=Math.random;e.exports=function(e,t){return e+r(n()*(t-e+1))}},function(e,t,r){var n=r(499);e.exports=function(e,t){var r=-1,i=e.length,o=i-1;for(t=void 0===t?i:t;++r<t;){var a=n(r,o),u=e[a];e[a]=e[r],e[r]=u}return e.length=t,e}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=c(r(77)),i=c(r(14)),o=c(r(8)),a=c(r(11)),u=c(r(15)),s=c(r(16));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){return(0,o.default)(this,t),(0,u.default)(this,(t.__proto__||(0,i.default)(t)).call(this,{objectMode:!0}))}return(0,s.default)(t,e),(0,a.default)(t,[{key:"_transform",value:function(e,t,r){if(e){var i={local:null,remote:null},o={local:null,remote:null},a={local:null,remote:null},u={local:null,remote:null},s=!0,c=!1,f=void 0;try{for(var l,d=(0,n.default)(e.values());!(s=(l=d.next()).done);s=!0){var p=l.value;["outbound-rtp","outboundrtp"].includes(p.type)&&!p.isRemote&&("audio"===p.mediaType&&(a.local=p,a.remote=e.get(p.remoteId)),"video"===p.mediaType&&(u.local=p,u.remote=e.get(p.remoteId))),["inbound-rtp","inboundrtp"].includes(p.type)&&!p.isRemote&&("audio"===p.mediaType&&(i.local=p,i.remote=e.get(p.remoteId)),"video"===p.mediaType&&(o.local=p,o.remote=e.get(p.remoteId)))}}catch(e){c=!0,f=e}finally{try{!s&&d.return&&d.return()}finally{if(c)throw f}}this.push({incomingAudio:i,incomingVideo:o,outgoingAudio:a,outgoingVideo:u,report:e}),r()}else r()}}]),t}(r(502).Transform);t.default=f},function(e,t,r){e.exports=i;var n=r(62).EventEmitter;function i(){n.call(this)}r(113)(i,n),i.Readable=r(312),i.Writable=r(1140),i.Duplex=r(1141),i.Transform=r(1142),i.PassThrough=r(1143),i.Stream=i,i.prototype.pipe=function(e,t){var r=this;function i(t){e.writable&&!1===e.write(t)&&r.pause&&r.pause()}function o(){r.readable&&r.resume&&r.resume()}r.on("data",i),e.on("drain",o),e._isStdio||t&&!1===t.end||(r.on("end",u),r.on("close",s));var a=!1;function u(){a||(a=!0,e.end())}function s(){a||(a=!0,"function"==typeof e.destroy&&e.destroy())}function c(e){if(f(),0===n.listenerCount(this,"error"))throw e}function f(){r.removeListener("data",i),e.removeListener("drain",o),r.removeListener("end",u),r.removeListener("close",s),r.removeListener("error",c),e.removeListener("error",c),r.removeListener("end",f),r.removeListener("close",f),e.removeListener("close",f)}return r.on("error",c),e.on("error",c),r.on("end",f),r.on("close",f),e.on("close",f),e.emit("pipe",r),e}},function(e,t,r){"use strict";(function(t,n){var i=r(217);e.exports=b;var o,a=r(385);b.ReadableState=m;r(62).EventEmitter;var u=function(e,t){return e.listeners(t).length},s=r(504),c=r(218).Buffer,f=t.Uint8Array||function(){};var l=r(168);l.inherits=r(113);var d=r(1133),p=void 0;p=d&&d.debuglog?d.debuglog("stream"):function(){};var h,v=r(1134),g=r(505);l.inherits(b,s);var y=["error","close","destroy","pause","resume"];function m(e,t){o=o||r(116),e=e||{};var n=t instanceof o;this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var i=e.highWaterMark,a=e.readableHighWaterMark,u=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:n&&(a||0===a)?a:u,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new v,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(h||(h=r(506).StringDecoder),this.decoder=new h(e.encoding),this.encoding=e.encoding)}function b(e){if(o=o||r(116),!(this instanceof b))return new b(e);this._readableState=new m(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),s.call(this)}function _(e,t,r,n,i){var o,a=e._readableState;null===t?(a.reading=!1,function(e,t){if(t.ended)return;if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,x(e)}(e,a)):(i||(o=function(e,t){var r;(function(e){return c.isBuffer(e)||e instanceof f})(t)||"string"==typeof t||void 0===t||e.objectMode||(r=new TypeError("Invalid non-string/buffer chunk"));return r}(a,t)),o?e.emit("error",o):a.objectMode||t&&t.length>0?("string"==typeof t||a.objectMode||Object.getPrototypeOf(t)===c.prototype||(t=function(e){return c.from(e)}(t)),n?a.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):w(e,a,t,!0):a.ended?e.emit("error",new Error("stream.push() after EOF")):(a.reading=!1,a.decoder&&!r?(t=a.decoder.write(t),a.objectMode||0!==t.length?w(e,a,t,!1):T(e,a)):w(e,a,t,!1))):n||(a.reading=!1));return function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(a)}function w(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(e.emit("data",r),e.read(0)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&x(e)),T(e,t)}Object.defineProperty(b.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),b.prototype.destroy=g.destroy,b.prototype._undestroy=g.undestroy,b.prototype._destroy=function(e,t){this.push(null),t(e)},b.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=c.from(e,t),t=""),r=!0),_(this,e,t,!1,r)},b.prototype.unshift=function(e){return _(this,e,null,!0,!1)},b.prototype.isPaused=function(){return!1===this._readableState.flowing},b.prototype.setEncoding=function(e){return h||(h=r(506).StringDecoder),this._readableState.decoder=new h(e),this._readableState.encoding=e,this};var S=8388608;function k(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=S?e=S:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function x(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(p("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?i.nextTick(E,e):E(e))}function E(e){p("emit readable"),e.emit("readable"),M(e)}function T(e,t){t.readingMore||(t.readingMore=!0,i.nextTick(O,e,t))}function O(e,t){for(var r=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(p("maybeReadMore read 0"),e.read(0),r!==t.length);)r=t.length;t.readingMore=!1}function P(e){p("readable nexttick read 0"),e.read(0)}function C(e,t){t.reading||(p("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),M(e),t.flowing&&!t.reading&&e.read(0)}function M(e){var t=e._readableState;for(p("flow",t.flowing);t.flowing&&null!==e.read(););}function j(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):r=function(e,t,r){var n;e<t.head.data.length?(n=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):n=e===t.head.data.length?t.shift():r?function(e,t){var r=t.head,n=1,i=r.data;e-=i.length;for(;r=r.next;){var o=r.data,a=e>o.length?o.length:e;if(a===o.length?i+=o:i+=o.slice(0,e),0===(e-=a)){a===o.length?(++n,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=o.slice(a));break}++n}return t.length-=n,i}(e,t):function(e,t){var r=c.allocUnsafe(e),n=t.head,i=1;n.data.copy(r),e-=n.data.length;for(;n=n.next;){var o=n.data,a=e>o.length?o.length:e;if(o.copy(r,r.length-e,0,a),0===(e-=a)){a===o.length?(++i,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=o.slice(a));break}++i}return t.length-=i,r}(e,t);return n}(e,t.buffer,t.decoder),r);var r}function R(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,i.nextTick(A,t,e))}function A(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function I(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}b.prototype.read=function(e){p("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return p("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?R(this):x(this),null;if(0===(e=k(e,t))&&t.ended)return 0===t.length&&R(this),null;var n,i=t.needReadable;return p("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&p("length less than watermark",i=!0),t.ended||t.reading?p("reading or ended",i=!1):i&&(p("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=k(r,t))),null===(n=e>0?j(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&R(this)),null!==n&&this.emit("data",n),n},b.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},b.prototype.pipe=function(e,t){var r=this,o=this._readableState;switch(o.pipesCount){case 0:o.pipes=e;break;case 1:o.pipes=[o.pipes,e];break;default:o.pipes.push(e)}o.pipesCount+=1,p("pipe count=%d opts=%j",o.pipesCount,t);var s=(!t||!1!==t.end)&&e!==n.stdout&&e!==n.stderr?f:b;function c(t,n){p("onunpipe"),t===r&&n&&!1===n.hasUnpiped&&(n.hasUnpiped=!0,p("cleanup"),e.removeListener("close",y),e.removeListener("finish",m),e.removeListener("drain",l),e.removeListener("error",g),e.removeListener("unpipe",c),r.removeListener("end",f),r.removeListener("end",b),r.removeListener("data",v),d=!0,!o.awaitDrain||e._writableState&&!e._writableState.needDrain||l())}function f(){p("onend"),e.end()}o.endEmitted?i.nextTick(s):r.once("end",s),e.on("unpipe",c);var l=function(e){return function(){var t=e._readableState;p("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&u(e,"data")&&(t.flowing=!0,M(e))}}(r);e.on("drain",l);var d=!1;var h=!1;function v(t){p("ondata"),h=!1,!1!==e.write(t)||h||((1===o.pipesCount&&o.pipes===e||o.pipesCount>1&&-1!==I(o.pipes,e))&&!d&&(p("false write response, pause",r._readableState.awaitDrain),r._readableState.awaitDrain++,h=!0),r.pause())}function g(t){p("onerror",t),b(),e.removeListener("error",g),0===u(e,"error")&&e.emit("error",t)}function y(){e.removeListener("finish",m),b()}function m(){p("onfinish"),e.removeListener("close",y),b()}function b(){p("unpipe"),r.unpipe(e)}return r.on("data",v),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?a(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}(e,"error",g),e.once("close",y),e.once("finish",m),e.emit("pipe",r),o.flowing||(p("pipe resume"),r.resume()),e},b.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r),this);if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,r);return this}var a=I(t.pipes,e);return-1===a?this:(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r),this)},b.prototype.on=function(e,t){var r=s.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var n=this._readableState;n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&x(this):i.nextTick(P,this))}return r},b.prototype.addListener=b.prototype.on,b.prototype.resume=function(){var e=this._readableState;return e.flowing||(p("resume"),e.flowing=!0,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,i.nextTick(C,e,t))}(this,e)),this},b.prototype.pause=function(){return p("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(p("pause"),this._readableState.flowing=!1,this.emit("pause")),this},b.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;for(var i in e.on("end",function(){if(p("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)}),e.on("data",function(i){(p("wrapped data"),r.decoder&&(i=r.decoder.write(i)),!r.objectMode||null!==i&&void 0!==i)&&((r.objectMode||i&&i.length)&&(t.push(i)||(n=!0,e.pause())))}),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var o=0;o<y.length;o++)e.on(y[o],this.emit.bind(this,y[o]));return this._read=function(t){p("wrapped _read",t),n&&(n=!1,e.resume())},this},Object.defineProperty(b.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),b._fromList=j}).call(this,r(32),r(23))},function(e,t,r){e.exports=r(62).EventEmitter},function(e,t,r){"use strict";var n=r(217);function i(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var r=this,o=this._readableState&&this._readableState.destroyed,a=this._writableState&&this._writableState.destroyed;return o||a?(t?t(e):!e||this._writableState&&this._writableState.errorEmitted||n.nextTick(i,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(e){!t&&e?(n.nextTick(i,r,e),r._writableState&&(r._writableState.errorEmitted=!0)):t&&t(e)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(e,t,r){"use strict";var n=r(218).Buffer,i=n.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(n.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=s,this.end=c,t=4;break;case"utf8":this.fillLast=u,t=4;break;case"base64":this.text=f,this.end=l,t=3;break;default:return this.write=d,void(this.end=p)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(t)}function a(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function u(e){var t=this.lastTotal-this.lastNeed,r=function(e,t,r){if(128!=(192&t[0]))return e.lastNeed=0,"�";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"�";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,"�"}}(this,e);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function s(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function c(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function f(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function l(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function d(e){return e.toString(this.encoding)}function p(e){return e&&e.length?this.write(e):""}t.StringDecoder=o,o.prototype.write=function(e){if(0===e.length)return"";var t,r;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},o.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"�":t},o.prototype.text=function(e,t){var r=function(e,t,r){var n=t.length-1;if(n<r)return 0;var i=a(t[n]);if(i>=0)return i>0&&(e.lastNeed=i-1),i;if(--n<r||-2===i)return 0;if((i=a(t[n]))>=0)return i>0&&(e.lastNeed=i-2),i;if(--n<r||-2===i)return 0;if((i=a(t[n]))>=0)return i>0&&(2===i?i=0:e.lastNeed=i-3),i;return 0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)},o.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},function(e,t,r){"use strict";e.exports=o;var n=r(116),i=r(168);function o(e){if(!(this instanceof o))return new o(e);n.call(this,e),this._transformState={afterTransform:function(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(!n)return this.emit("error",new Error("write callback called multiple times"));r.writechunk=null,r.writecb=null,null!=t&&this.push(t),n(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",a)}function a(){var e=this;"function"==typeof this._flush?this._flush(function(t,r){u(e,t,r)}):u(this,null,null)}function u(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}i.inherits=r(113),i.inherits(o,n),o.prototype.push=function(e,t){return this._transformState.needTransform=!1,n.prototype.push.call(this,e,t)},o.prototype._transform=function(e,t,r){throw new Error("_transform() is not implemented")},o.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},o.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},o.prototype._destroy=function(e,t){var r=this;n.prototype._destroy.call(this,e,function(e){t(e),r.emit("close")})}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=d(r(14)),i=d(r(8)),o=d(r(11)),a=d(r(15)),u=d(r(16)),s=d(r(44)),c=r(502),f=r(62),l=r(132);function d(e){return e&&e.__esModule?e:{default:e}}var p=new s.default,h=new s.default,v=new s.default,g=new s.default;var y=function(e){function t(e){(0,i.default)(this,t);var r=(0,a.default)(this,(t.__proto__||(0,n.default)(t)).call(this,{objectMode:!0}));p.has(e)||p.set(e,new f.EventEmitter);var o=p.get(e);return v.has(r)||v.set(r,o),h.has(o)||h.set(o,e),o.once("error",function(e){r.emit("error",e)}),r}return(0,u.default)(t,e),(0,o.default)(t,[{key:"_read",value:function(){var e=this,t=v.get(this);t.once("data",function(t){e.isPaused()||e.push(t)}),g.has(t)||function e(t){var r=(0,l.safeSetTimeout)(function(){var r=h.get(t);r.getStats().then(function(n){t.emit("data",n),"closed"!==r.signalingState&&"closed"!==r.connectionState&&e(t)}).catch(function(e){t.emit("error",e)})},1e3);g.set(t,r)}(t)}}]),t}(c.Readable);t.default=y},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(1146);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return u(n).default}});var i=r(2),o=u(n),a=u(r(1148));function u(e){return e&&e.__esModule?e:{default:e}}(0,i.registerPlugin)("people",o.default,{config:a.default})},function(e,t,r){"use strict";r.r(t);var n=Object.defineProperty;function i(e,t,r){var i=r.configurable,o=r.enumerable,a=r.initializer,u=r.value;return{configurable:i,enumerable:o,get:function(){if(this!==e){var r=a?a.call(this):u;return n(this,t,{configurable:i,enumerable:o,writable:!0,value:r}),r}},set:T(t)}}function o(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return _(i,t)}var a,u,s,c,f,l,d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function p(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function h(e,t,r,n,i){var o={};return Object.keys(n).forEach(function(e){o[e]=n[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}function v(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}var g=Object.defineProperty,y=Object.getOwnPropertyDescriptor,m=Object.getOwnPropertyNames,b=Object.getOwnPropertySymbols;function _(e,t){return function(e){if(!e||!e.hasOwnProperty)return!1;for(var t=["value","initializer","get","set"],r=0,n=t.length;r<n;r++)if(e.hasOwnProperty(t[r]))return!0;return!1}(t[t.length-1])?e.apply(void 0,v(t).concat([[]])):function(){return e.apply(void 0,v(Array.prototype.slice.call(arguments)).concat([t]))}}var w=(u=h((a=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),p(this,"debounceTimeoutIds",u,this),p(this,"throttleTimeoutIds",s,this),p(this,"throttlePreviousTimestamps",c,this),p(this,"throttleTrailingArgs",f,this),p(this,"profileLastRan",l,this)}).prototype,"debounceTimeoutIds",[o],{enumerable:!0,initializer:function(){return{}}}),s=h(a.prototype,"throttleTimeoutIds",[o],{enumerable:!0,initializer:function(){return{}}}),c=h(a.prototype,"throttlePreviousTimestamps",[o],{enumerable:!0,initializer:function(){return{}}}),f=h(a.prototype,"throttleTrailingArgs",[o],{enumerable:!0,initializer:function(){return null}}),l=h(a.prototype,"profileLastRan",[o],{enumerable:!0,initializer:function(){return null}}),a),S="function"==typeof Symbol?Symbol("__core_decorators__"):"__core_decorators__";function k(e){return!1===e.hasOwnProperty(S)&&g(e,S,{value:new w}),e[S]}var x=b?function(e){return m(e).concat(b(e))}:m;function E(e){var t={};return x(e).forEach(function(r){return t[r]=y(e,r)}),t}function T(e){return function(t){return Object.defineProperty(this,e,{configurable:!0,writable:!0,enumerable:!0,value:t}),t}}function O(e,t){return e.bind?e.bind(t):function(){return e.apply(t,arguments)}}var P="object"===("undefined"==typeof console?"undefined":d(console))&&console&&"function"==typeof console.warn?O(console.warn,console):function(){},C={};function M(e){!0!==C[e]&&(C[e]=!0,P("DEPRECATION: "+e))}var j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},R=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var A=/^function ([_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*)?(\([^\)]*\))[\s\S]+$/,I=function(){function e(t,r,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.parentKlass=t,this.childKlass=r,this.parentDescriptor=n,this.childDescriptor=i}return R(e,[{key:"_getTopic",value:function(e){return void 0===e?null:"value"in e?e.value:"get"in e?e.get:"set"in e?e.set:void 0}},{key:"_extractTopicSignature",value:function(e){switch(void 0===e?"undefined":j(e)){case"function":return this._extractFunctionSignature(e);default:return this.key}}},{key:"_extractFunctionSignature",value:function(e){var t=this;return e.toString().replace(A,function(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.key)+arguments[2]})}},{key:"key",get:function(){return this.childDescriptor.key}},{key:"parentNotation",get:function(){return this.parentKlass.constructor.name+"#"+this.parentPropertySignature}},{key:"childNotation",get:function(){return this.childKlass.constructor.name+"#"+this.childPropertySignature}},{key:"parentTopic",get:function(){return this._getTopic(this.parentDescriptor)}},{key:"childTopic",get:function(){return this._getTopic(this.childDescriptor)}},{key:"parentPropertySignature",get:function(){return this._extractTopicSignature(this.parentTopic)}},{key:"childPropertySignature",get:function(){return this._extractTopicSignature(this.childTopic)}}]),R(e,[{key:"assert",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";!0!==e&&this.error("{child} does not properly override {parent}"+t)}},{key:"error",value:function(e){var t=this;throw e=e.replace("{parent}",function(e){return t.parentNotation}).replace("{child}",function(e){return t.childNotation}),new SyntaxError(e)}}]),e}();function D(e){return e.hasOwnProperty("value")?"data":e.hasOwnProperty("get")||e.hasOwnProperty("set")?"accessor":"data"}function L(e,t,r){r.assert(e.length===t.length)}function N(e,t,r){var n=D(e),i=D(t);switch(n!==i&&r.error('descriptor types do not match. {parent} is "'+n+'", {child} is "'+i+'"'),i){case"data":!function(e,t,r){var n=j(e.value),i=j(t.value);switch("undefined"===n&&"undefined"===i&&r.error("descriptor values are both undefined. (class properties are are not currently supported)'"),n!==i&&("function"===i&&void 0===n||void 0!==n)&&r.error('value types do not match. {parent} is "'+n+'", {child} is "'+i+'"'),i){case"function":L(e.value,t.value,r);break;default:r.error('Unexpected error. Please file a bug with: {parent} is "'+n+'", {child} is "'+i+'"')}}(e,t,r);break;case"accessor":!function(e,t,r){var n="function"==typeof e.get,i="function"==typeof t.get,o="function"==typeof e.set,a="function"==typeof t.set;(n||i)&&(!n&&o&&r.error("{parent} is setter but {child} is getter"),!i&&a&&r.error("{parent} is getter but {child} is setter"),L(e.get,t.get,r)),(o||a)&&(!o&&n&&r.error("{parent} is getter but {child} is setter"),!a&&i&&r.error("{parent} is setter but {child} is getter"),L(e.set,t.set,r))}(e,t,r)}}var F=[function(e){return e.toLowerCase()},function(e){return e.toUpperCase()},function(e){return e+"s"},function(e){return e.slice(0,-1)},function(e){return e.slice(1,e.length)}];function U(e,t,r){r.key=t;var n=Object.getPrototypeOf(e),i=Object.getOwnPropertyDescriptor(n,t),o=new I(n,e,i,r);if(void 0===i){var a=function(e,t){for(var r=0,n=F.length;r<n;r++){var i=(0,F[r])(t);if(i in e)return i}return null}(n,t),u=a?'\n\n  Did you mean "'+a+'"?':"";o.error("No descriptor matching {child} was found on the prototype chain."+u)}return N(i,r,o),r}function z(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return _(U,t)}var q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},B=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var a,u=e[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{!n&&u.return&&u.return()}finally{if(i)throw o}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),W="This function will be removed in future versions.";function G(e,t,r,n){var i=B(n,2),o=i[0],a=void 0===o?W:o,u=i[1],s=void 0===u?{}:u;if("function"!=typeof r.value)throw new SyntaxError("Only functions can be marked as deprecated");var c=e.constructor.name+"#"+t;return s.url&&(a+="\n\n    See "+s.url+" for more details.\n\n"),q({},r,{value:function(){return P("DEPRECATION "+c+": "+a),r.value.apply(this,arguments)}})}function V(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return _(G,t)}var H=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function Y(){}function $(e,t,r){return H({},r,{value:function(){return function(e,t,r){if("object"===("undefined"==typeof console?"undefined":J(console))){var n=console.warn;console.warn=Y;var i=t.apply(e,r);return console.warn=n,i}return t.apply(e,r)}(this,r.value,arguments)}})}function K(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return _($,t)}var X=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function Z(e,t){return t===Object(t)?t:e[t]||(e[t]={})}function Q(e,t,r){var n=function(e){var t=void 0,r=void 0;return e.value?(t=e.value,r="value"):e.get?(t=e.get,r="get"):e.set&&(t=e.set,r="set"),{fn:t,wrapKey:r}}(r),i=n.fn,o=n.wrapKey,a=new WeakMap,u=Object.create(null),s=Object.create(null),c=0;return X({},r,function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}({},o,function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];for(var n="0",o=0,f=t.length;o<f;o++){var l=t[o],d=Z(s,l),p=a.get(d);void 0===p&&(p=++c,a.set(d,p)),n+=p}return u[n]||function(e,t,r,n,i){var o=t.apply(e,r);return n[i]=o,o}(this,i,arguments,u,n)}))}function ee(){M("@memoize is deprecated and will be removed shortly. Use @memoize from lodash-decorators.\n\n  https://www.npmjs.com/package/lodash-decorators");for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return _(Q,t)}function te(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}var re=Object.defineProperty,ne=Object.getPrototypeOf,ie=void 0;function oe(e,t,r){var n=r.value,i=r.configurable,o=r.enumerable;if("function"!=typeof n)throw new SyntaxError("@autobind can only be used on functions, not: "+n);var a=e.constructor;return{configurable:i,enumerable:o,get:function(){if(this===e)return n;if(this.constructor!==a&&ne(this).constructor===a)return n;if(this.constructor!==a&&t in this.constructor.prototype)return function(e,t){if("undefined"==typeof WeakMap)throw new Error("Using @autobind on "+t.name+"() requires WeakMap support due to its use of super."+t.name+"()\n      See https://github.com/jayphelps/core-decorators.js/issues/20");ie||(ie=new WeakMap),!1===ie.has(e)&&ie.set(e,new WeakMap);var r=ie.get(e);return!1===r.has(t)&&r.set(t,O(t,e)),r.get(t)}(this,n);var r=O(n,this);return re(this,t,{configurable:!0,writable:!0,enumerable:!1,value:r}),r},set:T(t)}}function ae(e){return 1===e.length?function(e){for(var t=E(e.prototype),r=x(t),n=0,i=r.length;n<i;n++){var o=r[n],a=t[o];"function"==typeof a.value&&"constructor"!==o&&re(e.prototype,o,oe(e.prototype,o,a))}}.apply(void 0,te(e)):oe.apply(void 0,te(e))}function ue(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return 0===t.length?function(){return ae(arguments)}:ae(t)}function se(e,t,r){return r.writable=!1,r}function ce(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return _(se,t)}function fe(e,t,r){return r.enumerable=!0,r}function le(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return _(fe,t)}function de(e,t,r){return r.enumerable=!1,r}function pe(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return _(de,t)}function he(e,t,r){return r.configurable=!1,r}function ve(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return _(he,t)}var ge=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ye=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var a,u=e[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{!n&&u.return&&u.return()}finally{if(i)throw o}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),me=300;function be(e,t,r,n){var i=ye(n,2),o=i[0],a=void 0===o?me:o,u=i[1],s=void 0!==u&&u,c=r.value;if("function"!=typeof c)throw new SyntaxError("Only functions can be debounced");return ge({},r,{value:function(){var e=this,r=k(this).debounceTimeoutIds,n=r[t],i=s&&!n,o=arguments;clearTimeout(n),r[t]=setTimeout(function(){delete r[t],s||c.apply(e,o)},a),i&&c.apply(this,o)}})}function _e(){M("@debounce is deprecated and will be removed shortly. Use @debounce from lodash-decorators.\n\n  https://www.npmjs.com/package/lodash-decorators");for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return _(be,t)}var we=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Se=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var a,u=e[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{!n&&u.return&&u.return()}finally{if(i)throw o}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),ke=300;function xe(e,t,r,n){var i=Se(n,2),o=i[0],a=void 0===o?ke:o,u=i[1],s=void 0===u?{}:u,c=r.value;if("function"!=typeof c)throw new SyntaxError("Only functions can be throttled");return!1!==s.leading&&(s.leading=!0),!1!==s.trailing&&(s.trailing=!0),we({},r,{value:function(){var e=this,r=k(this),n=r.throttleTimeoutIds,i=r.throttlePreviousTimestamps,o=n[t],u=i[t]||0,f=Date.now();s.trailing&&(r.throttleTrailingArgs=arguments),u||!1!==s.leading||(u=f);var l=a-(f-u);l<=0?(clearTimeout(o),delete n[t],i[t]=f,c.apply(this,arguments)):!o&&s.trailing&&(n[t]=setTimeout(function(){i[t]=!1===s.leading?0:Date.now(),delete n[t],c.apply(e,r.throttleTrailingArgs),r.throttleTrailingArgs=null},l))}})}function Ee(){M("@throttle is deprecated and will be removed shortly. Use @throttle from lodash-decorators.\n\n  https://www.npmjs.com/package/lodash-decorators");for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return _(xe,t)}var Te=Object.defineProperty;function Oe(e,t,r,n){var i=function(e){return Array.isArray(e)?e:Array.from(e)}(n),o=i[0],a=i.slice(1),u=r.configurable,s=r.enumerable,c=r.writable,f=r.get,l=r.set,d=r.value,p=!!f;return{configurable:u,enumerable:s,get:function(){var e=p?f.call(this):d,r=o.call.apply(o,[this,e].concat(function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}(a)));if(p)return r;var n={configurable:u,enumerable:s};return n.value=r,n.writable=c,Te(this,t,n),r},set:p?l:T()}}function Pe(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return _(Oe,t)}var Ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Me=Object.defineProperty,je=Object.getPrototypeOf;function Re(e,t){if(function(e){return"[object Symbol]"===Object.prototype.toString.call(e)&&"object"===(void 0===e?"undefined":Ce(e))}(e)){do{if(t===Object.prototype)return void 0!==t[e];if(t.hasOwnProperty(e))return!0}while(t=je(t));return!1}return e in t}function Ae(e,t){if(!t.length)throw new SyntaxError("@mixin() class "+e.name+" requires at least one mixin as an argument");for(var r=0,n=t.length;r<n;r++)for(var i=E(t[r]),o=x(i),a=0,u=o.length;a<u;a++){var s=o[a];Re(s,e.prototype)||Me(e.prototype,s,i[s])}}function Ie(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return M("@mixin is deprecated and will be removed shortly. Use @mixin from lodash-decorators.\n\n  https://www.npmjs.com/package/lodash-decorators"),"function"==typeof t[0]?Ae(t[0],[]):function(e){return Ae(e,t)}}var De=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Le=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var a,u=e[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{!n&&u.return&&u.return()}finally{if(i)throw o}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Ne={},Fe={time:console.time?console.time.bind(console):function(e){Ne[e]=new Date},timeEnd:console.timeEnd?console.timeEnd.bind(console):function(e){var t=new Date-Ne[e];delete Ne[e],console.log(e+": "+t+"ms")}},Ue=0;function ze(e,t,r,n){var i=Le(n,2),o=i[0],a=void 0===o?null:o,u=i[1],s=void 0===u?Fe:u,c=r.value;if(null===a&&(a=e.constructor.name+"."+t),"function"!=typeof c)throw new SyntaxError("@time can only be used on functions, not: "+c);return De({},r,{value:function(){var e=a+"-"+Ue;Ue++,s.time(e);try{return c.apply(this,arguments)}finally{s.timeEnd(e)}}})}function qe(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return _(ze,t)}var Be=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},We=Object.getPrototypeOf,Ge=Object.getOwnPropertyDescriptor;function Ve(e,t,r){var n=We(e),i=Ge(n,t);return Be({},i,{value:r.value,initializer:r.initializer,get:r.get||i.get,set:r.set||i.set})}function He(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return _(Ve,t)}var Je=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ye=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var a,u=e[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{!n&&u.return&&u.return()}finally{if(i)throw o}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),$e=(console,{profile:console.profile?O(console.profile,console):function(){},profileEnd:console.profileEnd?O(console.profileEnd,console):function(){},warn:P});function Ke(e,t,r,n){var i=Ye(n,3),o=i[0],a=void 0===o?null:o,u=i[1],s=void 0!==u&&u,c=i[2],f=void 0===c?$e:c;if(!Xe.__enabled)return Xe.__warned||(f.warn("console.profile is not supported. All @profile decorators are disabled."),Xe.__warned=!0),r;var l=r.value;if(null===a&&(a=e.constructor.name+"."+t),"function"!=typeof l)throw new SyntaxError("@profile can only be used on functions, not: "+l);return Je({},r,{value:function(){var e=Date.now(),t=k(this);(!0===s&&!t.profileLastRan||!1===s||"number"==typeof s&&e-t.profileLastRan>s||"function"==typeof s&&s.apply(this,arguments))&&(f.profile(a),t.profileLastRan=e);try{return l.apply(this,arguments)}finally{f.profileEnd(a)}}})}function Xe(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return _(Ke,t)}Xe.__enabled=!!console.profile,Xe.__warned=!1;var Ze=Object.defineProperty,Qe=Object.getOwnPropertyDescriptor;function et(e,t){var r=e.prototype;for(var n in t)for(var i=t[n],o=0,a=i.length;o<a;o++){var u=i[o];Ze(r,n,u(r,n,Qe(r,n)))}return e}r.d(t,"override",function(){return z}),r.d(t,"deprecate",function(){return V}),r.d(t,"deprecated",function(){return V}),r.d(t,"suppressWarnings",function(){return K}),r.d(t,"memoize",function(){return ee}),r.d(t,"autobind",function(){return ue}),r.d(t,"readonly",function(){return ce}),r.d(t,"enumerable",function(){return le}),r.d(t,"nonenumerable",function(){return pe}),r.d(t,"nonconfigurable",function(){return ve}),r.d(t,"debounce",function(){return _e}),r.d(t,"throttle",function(){return Ee}),r.d(t,"decorate",function(){return Pe}),r.d(t,"mixin",function(){return Ie}),r.d(t,"mixins",function(){return Ie}),r.d(t,"lazyInitialize",function(){return o}),r.d(t,"time",function(){return qe}),r.d(t,"extendDescriptor",function(){return He}),r.d(t,"profile",function(){return Xe}),r.d(t,"applyDecorators",function(){return et})},function(e,t,r){"use strict";(function(t){
/*!
 * Copyright (c) 2015-2017 Cisco Systems, Inc. See LICENSE file.
 */
t._babelPolyfill||r(512),e.exports=r(714)}).call(this,r(32))},function(e,t,r){"use strict";(function(e){if(r(513),r(710),r(711),e._babelPolyfill)throw new Error("only one instance of babel-polyfill is allowed");e._babelPolyfill=!0;var t="defineProperty";function n(e,r,n){e[r]||Object[t](e,r,{writable:!0,configurable:!0,value:n})}n(String.prototype,"padLeft","".padStart),n(String.prototype,"padRight","".padEnd),"pop,reverse,shift,keys,values,entries,indexOf,every,some,forEach,map,filter,find,findIndex,includes,join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill".split(",").forEach(function(e){[][e]&&n(Array,e,Function.call.bind([][e]))})}).call(this,r(32))},function(e,t,r){r(514),r(516),r(517),r(518),r(519),r(520),r(521),r(522),r(523),r(524),r(525),r(526),r(527),r(528),r(529),r(530),r(532),r(533),r(534),r(535),r(536),r(537),r(538),r(539),r(540),r(541),r(542),r(543),r(544),r(545),r(546),r(547),r(548),r(549),r(550),r(551),r(552),r(553),r(554),r(555),r(556),r(557),r(558),r(559),r(560),r(561),r(562),r(563),r(564),r(565),r(566),r(567),r(568),r(569),r(570),r(571),r(572),r(573),r(574),r(575),r(576),r(577),r(578),r(579),r(580),r(581),r(582),r(583),r(584),r(585),r(586),r(587),r(588),r(589),r(590),r(591),r(592),r(594),r(595),r(597),r(598),r(599),r(600),r(601),r(602),r(603),r(605),r(606),r(607),r(608),r(609),r(610),r(611),r(612),r(613),r(614),r(615),r(616),r(617),r(240),r(618),r(619),r(332),r(620),r(621),r(622),r(623),r(624),r(335),r(337),r(338),r(625),r(626),r(627),r(628),r(629),r(630),r(631),r(632),r(633),r(634),r(635),r(636),r(637),r(638),r(639),r(640),r(641),r(642),r(643),r(644),r(645),r(646),r(647),r(648),r(649),r(650),r(651),r(652),r(653),r(654),r(655),r(656),r(657),r(658),r(659),r(660),r(661),r(662),r(663),r(664),r(665),r(666),r(667),r(668),r(669),r(670),r(671),r(672),r(673),r(674),r(675),r(676),r(677),r(678),r(679),r(680),r(681),r(682),r(683),r(684),r(685),r(686),r(687),r(688),r(689),r(690),r(691),r(692),r(693),r(694),r(695),r(696),r(697),r(698),r(699),r(700),r(701),r(702),r(703),r(704),r(705),r(706),r(707),r(708),r(709),e.exports=r(53)},function(e,t,r){"use strict";var n=r(6),i=r(45),o=r(20),a=r(0),u=r(41),s=r(80).KEY,c=r(10),f=r(169),l=r(117),d=r(95),p=r(17),h=r(315),v=r(220),g=r(515),y=r(172),m=r(3),b=r(12),_=r(46),w=r(64),S=r(94),k=r(98),x=r(318),E=r(47),T=r(21),O=r(96),P=E.f,C=T.f,M=x.f,j=n.Symbol,R=n.JSON,A=R&&R.stringify,I=p("_hidden"),D=p("toPrimitive"),L={}.propertyIsEnumerable,N=f("symbol-registry"),F=f("symbols"),U=f("op-symbols"),z=Object.prototype,q="function"==typeof j,B=n.QObject,W=!B||!B.prototype||!B.prototype.findChild,G=o&&c(function(){return 7!=k(C({},"a",{get:function(){return C(this,"a",{value:7}).a}})).a})?function(e,t,r){var n=P(z,t);n&&delete z[t],C(e,t,r),n&&e!==z&&C(z,t,n)}:C,V=function(e){var t=F[e]=k(j.prototype);return t._k=e,t},H=q&&"symbol"==typeof j.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof j},J=function(e,t,r){return e===z&&J(U,t,r),m(e),t=w(t,!0),m(r),i(F,t)?(r.enumerable?(i(e,I)&&e[I][t]&&(e[I][t]=!1),r=k(r,{enumerable:S(0,!1)})):(i(e,I)||C(e,I,S(1,{})),e[I][t]=!0),G(e,t,r)):C(e,t,r)},Y=function(e,t){m(e);for(var r,n=g(t=_(t)),i=0,o=n.length;o>i;)J(e,r=n[i++],t[r]);return e},$=function(e){var t=L.call(this,e=w(e,!0));return!(this===z&&i(F,e)&&!i(U,e))&&(!(t||!i(this,e)||!i(F,e)||i(this,I)&&this[I][e])||t)},K=function(e,t){if(e=_(e),t=w(t,!0),e!==z||!i(F,t)||i(U,t)){var r=P(e,t);return!r||!i(F,t)||i(e,I)&&e[I][t]||(r.enumerable=!0),r}},X=function(e){for(var t,r=M(_(e)),n=[],o=0;r.length>o;)i(F,t=r[o++])||t==I||t==s||n.push(t);return n},Z=function(e){for(var t,r=e===z,n=M(r?U:_(e)),o=[],a=0;n.length>a;)!i(F,t=n[a++])||r&&!i(z,t)||o.push(F[t]);return o};q||(u((j=function(){if(this instanceof j)throw TypeError("Symbol is not a constructor!");var e=d(arguments.length>0?arguments[0]:void 0),t=function(r){this===z&&t.call(U,r),i(this,I)&&i(this[I],e)&&(this[I][e]=!1),G(this,e,S(1,r))};return o&&W&&G(z,e,{configurable:!0,set:t}),V(e)}).prototype,"toString",function(){return this._k}),E.f=K,T.f=J,r(99).f=x.f=X,r(137).f=$,r(171).f=Z,o&&!r(81)&&u(z,"propertyIsEnumerable",$,!0),h.f=function(e){return V(p(e))}),a(a.G+a.W+a.F*!q,{Symbol:j});for(var Q="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ee=0;Q.length>ee;)p(Q[ee++]);for(var te=O(p.store),re=0;te.length>re;)v(te[re++]);a(a.S+a.F*!q,"Symbol",{for:function(e){return i(N,e+="")?N[e]:N[e]=j(e)},keyFor:function(e){if(!H(e))throw TypeError(e+" is not a symbol!");for(var t in N)if(N[t]===e)return t},useSetter:function(){W=!0},useSimple:function(){W=!1}}),a(a.S+a.F*!q,"Object",{create:function(e,t){return void 0===t?k(e):Y(k(e),t)},defineProperty:J,defineProperties:Y,getOwnPropertyDescriptor:K,getOwnPropertyNames:X,getOwnPropertySymbols:Z}),R&&a(a.S+a.F*(!q||c(function(){var e=j();return"[null]"!=A([e])||"{}"!=A({a:e})||"{}"!=A(Object(e))})),"JSON",{stringify:function(e){for(var t,r,n=[e],i=1;arguments.length>i;)n.push(arguments[i++]);if(r=t=n[1],(b(t)||void 0!==e)&&!H(e))return y(t)||(t=function(e,t){if("function"==typeof r&&(t=r.call(this,e,t)),!H(t))return t}),n[1]=t,A.apply(R,n)}}),j.prototype[D]||r(40)(j.prototype,D,j.prototype.valueOf),l(j,"Symbol"),l(Math,"Math",!0),l(n.JSON,"JSON",!0)},function(e,t,r){var n=r(96),i=r(171),o=r(137);e.exports=function(e){var t=n(e),r=i.f;if(r)for(var a,u=r(e),s=o.f,c=0;u.length>c;)s.call(e,a=u[c++])&&t.push(a);return t}},function(e,t,r){var n=r(0);n(n.S,"Object",{create:r(98)})},function(e,t,r){var n=r(0);n(n.S+n.F*!r(20),"Object",{defineProperty:r(21).f})},function(e,t,r){var n=r(0);n(n.S+n.F*!r(20),"Object",{defineProperties:r(317)})},function(e,t,r){var n=r(46),i=r(47).f;r(67)("getOwnPropertyDescriptor",function(){return function(e,t){return i(n(e),t)}})},function(e,t,r){var n=r(25),i=r(48);r(67)("getPrototypeOf",function(){return function(e){return i(n(e))}})},function(e,t,r){var n=r(25),i=r(96);r(67)("keys",function(){return function(e){return i(n(e))}})},function(e,t,r){r(67)("getOwnPropertyNames",function(){return r(318).f})},function(e,t,r){var n=r(12),i=r(80).onFreeze;r(67)("freeze",function(e){return function(t){return e&&n(t)?e(i(t)):t}})},function(e,t,r){var n=r(12),i=r(80).onFreeze;r(67)("seal",function(e){return function(t){return e&&n(t)?e(i(t)):t}})},function(e,t,r){var n=r(12),i=r(80).onFreeze;r(67)("preventExtensions",function(e){return function(t){return e&&n(t)?e(i(t)):t}})},function(e,t,r){var n=r(12);r(67)("isFrozen",function(e){return function(t){return!n(t)||!!e&&e(t)}})},function(e,t,r){var n=r(12);r(67)("isSealed",function(e){return function(t){return!n(t)||!!e&&e(t)}})},function(e,t,r){var n=r(12);r(67)("isExtensible",function(e){return function(t){return!!n(t)&&(!e||e(t))}})},function(e,t,r){var n=r(0);n(n.S+n.F,"Object",{assign:r(319)})},function(e,t,r){var n=r(0);n(n.S,"Object",{is:r(531)})},function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},function(e,t,r){var n=r(0);n(n.S,"Object",{setPrototypeOf:r(224).set})},function(e,t,r){"use strict";var n=r(138),i={};i[r(17)("toStringTag")]="z",i+""!="[object z]"&&r(41)(Object.prototype,"toString",function(){return"[object "+n(this)+"]"},!0)},function(e,t,r){var n=r(0);n(n.P,"Function",{bind:r(320)})},function(e,t,r){var n=r(21).f,i=Function.prototype,o=/^\s*function ([^ (]*)/;"name"in i||r(20)&&n(i,"name",{configurable:!0,get:function(){try{return(""+this).match(o)[1]}catch(e){return""}}})},function(e,t,r){"use strict";var n=r(12),i=r(48),o=r(17)("hasInstance"),a=Function.prototype;o in a||r(21).f(a,o,{value:function(e){if("function"!=typeof this||!n(e))return!1;if(!n(this.prototype))return e instanceof this;for(;e=i(e);)if(this.prototype===e)return!0;return!1}})},function(e,t,r){var n=r(0),i=r(322);n(n.G+n.F*(parseInt!=i),{parseInt:i})},function(e,t,r){var n=r(0),i=r(323);n(n.G+n.F*(parseFloat!=i),{parseFloat:i})},function(e,t,r){"use strict";var n=r(6),i=r(45),o=r(55),a=r(226),u=r(64),s=r(10),c=r(99).f,f=r(47).f,l=r(21).f,d=r(118).trim,p=n.Number,h=p,v=p.prototype,g="Number"==o(r(98)(v)),y="trim"in String.prototype,m=function(e){var t=u(e,!1);if("string"==typeof t&&t.length>2){var r,n,i,o=(t=y?t.trim():d(t,3)).charCodeAt(0);if(43===o||45===o){if(88===(r=t.charCodeAt(2))||120===r)return NaN}else if(48===o){switch(t.charCodeAt(1)){case 66:case 98:n=2,i=49;break;case 79:case 111:n=8,i=55;break;default:return+t}for(var a,s=t.slice(2),c=0,f=s.length;c<f;c++)if((a=s.charCodeAt(c))<48||a>i)return NaN;return parseInt(s,n)}}return+t};if(!p(" 0o1")||!p("0b1")||p("+0x1")){p=function(e){var t=arguments.length<1?0:e,r=this;return r instanceof p&&(g?s(function(){v.valueOf.call(r)}):"Number"!=o(r))?a(new h(m(t)),r,p):m(t)};for(var b,_=r(20)?c(h):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),w=0;_.length>w;w++)i(h,b=_[w])&&!i(p,b)&&l(p,b,f(h,b));p.prototype=v,v.constructor=p,r(41)(n,"Number",p)}},function(e,t,r){"use strict";var n=r(0),i=r(66),o=r(324),a=r(227),u=1..toFixed,s=Math.floor,c=[0,0,0,0,0,0],f="Number.toFixed: incorrect invocation!",l=function(e,t){for(var r=-1,n=t;++r<6;)n+=e*c[r],c[r]=n%1e7,n=s(n/1e7)},d=function(e){for(var t=6,r=0;--t>=0;)r+=c[t],c[t]=s(r/e),r=r%e*1e7},p=function(){for(var e=6,t="";--e>=0;)if(""!==t||0===e||0!==c[e]){var r=String(c[e]);t=""===t?r:t+a.call("0",7-r.length)+r}return t},h=function(e,t,r){return 0===t?r:t%2==1?h(e,t-1,r*e):h(e*e,t/2,r)};n(n.P+n.F*(!!u&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!r(10)(function(){u.call({})})),"Number",{toFixed:function(e){var t,r,n,u,s=o(this,f),c=i(e),v="",g="0";if(c<0||c>20)throw RangeError(f);if(s!=s)return"NaN";if(s<=-1e21||s>=1e21)return String(s);if(s<0&&(v="-",s=-s),s>1e-21)if(r=(t=function(e){for(var t=0,r=e;r>=4096;)t+=12,r/=4096;for(;r>=2;)t+=1,r/=2;return t}(s*h(2,69,1))-69)<0?s*h(2,-t,1):s/h(2,t,1),r*=4503599627370496,(t=52-t)>0){for(l(0,r),n=c;n>=7;)l(1e7,0),n-=7;for(l(h(10,n,1),0),n=t-1;n>=23;)d(1<<23),n-=23;d(1<<n),l(1,1),d(2),g=p()}else l(0,r),l(1<<-t,0),g=p()+a.call("0",c);return g=c>0?v+((u=g.length)<=c?"0."+a.call("0",c-u)+g:g.slice(0,u-c)+"."+g.slice(u-c)):v+g}})},function(e,t,r){"use strict";var n=r(0),i=r(10),o=r(324),a=1..toPrecision;n(n.P+n.F*(i(function(){return"1"!==a.call(1,void 0)})||!i(function(){a.call({})})),"Number",{toPrecision:function(e){var t=o(this,"Number#toPrecision: incorrect invocation!");return void 0===e?a.call(t):a.call(t,e)}})},function(e,t,r){var n=r(0);n(n.S,"Number",{EPSILON:Math.pow(2,-52)})},function(e,t,r){var n=r(0),i=r(6).isFinite;n(n.S,"Number",{isFinite:function(e){return"number"==typeof e&&i(e)}})},function(e,t,r){var n=r(0);n(n.S,"Number",{isInteger:r(325)})},function(e,t,r){var n=r(0);n(n.S,"Number",{isNaN:function(e){return e!=e}})},function(e,t,r){var n=r(0),i=r(325),o=Math.abs;n(n.S,"Number",{isSafeInteger:function(e){return i(e)&&o(e)<=9007199254740991}})},function(e,t,r){var n=r(0);n(n.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(e,t,r){var n=r(0);n(n.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},function(e,t,r){var n=r(0),i=r(323);n(n.S+n.F*(Number.parseFloat!=i),"Number",{parseFloat:i})},function(e,t,r){var n=r(0),i=r(322);n(n.S+n.F*(Number.parseInt!=i),"Number",{parseInt:i})},function(e,t,r){var n=r(0),i=r(326),o=Math.sqrt,a=Math.acosh;n(n.S+n.F*!(a&&710==Math.floor(a(Number.MAX_VALUE))&&a(1/0)==1/0),"Math",{acosh:function(e){return(e=+e)<1?NaN:e>94906265.62425156?Math.log(e)+Math.LN2:i(e-1+o(e-1)*o(e+1))}})},function(e,t,r){var n=r(0),i=Math.asinh;n(n.S+n.F*!(i&&1/i(0)>0),"Math",{asinh:function e(t){return isFinite(t=+t)&&0!=t?t<0?-e(-t):Math.log(t+Math.sqrt(t*t+1)):t}})},function(e,t,r){var n=r(0),i=Math.atanh;n(n.S+n.F*!(i&&1/i(-0)<0),"Math",{atanh:function(e){return 0==(e=+e)?e:Math.log((1+e)/(1-e))/2}})},function(e,t,r){var n=r(0),i=r(228);n(n.S,"Math",{cbrt:function(e){return i(e=+e)*Math.pow(Math.abs(e),1/3)}})},function(e,t,r){var n=r(0);n(n.S,"Math",{clz32:function(e){return(e>>>=0)?31-Math.floor(Math.log(e+.5)*Math.LOG2E):32}})},function(e,t,r){var n=r(0),i=Math.exp;n(n.S,"Math",{cosh:function(e){return(i(e=+e)+i(-e))/2}})},function(e,t,r){var n=r(0),i=r(229);n(n.S+n.F*(i!=Math.expm1),"Math",{expm1:i})},function(e,t,r){var n=r(0);n(n.S,"Math",{fround:r(327)})},function(e,t,r){var n=r(0),i=Math.abs;n(n.S,"Math",{hypot:function(e,t){for(var r,n,o=0,a=0,u=arguments.length,s=0;a<u;)s<(r=i(arguments[a++]))?(o=o*(n=s/r)*n+1,s=r):o+=r>0?(n=r/s)*n:r;return s===1/0?1/0:s*Math.sqrt(o)}})},function(e,t,r){var n=r(0),i=Math.imul;n(n.S+n.F*r(10)(function(){return-5!=i(4294967295,5)||2!=i.length}),"Math",{imul:function(e,t){var r=+e,n=+t,i=65535&r,o=65535&n;return 0|i*o+((65535&r>>>16)*o+i*(65535&n>>>16)<<16>>>0)}})},function(e,t,r){var n=r(0);n(n.S,"Math",{log10:function(e){return Math.log(e)*Math.LOG10E}})},function(e,t,r){var n=r(0);n(n.S,"Math",{log1p:r(326)})},function(e,t,r){var n=r(0);n(n.S,"Math",{log2:function(e){return Math.log(e)/Math.LN2}})},function(e,t,r){var n=r(0);n(n.S,"Math",{sign:r(228)})},function(e,t,r){var n=r(0),i=r(229),o=Math.exp;n(n.S+n.F*r(10)(function(){return-2e-17!=!Math.sinh(-2e-17)}),"Math",{sinh:function(e){return Math.abs(e=+e)<1?(i(e)-i(-e))/2:(o(e-1)-o(-e-1))*(Math.E/2)}})},function(e,t,r){var n=r(0),i=r(229),o=Math.exp;n(n.S,"Math",{tanh:function(e){var t=i(e=+e),r=i(-e);return t==1/0?1:r==1/0?-1:(t-r)/(o(e)+o(-e))}})},function(e,t,r){var n=r(0);n(n.S,"Math",{trunc:function(e){return(e>0?Math.floor:Math.ceil)(e)}})},function(e,t,r){var n=r(0),i=r(97),o=String.fromCharCode,a=String.fromCodePoint;n(n.S+n.F*(!!a&&1!=a.length),"String",{fromCodePoint:function(e){for(var t,r=[],n=arguments.length,a=0;n>a;){if(t=+arguments[a++],i(t,1114111)!==t)throw RangeError(t+" is not a valid code point");r.push(t<65536?o(t):o(55296+((t-=65536)>>10),t%1024+56320))}return r.join("")}})},function(e,t,r){var n=r(0),i=r(46),o=r(22);n(n.S,"String",{raw:function(e){for(var t=i(e.raw),r=o(t.length),n=arguments.length,a=[],u=0;r>u;)a.push(String(t[u++])),u<n&&a.push(String(arguments[u]));return a.join("")}})},function(e,t,r){"use strict";r(118)("trim",function(e){return function(){return e(this,3)}})},function(e,t,r){"use strict";var n=r(230)(!0);r(231)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,r=this._i;return r>=t.length?{value:void 0,done:!0}:(e=n(t,r),this._i+=e.length,{value:e,done:!1})})},function(e,t,r){"use strict";var n=r(0),i=r(230)(!1);n(n.P,"String",{codePointAt:function(e){return i(this,e)}})},function(e,t,r){"use strict";var n=r(0),i=r(22),o=r(233),a="".endsWith;n(n.P+n.F*r(234)("endsWith"),"String",{endsWith:function(e){var t=o(this,e,"endsWith"),r=arguments.length>1?arguments[1]:void 0,n=i(t.length),u=void 0===r?n:Math.min(i(r),n),s=String(e);return a?a.call(t,s,u):t.slice(u-s.length,u)===s}})},function(e,t,r){"use strict";var n=r(0),i=r(233);n(n.P+n.F*r(234)("includes"),"String",{includes:function(e){return!!~i(this,e,"includes").indexOf(e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,r){var n=r(0);n(n.P,"String",{repeat:r(227)})},function(e,t,r){"use strict";var n=r(0),i=r(22),o=r(233),a="".startsWith;n(n.P+n.F*r(234)("startsWith"),"String",{startsWith:function(e){var t=o(this,e,"startsWith"),r=i(Math.min(arguments.length>1?arguments[1]:void 0,t.length)),n=String(e);return a?a.call(t,n,r):t.slice(r,r+n.length)===n}})},function(e,t,r){"use strict";r(42)("anchor",function(e){return function(t){return e(this,"a","name",t)}})},function(e,t,r){"use strict";r(42)("big",function(e){return function(){return e(this,"big","","")}})},function(e,t,r){"use strict";r(42)("blink",function(e){return function(){return e(this,"blink","","")}})},function(e,t,r){"use strict";r(42)("bold",function(e){return function(){return e(this,"b","","")}})},function(e,t,r){"use strict";r(42)("fixed",function(e){return function(){return e(this,"tt","","")}})},function(e,t,r){"use strict";r(42)("fontcolor",function(e){return function(t){return e(this,"font","color",t)}})},function(e,t,r){"use strict";r(42)("fontsize",function(e){return function(t){return e(this,"font","size",t)}})},function(e,t,r){"use strict";r(42)("italics",function(e){return function(){return e(this,"i","","")}})},function(e,t,r){"use strict";r(42)("link",function(e){return function(t){return e(this,"a","href",t)}})},function(e,t,r){"use strict";r(42)("small",function(e){return function(){return e(this,"small","","")}})},function(e,t,r){"use strict";r(42)("strike",function(e){return function(){return e(this,"strike","","")}})},function(e,t,r){"use strict";r(42)("sub",function(e){return function(){return e(this,"sub","","")}})},function(e,t,r){"use strict";r(42)("sup",function(e){return function(){return e(this,"sup","","")}})},function(e,t,r){var n=r(0);n(n.S,"Date",{now:function(){return(new Date).getTime()}})},function(e,t,r){"use strict";var n=r(0),i=r(25),o=r(64);n(n.P+n.F*r(10)(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}),"Date",{toJSON:function(e){var t=i(this),r=o(t);return"number"!=typeof r||isFinite(r)?t.toISOString():null}})},function(e,t,r){var n=r(0),i=r(593);n(n.P+n.F*(Date.prototype.toISOString!==i),"Date",{toISOString:i})},function(e,t,r){"use strict";var n=r(10),i=Date.prototype.getTime,o=Date.prototype.toISOString,a=function(e){return e>9?e:"0"+e};e.exports=n(function(){return"0385-07-25T07:06:39.999Z"!=o.call(new Date(-5e13-1))})||!n(function(){o.call(new Date(NaN))})?function(){if(!isFinite(i.call(this)))throw RangeError("Invalid time value");var e=this,t=e.getUTCFullYear(),r=e.getUTCMilliseconds(),n=t<0?"-":t>9999?"+":"";return n+("00000"+Math.abs(t)).slice(n?-6:-4)+"-"+a(e.getUTCMonth()+1)+"-"+a(e.getUTCDate())+"T"+a(e.getUTCHours())+":"+a(e.getUTCMinutes())+":"+a(e.getUTCSeconds())+"."+(r>99?r:"0"+a(r))+"Z"}:o},function(e,t,r){var n=Date.prototype,i=n.toString,o=n.getTime;new Date(NaN)+""!="Invalid Date"&&r(41)(n,"toString",function(){var e=o.call(this);return e==e?i.call(this):"Invalid Date"})},function(e,t,r){var n=r(17)("toPrimitive"),i=Date.prototype;n in i||r(40)(i,n,r(596))},function(e,t,r){"use strict";var n=r(3),i=r(64);e.exports=function(e){if("string"!==e&&"number"!==e&&"default"!==e)throw TypeError("Incorrect hint");return i(n(this),"number"!=e)}},function(e,t,r){var n=r(0);n(n.S,"Array",{isArray:r(172)})},function(e,t,r){"use strict";var n=r(54),i=r(0),o=r(25),a=r(328),u=r(235),s=r(22),c=r(236),f=r(237);i(i.S+i.F*!r(174)(function(e){Array.from(e)}),"Array",{from:function(e){var t,r,i,l,d=o(e),p="function"==typeof this?this:Array,h=arguments.length,v=h>1?arguments[1]:void 0,g=void 0!==v,y=0,m=f(d);if(g&&(v=n(v,h>2?arguments[2]:void 0,2)),void 0==m||p==Array&&u(m))for(r=new p(t=s(d.length));t>y;y++)c(r,y,g?v(d[y],y):d[y]);else for(l=m.call(d),r=new p;!(i=l.next()).done;y++)c(r,y,g?a(l,v,[i.value,y],!0):i.value);return r.length=y,r}})},function(e,t,r){"use strict";var n=r(0),i=r(236);n(n.S+n.F*r(10)(function(){function e(){}return!(Array.of.call(e)instanceof e)}),"Array",{of:function(){for(var e=0,t=arguments.length,r=new("function"==typeof this?this:Array)(t);t>e;)i(r,e,arguments[e++]);return r.length=t,r}})},function(e,t,r){"use strict";var n=r(0),i=r(46),o=[].join;n(n.P+n.F*(r(136)!=Object||!r(56)(o)),"Array",{join:function(e){return o.call(i(this),void 0===e?",":e)}})},function(e,t,r){"use strict";var n=r(0),i=r(223),o=r(55),a=r(97),u=r(22),s=[].slice;n(n.P+n.F*r(10)(function(){i&&s.call(i)}),"Array",{slice:function(e,t){var r=u(this.length),n=o(this);if(t=void 0===t?r:t,"Array"==n)return s.call(this,e,t);for(var i=a(e,r),c=a(t,r),f=u(c-i),l=new Array(f),d=0;d<f;d++)l[d]="String"==n?this.charAt(i+d):this[i+d];return l}})},function(e,t,r){"use strict";var n=r(0),i=r(33),o=r(25),a=r(10),u=[].sort,s=[1,2,3];n(n.P+n.F*(a(function(){s.sort(void 0)})||!a(function(){s.sort(null)})||!r(56)(u)),"Array",{sort:function(e){return void 0===e?u.call(o(this)):u.call(o(this),i(e))}})},function(e,t,r){"use strict";var n=r(0),i=r(68)(0),o=r(56)([].forEach,!0);n(n.P+n.F*!o,"Array",{forEach:function(e){return i(this,e,arguments[1])}})},function(e,t,r){var n=r(12),i=r(172),o=r(17)("species");e.exports=function(e){var t;return i(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!i(t.prototype)||(t=void 0),n(t)&&null===(t=t[o])&&(t=void 0)),void 0===t?Array:t}},function(e,t,r){"use strict";var n=r(0),i=r(68)(1);n(n.P+n.F*!r(56)([].map,!0),"Array",{map:function(e){return i(this,e,arguments[1])}})},function(e,t,r){"use strict";var n=r(0),i=r(68)(2);n(n.P+n.F*!r(56)([].filter,!0),"Array",{filter:function(e){return i(this,e,arguments[1])}})},function(e,t,r){"use strict";var n=r(0),i=r(68)(3);n(n.P+n.F*!r(56)([].some,!0),"Array",{some:function(e){return i(this,e,arguments[1])}})},function(e,t,r){"use strict";var n=r(0),i=r(68)(4);n(n.P+n.F*!r(56)([].every,!0),"Array",{every:function(e){return i(this,e,arguments[1])}})},function(e,t,r){"use strict";var n=r(0),i=r(329);n(n.P+n.F*!r(56)([].reduce,!0),"Array",{reduce:function(e){return i(this,e,arguments.length,arguments[1],!1)}})},function(e,t,r){"use strict";var n=r(0),i=r(329);n(n.P+n.F*!r(56)([].reduceRight,!0),"Array",{reduceRight:function(e){return i(this,e,arguments.length,arguments[1],!0)}})},function(e,t,r){"use strict";var n=r(0),i=r(170)(!1),o=[].indexOf,a=!!o&&1/[1].indexOf(1,-0)<0;n(n.P+n.F*(a||!r(56)(o)),"Array",{indexOf:function(e){return a?o.apply(this,arguments)||0:i(this,e,arguments[1])}})},function(e,t,r){"use strict";var n=r(0),i=r(46),o=r(66),a=r(22),u=[].lastIndexOf,s=!!u&&1/[1].lastIndexOf(1,-0)<0;n(n.P+n.F*(s||!r(56)(u)),"Array",{lastIndexOf:function(e){if(s)return u.apply(this,arguments)||0;var t=i(this),r=a(t.length),n=r-1;for(arguments.length>1&&(n=Math.min(n,o(arguments[1]))),n<0&&(n=r+n);n>=0;n--)if(n in t&&t[n]===e)return n||0;return-1}})},function(e,t,r){var n=r(0);n(n.P,"Array",{copyWithin:r(330)}),r(82)("copyWithin")},function(e,t,r){var n=r(0);n(n.P,"Array",{fill:r(239)}),r(82)("fill")},function(e,t,r){"use strict";var n=r(0),i=r(68)(5),o=!0;"find"in[]&&Array(1).find(function(){o=!1}),n(n.P+n.F*o,"Array",{find:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),r(82)("find")},function(e,t,r){"use strict";var n=r(0),i=r(68)(6),o="findIndex",a=!0;o in[]&&Array(1)[o](function(){a=!1}),n(n.P+n.F*a,"Array",{findIndex:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),r(82)(o)},function(e,t,r){r(100)("Array")},function(e,t,r){var n=r(6),i=r(226),o=r(21).f,a=r(99).f,u=r(173),s=r(175),c=n.RegExp,f=c,l=c.prototype,d=/a/g,p=/a/g,h=new c(d)!==d;if(r(20)&&(!h||r(10)(function(){return p[r(17)("match")]=!1,c(d)!=d||c(p)==p||"/a/i"!=c(d,"i")}))){c=function(e,t){var r=this instanceof c,n=u(e),o=void 0===t;return!r&&n&&e.constructor===c&&o?e:i(h?new f(n&&!o?e.source:e,t):f((n=e instanceof c)?e.source:e,n&&o?s.call(e):t),r?this:l,c)};for(var v=function(e){e in c||o(c,e,{configurable:!0,get:function(){return f[e]},set:function(t){f[e]=t}})},g=a(f),y=0;g.length>y;)v(g[y++]);l.constructor=c,c.prototype=l,r(41)(n,"RegExp",c)}r(100)("RegExp")},function(e,t,r){"use strict";r(332);var n=r(3),i=r(175),o=r(20),a=/./.toString,u=function(e){r(41)(RegExp.prototype,"toString",e,!0)};r(10)(function(){return"/a/b"!=a.call({source:"a",flags:"b"})})?u(function(){var e=n(this);return"/".concat(e.source,"/","flags"in e?e.flags:!o&&e instanceof RegExp?i.call(e):void 0)}):"toString"!=a.name&&u(function(){return a.call(this)})},function(e,t,r){r(176)("match",1,function(e,t,r){return[function(r){"use strict";var n=e(this),i=void 0==r?void 0:r[t];return void 0!==i?i.call(r,n):new RegExp(r)[t](String(n))},r]})},function(e,t,r){r(176)("replace",2,function(e,t,r){return[function(n,i){"use strict";var o=e(this),a=void 0==n?void 0:n[t];return void 0!==a?a.call(n,o,i):r.call(String(o),n,i)},r]})},function(e,t,r){r(176)("search",1,function(e,t,r){return[function(r){"use strict";var n=e(this),i=void 0==r?void 0:r[t];return void 0!==i?i.call(r,n):new RegExp(r)[t](String(n))},r]})},function(e,t,r){r(176)("split",2,function(e,t,n){"use strict";var i=r(173),o=n,a=[].push;if("c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length){var u=void 0===/()??/.exec("")[1];n=function(e,t){var r=String(this);if(void 0===e&&0===t)return[];if(!i(e))return o.call(r,e,t);var n,s,c,f,l,d=[],p=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),h=0,v=void 0===t?4294967295:t>>>0,g=new RegExp(e.source,p+"g");for(u||(n=new RegExp("^"+g.source+"$(?!\\s)",p));(s=g.exec(r))&&!((c=s.index+s[0].length)>h&&(d.push(r.slice(h,s.index)),!u&&s.length>1&&s[0].replace(n,function(){for(l=1;l<arguments.length-2;l++)void 0===arguments[l]&&(s[l]=void 0)}),s.length>1&&s.index<r.length&&a.apply(d,s.slice(1)),f=s[0].length,h=c,d.length>=v));)g.lastIndex===s.index&&g.lastIndex++;return h===r.length?!f&&g.test("")||d.push(""):d.push(r.slice(h)),d.length>v?d.slice(0,v):d}}else"0".split(void 0,0).length&&(n=function(e,t){return void 0===e&&0===t?[]:o.call(this,e,t)});return[function(r,i){var o=e(this),a=void 0==r?void 0:r[t];return void 0!==a?a.call(r,o,i):n.call(String(o),r,i)},n]})},function(e,t,r){"use strict";var n,i,o,a,u=r(81),s=r(6),c=r(54),f=r(138),l=r(0),d=r(12),p=r(33),h=r(101),v=r(102),g=r(177),y=r(241).set,m=r(242)(),b=r(243),_=r(333),w=r(178),S=r(334),k=s.TypeError,x=s.process,E=x&&x.versions,T=E&&E.v8||"",O=s.Promise,P="process"==f(x),C=function(){},M=i=b.f,j=!!function(){try{var e=O.resolve(1),t=(e.constructor={})[r(17)("species")]=function(e){e(C,C)};return(P||"function"==typeof PromiseRejectionEvent)&&e.then(C)instanceof t&&0!==T.indexOf("6.6")&&-1===w.indexOf("Chrome/66")}catch(e){}}(),R=function(e){var t;return!(!d(e)||"function"!=typeof(t=e.then))&&t},A=function(e,t){if(!e._n){e._n=!0;var r=e._c;m(function(){for(var n=e._v,i=1==e._s,o=0,a=function(t){var r,o,a,u=i?t.ok:t.fail,s=t.resolve,c=t.reject,f=t.domain;try{u?(i||(2==e._h&&L(e),e._h=1),!0===u?r=n:(f&&f.enter(),r=u(n),f&&(f.exit(),a=!0)),r===t.promise?c(k("Promise-chain cycle")):(o=R(r))?o.call(r,s,c):s(r)):c(n)}catch(e){f&&!a&&f.exit(),c(e)}};r.length>o;)a(r[o++]);e._c=[],e._n=!1,t&&!e._h&&I(e)})}},I=function(e){y.call(s,function(){var t,r,n,i=e._v,o=D(e);if(o&&(t=_(function(){P?x.emit("unhandledRejection",i,e):(r=s.onunhandledrejection)?r({promise:e,reason:i}):(n=s.console)&&n.error&&n.error("Unhandled promise rejection",i)}),e._h=P||D(e)?2:1),e._a=void 0,o&&t.e)throw t.v})},D=function(e){return 1!==e._h&&0===(e._a||e._c).length},L=function(e){y.call(s,function(){var t;P?x.emit("rejectionHandled",e):(t=s.onrejectionhandled)&&t({promise:e,reason:e._v})})},N=function(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),A(t,!0))},F=function(e){var t,r=this;if(!r._d){r._d=!0,r=r._w||r;try{if(r===e)throw k("Promise can't be resolved itself");(t=R(e))?m(function(){var n={_w:r,_d:!1};try{t.call(e,c(F,n,1),c(N,n,1))}catch(e){N.call(n,e)}}):(r._v=e,r._s=1,A(r,!1))}catch(e){N.call({_w:r,_d:!1},e)}}};j||(O=function(e){h(this,O,"Promise","_h"),p(e),n.call(this);try{e(c(F,this,1),c(N,this,1))}catch(e){N.call(this,e)}},(n=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=r(103)(O.prototype,{then:function(e,t){var r=M(g(this,O));return r.ok="function"!=typeof e||e,r.fail="function"==typeof t&&t,r.domain=P?x.domain:void 0,this._c.push(r),this._a&&this._a.push(r),this._s&&A(this,!1),r.promise},catch:function(e){return this.then(void 0,e)}}),o=function(){var e=new n;this.promise=e,this.resolve=c(F,e,1),this.reject=c(N,e,1)},b.f=M=function(e){return e===O||e===a?new o(e):i(e)}),l(l.G+l.W+l.F*!j,{Promise:O}),r(117)(O,"Promise"),r(100)("Promise"),a=r(53).Promise,l(l.S+l.F*!j,"Promise",{reject:function(e){var t=M(this);return(0,t.reject)(e),t.promise}}),l(l.S+l.F*(u||!j),"Promise",{resolve:function(e){return S(u&&this===a?O:this,e)}}),l(l.S+l.F*!(j&&r(174)(function(e){O.all(e).catch(C)})),"Promise",{all:function(e){var t=this,r=M(t),n=r.resolve,i=r.reject,o=_(function(){var r=[],o=0,a=1;v(e,!1,function(e){var u=o++,s=!1;r.push(void 0),a++,t.resolve(e).then(function(e){s||(s=!0,r[u]=e,--a||n(r))},i)}),--a||n(r)});return o.e&&i(o.v),r.promise},race:function(e){var t=this,r=M(t),n=r.reject,i=_(function(){v(e,!1,function(e){t.resolve(e).then(r.resolve,n)})});return i.e&&n(i.v),r.promise}})},function(e,t,r){"use strict";var n=r(339),i=r(120);r(179)("WeakSet",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{add:function(e){return n.def(i(this,"WeakSet"),e,!0)}},n,!1,!0)},function(e,t,r){"use strict";var n=r(0),i=r(180),o=r(244),a=r(3),u=r(97),s=r(22),c=r(12),f=r(6).ArrayBuffer,l=r(177),d=o.ArrayBuffer,p=o.DataView,h=i.ABV&&f.isView,v=d.prototype.slice,g=i.VIEW;n(n.G+n.W+n.F*(f!==d),{ArrayBuffer:d}),n(n.S+n.F*!i.CONSTR,"ArrayBuffer",{isView:function(e){return h&&h(e)||c(e)&&g in e}}),n(n.P+n.U+n.F*r(10)(function(){return!new d(2).slice(1,void 0).byteLength}),"ArrayBuffer",{slice:function(e,t){if(void 0!==v&&void 0===t)return v.call(a(this),e);for(var r=a(this).byteLength,n=u(e,r),i=u(void 0===t?r:t,r),o=new(l(this,d))(s(i-n)),c=new p(this),f=new p(o),h=0;n<i;)f.setUint8(h++,c.getUint8(n++));return o}}),r(100)("ArrayBuffer")},function(e,t,r){var n=r(0);n(n.G+n.W+n.F*!r(180).ABV,{DataView:r(244).DataView})},function(e,t,r){r(74)("Int8",1,function(e){return function(t,r,n){return e(this,t,r,n)}})},function(e,t,r){r(74)("Uint8",1,function(e){return function(t,r,n){return e(this,t,r,n)}})},function(e,t,r){r(74)("Uint8",1,function(e){return function(t,r,n){return e(this,t,r,n)}},!0)},function(e,t,r){r(74)("Int16",2,function(e){return function(t,r,n){return e(this,t,r,n)}})},function(e,t,r){r(74)("Uint16",2,function(e){return function(t,r,n){return e(this,t,r,n)}})},function(e,t,r){r(74)("Int32",4,function(e){return function(t,r,n){return e(this,t,r,n)}})},function(e,t,r){r(74)("Uint32",4,function(e){return function(t,r,n){return e(this,t,r,n)}})},function(e,t,r){r(74)("Float32",4,function(e){return function(t,r,n){return e(this,t,r,n)}})},function(e,t,r){r(74)("Float64",8,function(e){return function(t,r,n){return e(this,t,r,n)}})},function(e,t,r){var n=r(0),i=r(33),o=r(3),a=(r(6).Reflect||{}).apply,u=Function.apply;n(n.S+n.F*!r(10)(function(){a(function(){})}),"Reflect",{apply:function(e,t,r){var n=i(e),s=o(r);return a?a(n,t,s):u.call(n,t,s)}})},function(e,t,r){var n=r(0),i=r(98),o=r(33),a=r(3),u=r(12),s=r(10),c=r(320),f=(r(6).Reflect||{}).construct,l=s(function(){function e(){}return!(f(function(){},[],e)instanceof e)}),d=!s(function(){f(function(){})});n(n.S+n.F*(l||d),"Reflect",{construct:function(e,t){o(e),a(t);var r=arguments.length<3?e:o(arguments[2]);if(d&&!l)return f(e,t,r);if(e==r){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var n=[null];return n.push.apply(n,t),new(c.apply(e,n))}var s=r.prototype,p=i(u(s)?s:Object.prototype),h=Function.apply.call(e,p,t);return u(h)?h:p}})},function(e,t,r){var n=r(21),i=r(0),o=r(3),a=r(64);i(i.S+i.F*r(10)(function(){Reflect.defineProperty(n.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(e,t,r){o(e),t=a(t,!0),o(r);try{return n.f(e,t,r),!0}catch(e){return!1}}})},function(e,t,r){var n=r(0),i=r(47).f,o=r(3);n(n.S,"Reflect",{deleteProperty:function(e,t){var r=i(o(e),t);return!(r&&!r.configurable)&&delete e[t]}})},function(e,t,r){"use strict";var n=r(0),i=r(3),o=function(e){this._t=i(e),this._i=0;var t,r=this._k=[];for(t in e)r.push(t)};r(232)(o,"Object",function(){var e,t=this._k;do{if(this._i>=t.length)return{value:void 0,done:!0}}while(!((e=t[this._i++])in this._t));return{value:e,done:!1}}),n(n.S,"Reflect",{enumerate:function(e){return new o(e)}})},function(e,t,r){var n=r(47),i=r(48),o=r(45),a=r(0),u=r(12),s=r(3);a(a.S,"Reflect",{get:function e(t,r){var a,c,f=arguments.length<3?t:arguments[2];return s(t)===f?t[r]:(a=n.f(t,r))?o(a,"value")?a.value:void 0!==a.get?a.get.call(f):void 0:u(c=i(t))?e(c,r,f):void 0}})},function(e,t,r){var n=r(47),i=r(0),o=r(3);i(i.S,"Reflect",{getOwnPropertyDescriptor:function(e,t){return n.f(o(e),t)}})},function(e,t,r){var n=r(0),i=r(48),o=r(3);n(n.S,"Reflect",{getPrototypeOf:function(e){return i(o(e))}})},function(e,t,r){var n=r(0);n(n.S,"Reflect",{has:function(e,t){return t in e}})},function(e,t,r){var n=r(0),i=r(3),o=Object.isExtensible;n(n.S,"Reflect",{isExtensible:function(e){return i(e),!o||o(e)}})},function(e,t,r){var n=r(0);n(n.S,"Reflect",{ownKeys:r(341)})},function(e,t,r){var n=r(0),i=r(3),o=Object.preventExtensions;n(n.S,"Reflect",{preventExtensions:function(e){i(e);try{return o&&o(e),!0}catch(e){return!1}}})},function(e,t,r){var n=r(21),i=r(47),o=r(48),a=r(45),u=r(0),s=r(94),c=r(3),f=r(12);u(u.S,"Reflect",{set:function e(t,r,u){var l,d,p=arguments.length<4?t:arguments[3],h=i.f(c(t),r);if(!h){if(f(d=o(t)))return e(d,r,u,p);h=s(0)}if(a(h,"value")){if(!1===h.writable||!f(p))return!1;if(l=i.f(p,r)){if(l.get||l.set||!1===l.writable)return!1;l.value=u,n.f(p,r,l)}else n.f(p,r,s(0,u));return!0}return void 0!==h.set&&(h.set.call(p,u),!0)}})},function(e,t,r){var n=r(0),i=r(224);i&&n(n.S,"Reflect",{setPrototypeOf:function(e,t){i.check(e,t);try{return i.set(e,t),!0}catch(e){return!1}}})},function(e,t,r){"use strict";var n=r(0),i=r(170)(!0);n(n.P,"Array",{includes:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),r(82)("includes")},function(e,t,r){"use strict";var n=r(0),i=r(342),o=r(25),a=r(22),u=r(33),s=r(238);n(n.P,"Array",{flatMap:function(e){var t,r,n=o(this);return u(e),t=a(n.length),r=s(n,0),i(r,n,n,t,0,1,e,arguments[1]),r}}),r(82)("flatMap")},function(e,t,r){"use strict";var n=r(0),i=r(342),o=r(25),a=r(22),u=r(66),s=r(238);n(n.P,"Array",{flatten:function(){var e=arguments[0],t=o(this),r=a(t.length),n=s(t,0);return i(n,t,t,r,0,void 0===e?1:u(e)),n}}),r(82)("flatten")},function(e,t,r){"use strict";var n=r(0),i=r(230)(!0);n(n.P,"String",{at:function(e){return i(this,e)}})},function(e,t,r){"use strict";var n=r(0),i=r(343),o=r(178);n(n.P+n.F*/Version\/10\.\d+(\.\d+)? Safari\//.test(o),"String",{padStart:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0,!0)}})},function(e,t,r){"use strict";var n=r(0),i=r(343),o=r(178);n(n.P+n.F*/Version\/10\.\d+(\.\d+)? Safari\//.test(o),"String",{padEnd:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0,!1)}})},function(e,t,r){"use strict";r(118)("trimLeft",function(e){return function(){return e(this,1)}},"trimStart")},function(e,t,r){"use strict";r(118)("trimRight",function(e){return function(){return e(this,2)}},"trimEnd")},function(e,t,r){"use strict";var n=r(0),i=r(65),o=r(22),a=r(173),u=r(175),s=RegExp.prototype,c=function(e,t){this._r=e,this._s=t};r(232)(c,"RegExp String",function(){var e=this._r.exec(this._s);return{value:e,done:null===e}}),n(n.P,"String",{matchAll:function(e){if(i(this),!a(e))throw TypeError(e+" is not a regexp!");var t=String(this),r="flags"in s?String(e.flags):u.call(e),n=new RegExp(e.source,~r.indexOf("g")?r:"g"+r);return n.lastIndex=o(e.lastIndex),new c(n,t)}})},function(e,t,r){r(220)("asyncIterator")},function(e,t,r){r(220)("observable")},function(e,t,r){var n=r(0),i=r(341),o=r(46),a=r(47),u=r(236);n(n.S,"Object",{getOwnPropertyDescriptors:function(e){for(var t,r,n=o(e),s=a.f,c=i(n),f={},l=0;c.length>l;)void 0!==(r=s(n,t=c[l++]))&&u(f,t,r);return f}})},function(e,t,r){var n=r(0),i=r(344)(!1);n(n.S,"Object",{values:function(e){return i(e)}})},function(e,t,r){var n=r(0),i=r(344)(!0);n(n.S,"Object",{entries:function(e){return i(e)}})},function(e,t,r){"use strict";var n=r(0),i=r(25),o=r(33),a=r(21);r(20)&&n(n.P+r(181),"Object",{__defineGetter__:function(e,t){a.f(i(this),e,{get:o(t),enumerable:!0,configurable:!0})}})},function(e,t,r){"use strict";var n=r(0),i=r(25),o=r(33),a=r(21);r(20)&&n(n.P+r(181),"Object",{__defineSetter__:function(e,t){a.f(i(this),e,{set:o(t),enumerable:!0,configurable:!0})}})},function(e,t,r){"use strict";var n=r(0),i=r(25),o=r(64),a=r(48),u=r(47).f;r(20)&&n(n.P+r(181),"Object",{__lookupGetter__:function(e){var t,r=i(this),n=o(e,!0);do{if(t=u(r,n))return t.get}while(r=a(r))}})},function(e,t,r){"use strict";var n=r(0),i=r(25),o=r(64),a=r(48),u=r(47).f;r(20)&&n(n.P+r(181),"Object",{__lookupSetter__:function(e){var t,r=i(this),n=o(e,!0);do{if(t=u(r,n))return t.set}while(r=a(r))}})},function(e,t,r){var n=r(0);n(n.P+n.R,"Map",{toJSON:r(345)("Map")})},function(e,t,r){var n=r(0);n(n.P+n.R,"Set",{toJSON:r(345)("Set")})},function(e,t,r){r(182)("Map")},function(e,t,r){r(182)("Set")},function(e,t,r){r(182)("WeakMap")},function(e,t,r){r(182)("WeakSet")},function(e,t,r){r(183)("Map")},function(e,t,r){r(183)("Set")},function(e,t,r){r(183)("WeakMap")},function(e,t,r){r(183)("WeakSet")},function(e,t,r){var n=r(0);n(n.G,{global:r(6)})},function(e,t,r){var n=r(0);n(n.S,"System",{global:r(6)})},function(e,t,r){var n=r(0),i=r(55);n(n.S,"Error",{isError:function(e){return"Error"===i(e)}})},function(e,t,r){var n=r(0);n(n.S,"Math",{clamp:function(e,t,r){return Math.min(r,Math.max(t,e))}})},function(e,t,r){var n=r(0);n(n.S,"Math",{DEG_PER_RAD:Math.PI/180})},function(e,t,r){var n=r(0),i=180/Math.PI;n(n.S,"Math",{degrees:function(e){return e*i}})},function(e,t,r){var n=r(0),i=r(347),o=r(327);n(n.S,"Math",{fscale:function(e,t,r,n,a){return o(i(e,t,r,n,a))}})},function(e,t,r){var n=r(0);n(n.S,"Math",{iaddh:function(e,t,r,n){var i=e>>>0,o=r>>>0;return(t>>>0)+(n>>>0)+((i&o|(i|o)&~(i+o>>>0))>>>31)|0}})},function(e,t,r){var n=r(0);n(n.S,"Math",{isubh:function(e,t,r,n){var i=e>>>0,o=r>>>0;return(t>>>0)-(n>>>0)-((~i&o|~(i^o)&i-o>>>0)>>>31)|0}})},function(e,t,r){var n=r(0);n(n.S,"Math",{imulh:function(e,t){var r=+e,n=+t,i=65535&r,o=65535&n,a=r>>16,u=n>>16,s=(a*o>>>0)+(i*o>>>16);return a*u+(s>>16)+((i*u>>>0)+(65535&s)>>16)}})},function(e,t,r){var n=r(0);n(n.S,"Math",{RAD_PER_DEG:180/Math.PI})},function(e,t,r){var n=r(0),i=Math.PI/180;n(n.S,"Math",{radians:function(e){return e*i}})},function(e,t,r){var n=r(0);n(n.S,"Math",{scale:r(347)})},function(e,t,r){var n=r(0);n(n.S,"Math",{umulh:function(e,t){var r=+e,n=+t,i=65535&r,o=65535&n,a=r>>>16,u=n>>>16,s=(a*o>>>0)+(i*o>>>16);return a*u+(s>>>16)+((i*u>>>0)+(65535&s)>>>16)}})},function(e,t,r){var n=r(0);n(n.S,"Math",{signbit:function(e){return(e=+e)!=e?e:0==e?1/e==1/0:e>0}})},function(e,t,r){"use strict";var n=r(0),i=r(53),o=r(6),a=r(177),u=r(334);n(n.P+n.R,"Promise",{finally:function(e){var t=a(this,i.Promise||o.Promise),r="function"==typeof e;return this.then(r?function(r){return u(t,e()).then(function(){return r})}:e,r?function(r){return u(t,e()).then(function(){throw r})}:e)}})},function(e,t,r){"use strict";var n=r(0),i=r(243),o=r(333);n(n.S,"Promise",{try:function(e){var t=i.f(this),r=o(e);return(r.e?t.reject:t.resolve)(r.v),t.promise}})},function(e,t,r){var n=r(75),i=r(3),o=n.key,a=n.set;n.exp({defineMetadata:function(e,t,r,n){a(e,t,i(r),o(n))}})},function(e,t,r){var n=r(75),i=r(3),o=n.key,a=n.map,u=n.store;n.exp({deleteMetadata:function(e,t){var r=arguments.length<3?void 0:o(arguments[2]),n=a(i(t),r,!1);if(void 0===n||!n.delete(e))return!1;if(n.size)return!0;var s=u.get(t);return s.delete(r),!!s.size||u.delete(t)}})},function(e,t,r){var n=r(75),i=r(3),o=r(48),a=n.has,u=n.get,s=n.key,c=function(e,t,r){if(a(e,t,r))return u(e,t,r);var n=o(t);return null!==n?c(e,n,r):void 0};n.exp({getMetadata:function(e,t){return c(e,i(t),arguments.length<3?void 0:s(arguments[2]))}})},function(e,t,r){var n=r(337),i=r(346),o=r(75),a=r(3),u=r(48),s=o.keys,c=o.key,f=function(e,t){var r=s(e,t),o=u(e);if(null===o)return r;var a=f(o,t);return a.length?r.length?i(new n(r.concat(a))):a:r};o.exp({getMetadataKeys:function(e){return f(a(e),arguments.length<2?void 0:c(arguments[1]))}})},function(e,t,r){var n=r(75),i=r(3),o=n.get,a=n.key;n.exp({getOwnMetadata:function(e,t){return o(e,i(t),arguments.length<3?void 0:a(arguments[2]))}})},function(e,t,r){var n=r(75),i=r(3),o=n.keys,a=n.key;n.exp({getOwnMetadataKeys:function(e){return o(i(e),arguments.length<2?void 0:a(arguments[1]))}})},function(e,t,r){var n=r(75),i=r(3),o=r(48),a=n.has,u=n.key,s=function(e,t,r){if(a(e,t,r))return!0;var n=o(t);return null!==n&&s(e,n,r)};n.exp({hasMetadata:function(e,t){return s(e,i(t),arguments.length<3?void 0:u(arguments[2]))}})},function(e,t,r){var n=r(75),i=r(3),o=n.has,a=n.key;n.exp({hasOwnMetadata:function(e,t){return o(e,i(t),arguments.length<3?void 0:a(arguments[2]))}})},function(e,t,r){var n=r(75),i=r(3),o=r(33),a=n.key,u=n.set;n.exp({metadata:function(e,t){return function(r,n){u(e,t,(void 0!==n?i:o)(r),a(n))}}})},function(e,t,r){var n=r(0),i=r(242)(),o=r(6).process,a="process"==r(55)(o);n(n.G,{asap:function(e){var t=a&&o.domain;i(t?t.bind(e):e)}})},function(e,t,r){"use strict";var n=r(0),i=r(6),o=r(53),a=r(242)(),u=r(17)("observable"),s=r(33),c=r(3),f=r(101),l=r(103),d=r(40),p=r(102),h=p.RETURN,v=function(e){return null==e?void 0:s(e)},g=function(e){var t=e._c;t&&(e._c=void 0,t())},y=function(e){return void 0===e._o},m=function(e){y(e)||(e._o=void 0,g(e))},b=function(e,t){c(e),this._c=void 0,this._o=e,e=new _(this);try{var r=t(e),n=r;null!=r&&("function"==typeof r.unsubscribe?r=function(){n.unsubscribe()}:s(r),this._c=r)}catch(t){return void e.error(t)}y(this)&&g(this)};b.prototype=l({},{unsubscribe:function(){m(this)}});var _=function(e){this._s=e};_.prototype=l({},{next:function(e){var t=this._s;if(!y(t)){var r=t._o;try{var n=v(r.next);if(n)return n.call(r,e)}catch(e){try{m(t)}finally{throw e}}}},error:function(e){var t=this._s;if(y(t))throw e;var r=t._o;t._o=void 0;try{var n=v(r.error);if(!n)throw e;e=n.call(r,e)}catch(e){try{g(t)}finally{throw e}}return g(t),e},complete:function(e){var t=this._s;if(!y(t)){var r=t._o;t._o=void 0;try{var n=v(r.complete);e=n?n.call(r,e):void 0}catch(e){try{g(t)}finally{throw e}}return g(t),e}}});var w=function(e){f(this,w,"Observable","_f")._f=s(e)};l(w.prototype,{subscribe:function(e){return new b(e,this._f)},forEach:function(e){var t=this;return new(o.Promise||i.Promise)(function(r,n){s(e);var i=t.subscribe({next:function(t){try{return e(t)}catch(e){n(e),i.unsubscribe()}},error:n,complete:r})})}}),l(w,{from:function(e){var t="function"==typeof this?this:w,r=v(c(e)[u]);if(r){var n=c(r.call(e));return n.constructor===t?n:new t(function(e){return n.subscribe(e)})}return new t(function(t){var r=!1;return a(function(){if(!r){try{if(p(e,!1,function(e){if(t.next(e),r)return h})===h)return}catch(e){if(r)throw e;return void t.error(e)}t.complete()}}),function(){r=!0}})},of:function(){for(var e=0,t=arguments.length,r=new Array(t);e<t;)r[e]=arguments[e++];return new("function"==typeof this?this:w)(function(e){var t=!1;return a(function(){if(!t){for(var n=0;n<r.length;++n)if(e.next(r[n]),t)return;e.complete()}}),function(){t=!0}})}}),d(w.prototype,u,function(){return this}),n(n.G,{Observable:w}),r(100)("Observable")},function(e,t,r){var n=r(6),i=r(0),o=r(178),a=[].slice,u=/MSIE .\./.test(o),s=function(e){return function(t,r){var n=arguments.length>2,i=!!n&&a.call(arguments,2);return e(n?function(){("function"==typeof t?t:Function(t)).apply(this,i)}:t,r)}};i(i.G+i.B+i.F*u,{setTimeout:s(n.setTimeout),setInterval:s(n.setInterval)})},function(e,t,r){var n=r(0),i=r(241);n(n.G+n.B,{setImmediate:i.set,clearImmediate:i.clear})},function(e,t,r){for(var n=r(240),i=r(96),o=r(41),a=r(6),u=r(40),s=r(119),c=r(17),f=c("iterator"),l=c("toStringTag"),d=s.Array,p={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},h=i(p),v=0;v<h.length;v++){var g,y=h[v],m=p[y],b=a[y],_=b&&b.prototype;if(_&&(_[f]||u(_,f,d),_[l]||u(_,l,y),s[y]=d,m))for(g in n)_[g]||o(_,g,n[g],!0)}},function(e,t,r){(function(t){!function(t){"use strict";var r,n=Object.prototype,i=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag",c="object"==typeof e,f=t.regeneratorRuntime;if(f)c&&(e.exports=f);else{(f=t.regeneratorRuntime=c?e.exports:{}).wrap=_;var l="suspendedStart",d="suspendedYield",p="executing",h="completed",v={},g={};g[a]=function(){return this};var y=Object.getPrototypeOf,m=y&&y(y(j([])));m&&m!==n&&i.call(m,a)&&(g=m);var b=x.prototype=S.prototype=Object.create(g);k.prototype=b.constructor=x,x.constructor=k,x[s]=k.displayName="GeneratorFunction",f.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===k||"GeneratorFunction"===(t.displayName||t.name))},f.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,x):(e.__proto__=x,s in e||(e[s]="GeneratorFunction")),e.prototype=Object.create(b),e},f.awrap=function(e){return{__await:e}},E(T.prototype),T.prototype[u]=function(){return this},f.AsyncIterator=T,f.async=function(e,t,r,n){var i=new T(_(e,t,r,n));return f.isGeneratorFunction(t)?i:i.next().then(function(e){return e.done?e.value:i.next()})},E(b),b[s]="Generator",b[a]=function(){return this},b.toString=function(){return"[object Generator]"},f.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},f.values=j,M.prototype={constructor:M,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&i.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=r)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,i){return u.type="throw",u.arg=e,t.next=n,i&&(t.method="next",t.arg=r),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],u=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var s=i.call(a,"catchLoc"),c=i.call(a,"finallyLoc");if(s&&c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&i.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),C(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var i=n.arg;C(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:j(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=r),v}}}function _(e,t,r,n){var i=t&&t.prototype instanceof S?t:S,o=Object.create(i.prototype),a=new M(n||[]);return o._invoke=function(e,t,r){var n=l;return function(i,o){if(n===p)throw new Error("Generator is already running");if(n===h){if("throw"===i)throw o;return R()}for(r.method=i,r.arg=o;;){var a=r.delegate;if(a){var u=O(a,r);if(u){if(u===v)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===l)throw n=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=p;var s=w(e,t,r);if("normal"===s.type){if(n=r.done?h:d,s.arg===v)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n=h,r.method="throw",r.arg=s.arg)}}}(e,r,a),o}function w(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}function S(){}function k(){}function x(){}function E(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function T(e){function r(t,n,o,a){var u=w(e[t],e,n);if("throw"!==u.type){var s=u.arg,c=s.value;return c&&"object"==typeof c&&i.call(c,"__await")?Promise.resolve(c.__await).then(function(e){r("next",e,o,a)},function(e){r("throw",e,o,a)}):Promise.resolve(c).then(function(e){s.value=e,o(s)},a)}a(u.arg)}var n;"object"==typeof t.process&&t.process.domain&&(r=t.process.domain.bind(r)),this._invoke=function(e,t){function i(){return new Promise(function(n,i){r(e,t,n,i)})}return n=n?n.then(i,i):i()}}function O(e,t){var n=e.iterator[t.method];if(n===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=r,O(e,t),"throw"===t.method))return v;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=w(n,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,v;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=r),t.delegate=null,v):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,v)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function M(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function j(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(i.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=r,t.done=!0,t};return o.next=o}}return{next:R}}function R(){return{value:r,done:!0}}}("object"==typeof t?t:"object"==typeof window?window:"object"==typeof self?self:this)}).call(this,r(32))},function(e,t,r){r(712),e.exports=r(53).RegExp.escape},function(e,t,r){var n=r(0),i=r(713)(/[\\^$*+?.()|[\]{}]/g,"\\$&");n(n.S,"RegExp",{escape:function(e){return i(e)}})},function(e,t){e.exports=function(e,t){var r=t===Object(t)?function(e){return t[e]}:t;return function(t){return String(t).replace(e,r)}}},function(e,t,r){"use strict";
/*!
 * Copyright (c) 2015-2017 Cisco Systems, Inc. See LICENSE file.
 */r(715),r(974),r(167),r(1150),r(1156),r(1158),r(509),r(1160),r(1162),r(1164),r(1166);var n=r(214),i=r(2).default,o=r(1168),a=i.extend({ciscospark:!0,version:"1.43.5"});a.version="1.43.5",a.init=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.config=n({},o,e.config),new a(e)},e.exports=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(716);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return function(e){return e&&e.__esModule?e:{default:e}}(n).default}}),Object.defineProperty(t,"config",{enumerable:!0,get:function(){return n.config}})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.config=t.default=void 0;var n=r(717);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return s(n).default}});var i=r(956);Object.defineProperty(t,"config",{enumerable:!0,get:function(){return s(i).default}}),r(167);var o=r(2),a=s(n),u=s(i);function s(e){return e&&e.__esModule?e:{default:e}}
/*!
 * Copyright (c) 2015-2017 Cisco Systems, Inc. See LICENSE file.
 */(0,o.registerPlugin)("authorization",a.default,{config:u.default,proxies:["isAuthorizing","isAuthenticating"]})},function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n,i,o,a=_(r(49)),u=_(r(30)),s=_(r(1)),c=_(r(43)),f=_(r(24)),l=_(r(106)),d=_(r(107)),p=_(r(205)),h=_(r(155)),v=_(r(270)),g=_(r(156)),y=r(13),m=r(2),b=_(r(166));function _(e){return e&&e.__esModule?e:{default:e}}function w(e,t,r,n,i){var o={};return Object.keys(n).forEach(function(e){o[e]=n[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var S=y.base64.encode((0,l.default)({})),k=m.SparkPlugin.extend((n=(0,y.whileInFlight)("isAuthorizing"),i=(0,y.whileInFlight)("isAuthorizing"),w(o={derived:{isAuthenticating:{deps:["isAuthorizing"],fn:function(){return this.isAuthorizing}}},session:{isAuthorizing:{default:!1,type:"boolean"},ready:{default:!1,type:"boolean"}},namespace:"Credentials",initialize:function(t,r){var n=this,i=(0,f.default)(m.SparkPlugin.prototype.initialize,this,[t,r]);if(!1===t.parse)return this.ready=!0,i;var o=g.default.parse(this.spark.getWindow().location.href,!0);this._checkForErrors(o);var a=o.hash;if(!a)return this.ready=!0,i;a.includes("#")&&(a=a.substr(1)),o.hash=v.default.parse(a),o.hash.state&&(o.hash.state=JSON.parse(y.base64.decode(o.hash.state)));var u=this._parseHash(o);return u?(this._cleanUrl(o),e.nextTick(function(){n.spark.credentials.set({supertoken:u}),n.ready=!0}),i):i},initiateLogin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.state=e.state||{},e.state.csrf_token=this._generateSecurityToken(),"confidential"===this.config.clientType?this.initiateAuthorizationCodeGrant(e):this.initiateImplicitGrant(e)},initiateImplicitGrant:function(e){return this.logger.info("authorization: initiating implicit grant flow"),this.spark.getWindow().location=this.spark.credentials.buildLoginUrl((0,c.default)({response_type:"token"},e)),s.default.resolve()},initiateAuthorizationCodeGrant:function(e){return this.logger.info("authorization: initiating authorization code grant flow"),this.spark.getWindow().location=this.spark.credentials.buildLoginUrl((0,c.default)({response_type:"code"},e)),s.default.resolve()},requestAccessTokenFromJwt:function(e){var t=this,r=e.jwt;return this.spark.request({method:"POST",service:"hydra",resource:"jwt/login",headers:{authorization:r}}).then(function(e){var t=e.body;return{access_token:t.token,token_type:"Bearer",expires_in:t.expiresIn}}).then(function(e){t.spark.credentials.set({supertoken:e})})},logout:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.noRedirect||(this.spark.getWindow().location=this.spark.credentials.buildLogoutUrl(e))},_checkForErrors:function(e){var t=e.query;if(t&&t.error)throw new(m.grantErrors.select(t.error))(t)},_cleanUrl:function(e){e=(0,h.default)(e),this.spark.getWindow().history&&this.spark.getWindow().history.replaceState&&(["access_token","token_type","expires_in","refresh_token","refresh_token_expires_in"].forEach(function(t){return(0,u.default)(e.hash,t)}),(0,p.default)(e.hash.state)?(0,u.default)(e.hash,"state"):(e.hash.state=y.base64.encode((0,l.default)((0,d.default)(e.hash.state,"csrf_token"))),e.hash.state===S&&(0,u.default)(e.hash,"state")),e.hash=v.default.stringify(e.hash),this.spark.getWindow().history.replaceState({},null,g.default.format(e)))},_generateSecurityToken:function(){this.logger.info("authorization: generating csrf token");var e=b.default.v4();return this.spark.getWindow().sessionStorage.setItem("oauth2-csrf-token",e),e},_parseHash:function(e){var t=(0,h.default)(e.hash);if(t&&this._verifySecurityToken(t),t.access_token)return t.expires_in&&(t.expires_in=parseInt(t.expires_in,10)),t.refresh_token_expires_in&&(t.refresh_token_expires_in=parseInt(t.refresh_token_expires_in,10)),t;this.ready=!0},_verifySecurityToken:function(e){var t=this.spark.getWindow().sessionStorage.getItem("oauth2-csrf-token");if(this.spark.getWindow().sessionStorage.removeItem("oauth2-csrf-token"),t){if(!e.state)throw new Error("Expected CSRF token "+t+", but not found in redirect hash");if(!e.state.csrf_token)throw new Error("Expected CSRF token "+t+", but not found in redirect hash");var r=e.state.csrf_token;if(r!==t)throw new Error("CSRF token "+r+" does not match stored token "+t)}},version:"1.43.5"},"initiateImplicitGrant",[n],(0,a.default)(o,"initiateImplicitGrant"),o),w(o,"initiateAuthorizationCodeGrant",[i],(0,a.default)(o,"initiateAuthorizationCodeGrant"),o),w(o,"requestAccessTokenFromJwt",[y.oneFlight],(0,a.default)(o,"requestAccessTokenFromJwt"),o),o));t.default=k}).call(this,r(23))},function(e,t,r){r(719);var n=r(7).Object;e.exports=function(e,t){return n.getOwnPropertyDescriptor(e,t)}},function(e,t,r){var n=r(83),i=r(140).f;r(248)("getOwnPropertyDescriptor",function(){return function(e,t){return i(n(e),t)}})},function(e,t,r){r(721),e.exports=r(7).Reflect.deleteProperty},function(e,t,r){var n=r(18),i=r(140).f,o=r(29);n(n.S,"Reflect",{deleteProperty:function(e,t){var r=i(o(e),t);return!(r&&!r.configurable)&&delete e[t]}})},function(e,t,r){r(143),r(104),r(105),r(729),r(732),r(733),e.exports=r(7).Promise},function(e,t,r){var n=r(249),i=r(246);e.exports=function(e){return function(t,r){var o,a,u=String(i(t)),s=n(r),c=u.length;return s<0||s>=c?e?"":void 0:(o=u.charCodeAt(s))<55296||o>56319||s+1===c||(a=u.charCodeAt(s+1))<56320||a>57343?e?u.charAt(s):o:e?u.slice(s,s+2):a-56320+(o-55296<<10)+65536}}},function(e,t,r){"use strict";var n=r(145),i=r(142),o=r(146),a={};r(86)(a,r(35)("iterator"),function(){return this}),e.exports=function(e,t,r){e.prototype=n(a,{next:i(1,r)}),o(e,t+" Iterator")}},function(e,t,r){var n=r(83),i=r(185),o=r(726);e.exports=function(e){return function(t,r,a){var u,s=n(t),c=i(s.length),f=o(a,c);if(e&&r!=r){for(;c>f;)if((u=s[f++])!=u)return!0}else for(;c>f;f++)if((e||f in s)&&s[f]===r)return e||f||0;return!e&&-1}}},function(e,t,r){var n=r(249),i=Math.max,o=Math.min;e.exports=function(e,t){return(e=n(e))<0?i(e+t,0):o(e,t)}},function(e,t,r){"use strict";var n=r(728),i=r(353),o=r(121),a=r(83);e.exports=r(250)(Array,"Array",function(e,t){this._t=a(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,r=this._i++;return!e||r>=e.length?(this._t=void 0,i(1)):i(0,"keys"==t?r:"values"==t?e[r]:[r,e[r]])},"values"),o.Arguments=o.Array,n("keys"),n("values"),n("entries")},function(e,t){e.exports=function(){}},function(e,t,r){"use strict";var n,i,o,a,u=r(144),s=r(27),c=r(76),f=r(187),l=r(18),d=r(34),p=r(85),h=r(188),v=r(124),g=r(356),y=r(357).set,m=r(730)(),b=r(256),_=r(359),w=r(731),S=r(360),k=s.TypeError,x=s.process,E=x&&x.versions,T=E&&E.v8||"",O=s.Promise,P="process"==f(x),C=function(){},M=i=b.f,j=!!function(){try{var e=O.resolve(1),t=(e.constructor={})[r(35)("species")]=function(e){e(C,C)};return(P||"function"==typeof PromiseRejectionEvent)&&e.then(C)instanceof t&&0!==T.indexOf("6.6")&&-1===w.indexOf("Chrome/66")}catch(e){}}(),R=function(e){var t;return!(!d(e)||"function"!=typeof(t=e.then))&&t},A=function(e,t){if(!e._n){e._n=!0;var r=e._c;m(function(){for(var n=e._v,i=1==e._s,o=0,a=function(t){var r,o,a,u=i?t.ok:t.fail,s=t.resolve,c=t.reject,f=t.domain;try{u?(i||(2==e._h&&L(e),e._h=1),!0===u?r=n:(f&&f.enter(),r=u(n),f&&(f.exit(),a=!0)),r===t.promise?c(k("Promise-chain cycle")):(o=R(r))?o.call(r,s,c):s(r)):c(n)}catch(e){f&&!a&&f.exit(),c(e)}};r.length>o;)a(r[o++]);e._c=[],e._n=!1,t&&!e._h&&I(e)})}},I=function(e){y.call(s,function(){var t,r,n,i=e._v,o=D(e);if(o&&(t=_(function(){P?x.emit("unhandledRejection",i,e):(r=s.onunhandledrejection)?r({promise:e,reason:i}):(n=s.console)&&n.error&&n.error("Unhandled promise rejection",i)}),e._h=P||D(e)?2:1),e._a=void 0,o&&t.e)throw t.v})},D=function(e){return 1!==e._h&&0===(e._a||e._c).length},L=function(e){y.call(s,function(){var t;P?x.emit("rejectionHandled",e):(t=s.onrejectionhandled)&&t({promise:e,reason:e._v})})},N=function(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),A(t,!0))},F=function(e){var t,r=this;if(!r._d){r._d=!0,r=r._w||r;try{if(r===e)throw k("Promise can't be resolved itself");(t=R(e))?m(function(){var n={_w:r,_d:!1};try{t.call(e,c(F,n,1),c(N,n,1))}catch(e){N.call(n,e)}}):(r._v=e,r._s=1,A(r,!1))}catch(e){N.call({_w:r,_d:!1},e)}}};j||(O=function(e){h(this,O,"Promise","_h"),p(e),n.call(this);try{e(c(F,this,1),c(N,this,1))}catch(e){N.call(this,e)}},(n=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=r(189)(O.prototype,{then:function(e,t){var r=M(g(this,O));return r.ok="function"!=typeof e||e,r.fail="function"==typeof t&&t,r.domain=P?x.domain:void 0,this._c.push(r),this._a&&this._a.push(r),this._s&&A(this,!1),r.promise},catch:function(e){return this.then(void 0,e)}}),o=function(){var e=new n;this.promise=e,this.resolve=c(F,e,1),this.reject=c(N,e,1)},b.f=M=function(e){return e===O||e===a?new o(e):i(e)}),l(l.G+l.W+l.F*!j,{Promise:O}),r(146)(O,"Promise"),r(361)("Promise"),a=r(7).Promise,l(l.S+l.F*!j,"Promise",{reject:function(e){var t=M(this);return(0,t.reject)(e),t.promise}}),l(l.S+l.F*(u||!j),"Promise",{resolve:function(e){return S(u&&this===a?O:this,e)}}),l(l.S+l.F*!(j&&r(362)(function(e){O.all(e).catch(C)})),"Promise",{all:function(e){var t=this,r=M(t),n=r.resolve,i=r.reject,o=_(function(){var r=[],o=0,a=1;v(e,!1,function(e){var u=o++,s=!1;r.push(void 0),a++,t.resolve(e).then(function(e){s||(s=!0,r[u]=e,--a||n(r))},i)}),--a||n(r)});return o.e&&i(o.v),r.promise},race:function(e){var t=this,r=M(t),n=r.reject,i=_(function(){v(e,!1,function(e){t.resolve(e).then(r.resolve,n)})});return i.e&&n(i.v),r.promise}})},function(e,t,r){var n=r(27),i=r(357).set,o=n.MutationObserver||n.WebKitMutationObserver,a=n.process,u=n.Promise,s="process"==r(139)(a);e.exports=function(){var e,t,r,c=function(){var n,i;for(s&&(n=a.domain)&&n.exit();e;){i=e.fn,e=e.next;try{i()}catch(n){throw e?r():t=void 0,n}}t=void 0,n&&n.enter()};if(s)r=function(){a.nextTick(c)};else if(!o||n.navigator&&n.navigator.standalone)if(u&&u.resolve){var f=u.resolve(void 0);r=function(){f.then(c)}}else r=function(){i.call(n,c)};else{var l=!0,d=document.createTextNode("");new o(c).observe(d,{characterData:!0}),r=function(){d.data=l=!l}}return function(n){var i={fn:n,next:void 0};t&&(t.next=i),e||(e=i,r()),t=i}}},function(e,t,r){var n=r(27).navigator;e.exports=n&&n.userAgent||""},function(e,t,r){"use strict";var n=r(18),i=r(7),o=r(27),a=r(356),u=r(360);n(n.P+n.R,"Promise",{finally:function(e){var t=a(this,i.Promise||o.Promise),r="function"==typeof e;return this.then(r?function(r){return u(t,e()).then(function(){return r})}:e,r?function(r){return u(t,e()).then(function(){throw r})}:e)}})},function(e,t,r){"use strict";var n=r(18),i=r(256),o=r(359);n(n.S,"Promise",{try:function(e){var t=i.f(this),r=o(e);return(r.e?t.reject:t.resolve)(r.v),t.promise}})},function(e,t,r){r(735),e.exports=r(7).Object.assign},function(e,t,r){var n=r(18);n(n.S+n.F,"Object",{assign:r(363)})},function(e,t,r){r(737),e.exports=r(7).Reflect.apply},function(e,t,r){var n=r(18),i=r(85),o=r(29),a=(r(27).Reflect||{}).apply,u=Function.apply;n(n.S+n.F*!r(58)(function(){a(function(){})}),"Reflect",{apply:function(e,t,r){var n=i(e),s=o(r);return a?a(n,t,s):u.call(n,t,s)}})},function(e,t,r){var n=r(7),i=n.JSON||(n.JSON={stringify:JSON.stringify});e.exports=function(e){return i.stringify.apply(i,arguments)}},function(e,t){e.exports=function(){this.__data__=[],this.size=0}},function(e,t,r){var n=r(192),i=Array.prototype.splice;e.exports=function(e){var t=this.__data__,r=n(t,e);return!(r<0||(r==t.length-1?t.pop():i.call(t,r,1),--this.size,0))}},function(e,t,r){var n=r(192);e.exports=function(e){var t=this.__data__,r=n(t,e);return r<0?void 0:t[r][1]}},function(e,t,r){var n=r(192);e.exports=function(e){return n(this.__data__,e)>-1}},function(e,t,r){var n=r(192);e.exports=function(e,t){var r=this.__data__,i=n(r,e);return i<0?(++this.size,r.push([e,t])):r[i][1]=t,this}},function(e,t,r){var n=r(191);e.exports=function(){this.__data__=new n,this.size=0}},function(e,t){e.exports=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}},function(e,t){e.exports=function(e){return this.__data__.get(e)}},function(e,t){e.exports=function(e){return this.__data__.has(e)}},function(e,t,r){var n=r(191),i=r(259),o=r(260),a=200;e.exports=function(e,t){var r=this.__data__;if(r instanceof n){var u=r.__data__;if(!i||u.length<a-1)return u.push([e,t]),this.size=++r.size,this;r=this.__data__=new o(u)}return r.set(e,t),this.size=r.size,this}},function(e,t,r){var n=r(36),i=r(752),o=r(19),a=r(365),u=/^\[object .+?Constructor\]$/,s=Function.prototype,c=Object.prototype,f=s.toString,l=c.hasOwnProperty,d=RegExp("^"+f.call(l).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!o(e)||i(e))&&(n(e)?d:u).test(a(e))}},function(e,t,r){var n=r(126),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,u=n?n.toStringTag:void 0;e.exports=function(e){var t=o.call(e,u),r=e[u];try{e[u]=void 0;var n=!0}catch(e){}var i=a.call(e);return n&&(t?e[u]=r:delete e[u]),i}},function(e,t){var r=Object.prototype.toString;e.exports=function(e){return r.call(e)}},function(e,t,r){var n=r(753),i=function(){var e=/[^.]+$/.exec(n&&n.keys&&n.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=function(e){return!!i&&i in e}},function(e,t,r){var n=r(37)["__core-js_shared__"];e.exports=n},function(e,t){e.exports=function(e,t){return null==e?void 0:e[t]}},function(e,t,r){var n=r(756),i=r(191),o=r(259);e.exports=function(){this.size=0,this.__data__={hash:new n,map:new(o||i),string:new n}}},function(e,t,r){var n=r(757),i=r(758),o=r(759),a=r(760),u=r(761);function s(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}s.prototype.clear=n,s.prototype.delete=i,s.prototype.get=o,s.prototype.has=a,s.prototype.set=u,e.exports=s},function(e,t,r){var n=r(193);e.exports=function(){this.__data__=n?n(null):{},this.size=0}},function(e,t){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},function(e,t,r){var n=r(193),i="__lodash_hash_undefined__",o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(n){var r=t[e];return r===i?void 0:r}return o.call(t,e)?t[e]:void 0}},function(e,t,r){var n=r(193),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return n?void 0!==t[e]:i.call(t,e)}},function(e,t,r){var n=r(193),i="__lodash_hash_undefined__";e.exports=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=n&&void 0===t?i:t,this}},function(e,t,r){var n=r(194);e.exports=function(e){var t=n(this,e).delete(e);return this.size-=t?1:0,t}},function(e,t){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},function(e,t,r){var n=r(194);e.exports=function(e){return n(this,e).get(e)}},function(e,t,r){var n=r(194);e.exports=function(e){return n(this,e).has(e)}},function(e,t,r){var n=r(194);e.exports=function(e,t){var r=n(this,e),i=r.size;return r.set(e,t),this.size+=r.size==i?0:1,this}},function(e,t,r){var n=r(110),i=r(70);e.exports=function(e,t){return e&&n(t,i(t),e)}},function(e,t){e.exports=function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}},function(e,t,r){var n=r(69),i=r(38),o="[object Arguments]";e.exports=function(e){return i(e)&&n(e)==o}},function(e,t){e.exports=function(){return!1}},function(e,t,r){var n=r(69),i=r(262),o=r(38),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(e){return o(e)&&i(e.length)&&!!a[n(e)]}},function(e,t,r){var n=r(369)(Object.keys,Object);e.exports=n},function(e,t,r){var n=r(110),i=r(151);e.exports=function(e,t){return e&&n(t,i(t),e)}},function(e,t,r){var n=r(19),i=r(150),o=r(775),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!n(e))return o(e);var t=i(e),r=[];for(var u in e)("constructor"!=u||!t&&a.call(e,u))&&r.push(u);return r}},function(e,t){e.exports=function(e){var t=[];if(null!=e)for(var r in Object(e))t.push(r);return t}},function(e,t,r){var n=r(110),i=r(263);e.exports=function(e,t){return n(e,i(e),t)}},function(e,t,r){var n=r(110),i=r(372);e.exports=function(e,t){return n(e,i(e),t)}},function(e,t,r){var n=r(109)(r(37),"DataView");e.exports=n},function(e,t,r){var n=r(109)(r(37),"Promise");e.exports=n},function(e,t){var r=Object.prototype.hasOwnProperty;e.exports=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&r.call(e,"index")&&(n.index=e.index,n.input=e.input),n}},function(e,t,r){var n=r(266),i=r(782),o=r(783),a=r(784),u=r(379),s="[object Boolean]",c="[object Date]",f="[object Map]",l="[object Number]",d="[object RegExp]",p="[object Set]",h="[object String]",v="[object Symbol]",g="[object ArrayBuffer]",y="[object DataView]",m="[object Float32Array]",b="[object Float64Array]",_="[object Int8Array]",w="[object Int16Array]",S="[object Int32Array]",k="[object Uint8Array]",x="[object Uint8ClampedArray]",E="[object Uint16Array]",T="[object Uint32Array]";e.exports=function(e,t,r){var O=e.constructor;switch(t){case g:return n(e);case s:case c:return new O(+e);case y:return i(e,r);case m:case b:case _:case w:case S:case k:case x:case E:case T:return u(e,r);case f:return new O;case l:case h:return new O(e);case d:return o(e);case p:return new O;case v:return a(e)}}},function(e,t,r){var n=r(266);e.exports=function(e,t){var r=t?n(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}},function(e,t){var r=/\w*$/;e.exports=function(e){var t=new e.constructor(e.source,r.exec(e));return t.lastIndex=e.lastIndex,t}},function(e,t,r){var n=r(126),i=n?n.prototype:void 0,o=i?i.valueOf:void 0;e.exports=function(e){return o?Object(o.call(e)):{}}},function(e,t,r){var n=r(786),i=r(111),o=r(198),a=o&&o.isMap,u=a?i(a):n;e.exports=u},function(e,t,r){var n=r(153),i=r(38),o="[object Map]";e.exports=function(e){return i(e)&&n(e)==o}},function(e,t,r){var n=r(788),i=r(111),o=r(198),a=o&&o.isSet,u=a?i(a):n;e.exports=u},function(e,t,r){var n=r(153),i=r(38),o="[object Set]";e.exports=function(e){return i(e)&&n(e)==o}},function(e,t,r){var n=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i=/\\(\\)?/g,o=r(790)(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(n,function(e,r,n,o){t.push(n?o.replace(i,"$1"):r||e)}),t});e.exports=o},function(e,t,r){var n=r(201),i=500;e.exports=function(e){var t=n(e,function(e){return r.size===i&&r.clear(),e}),r=t.cache;return t}},function(e,t,r){var n=r(126),i=r(108),o=r(4),a=r(128),u=1/0,s=n?n.prototype:void 0,c=s?s.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(o(t))return i(t,e)+"";if(a(t))return c?c.call(t):"";var r=t+"";return"0"==r&&1/t==-u?"-0":r}},function(e,t,r){var n=r(268);e.exports=function(e){return n(e)?void 0:e}},function(e,t,r){var n=r(154);e.exports=function(e){return null!=e&&e.length?n(e,1):[]}},function(e,t,r){var n=r(126),i=r(147),o=r(4),a=n?n.isConcatSpreadable:void 0;e.exports=function(e){return o(e)||i(e)||!!(a&&e&&e[a])}},function(e,t,r){var n=r(796),i=r(366),o=r(71),a=i?function(e,t){return i(e,"toString",{configurable:!0,enumerable:!1,value:n(t),writable:!0})}:o;e.exports=a},function(e,t){e.exports=function(e){return function(){return e}}},function(e,t,r){"use strict";function n(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,r,o){t=t||"&",r=r||"=";var a={};if("string"!=typeof e||0===e.length)return a;var u=/\+/g;e=e.split(t);var s=1e3;o&&"number"==typeof o.maxKeys&&(s=o.maxKeys);var c=e.length;s>0&&c>s&&(c=s);for(var f=0;f<c;++f){var l,d,p,h,v=e[f].replace(u,"%20"),g=v.indexOf(r);g>=0?(l=v.substr(0,g),d=v.substr(g+1)):(l=v,d=""),p=decodeURIComponent(l),h=decodeURIComponent(d),n(a,p)?i(a[p])?a[p].push(h):a[p]=[a[p],h]:a[p]=h}return a};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},function(e,t,r){"use strict";var n=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,r,u){return t=t||"&",r=r||"=",null===e&&(e=void 0),"object"==typeof e?o(a(e),function(a){var u=encodeURIComponent(n(a))+r;return i(e[a])?o(e[a],function(e){return u+encodeURIComponent(n(e))}).join(t):u+encodeURIComponent(n(e[a]))}).join(t):u?encodeURIComponent(n(u))+r+encodeURIComponent(n(e)):""};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function o(e,t){if(e.map)return e.map(t);for(var r=[],n=0;n<e.length;n++)r.push(t(e[n],n));return r}var a=Object.keys||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t}},function(e,t,r){(function(e,n){var i;/*! https://mths.be/punycode v1.4.1 by @mathias */!function(o){"object"==typeof t&&t&&t.nodeType,"object"==typeof e&&e&&e.nodeType;var a="object"==typeof n&&n;a.global!==a&&a.window!==a&&a.self;var u,s=2147483647,c=36,f=1,l=26,d=38,p=700,h=72,v=128,g="-",y=/^xn--/,m=/[^\x20-\x7E]/,b=/[\x2E\u3002\uFF0E\uFF61]/g,_={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},w=c-f,S=Math.floor,k=String.fromCharCode;function x(e){throw new RangeError(_[e])}function E(e,t){for(var r=e.length,n=[];r--;)n[r]=t(e[r]);return n}function T(e,t){var r=e.split("@"),n="";return r.length>1&&(n=r[0]+"@",e=r[1]),n+E((e=e.replace(b,".")).split("."),t).join(".")}function O(e){for(var t,r,n=[],i=0,o=e.length;i<o;)(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<o?56320==(64512&(r=e.charCodeAt(i++)))?n.push(((1023&t)<<10)+(1023&r)+65536):(n.push(t),i--):n.push(t);return n}function P(e){return E(e,function(e){var t="";return e>65535&&(t+=k((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=k(e)}).join("")}function C(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:c}function M(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function j(e,t,r){var n=0;for(e=r?S(e/p):e>>1,e+=S(e/t);e>w*l>>1;n+=c)e=S(e/w);return S(n+(w+1)*e/(e+d))}function R(e){var t,r,n,i,o,a,u,d,p,y,m=[],b=e.length,_=0,w=v,k=h;for((r=e.lastIndexOf(g))<0&&(r=0),n=0;n<r;++n)e.charCodeAt(n)>=128&&x("not-basic"),m.push(e.charCodeAt(n));for(i=r>0?r+1:0;i<b;){for(o=_,a=1,u=c;i>=b&&x("invalid-input"),((d=C(e.charCodeAt(i++)))>=c||d>S((s-_)/a))&&x("overflow"),_+=d*a,!(d<(p=u<=k?f:u>=k+l?l:u-k));u+=c)a>S(s/(y=c-p))&&x("overflow"),a*=y;k=j(_-o,t=m.length+1,0==o),S(_/t)>s-w&&x("overflow"),w+=S(_/t),_%=t,m.splice(_++,0,w)}return P(m)}function A(e){var t,r,n,i,o,a,u,d,p,y,m,b,_,w,E,T=[];for(b=(e=O(e)).length,t=v,r=0,o=h,a=0;a<b;++a)(m=e[a])<128&&T.push(k(m));for(n=i=T.length,i&&T.push(g);n<b;){for(u=s,a=0;a<b;++a)(m=e[a])>=t&&m<u&&(u=m);for(u-t>S((s-r)/(_=n+1))&&x("overflow"),r+=(u-t)*_,t=u,a=0;a<b;++a)if((m=e[a])<t&&++r>s&&x("overflow"),m==t){for(d=r,p=c;!(d<(y=p<=o?f:p>=o+l?l:p-o));p+=c)E=d-y,w=c-y,T.push(k(M(y+E%w,0))),d=S(E/w);T.push(k(M(d,0))),o=j(r,_,n==i),r=0,++n}++r,++t}return T.join("")}u={version:"1.4.1",ucs2:{decode:O,encode:P},decode:R,encode:A,toASCII:function(e){return T(e,function(e){return m.test(e)?"xn--"+A(e):e})},toUnicode:function(e){return T(e,function(e){return y.test(e)?R(e.slice(4).toLowerCase()):e})}},void 0===(i=function(){return u}.call(t,r,t,e))||(e.exports=i)}()}).call(this,r(196)(e),r(32))},function(e,t,r){"use strict";e.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.fromBase64url=i,t.toBase64Url=o,t.encode=a,t.decode=u,t.validate=s;var n=function(e){return e&&e.__esModule?e:{default:e}}(r(804));function i(e){return n.default.decode(e).toString()}
/*!
 * Copyright (c) 2015-2017 Cisco Systems, Inc. See LICENSE file.
 */function o(t){var r=t;return e.isBuffer(r)||(r=e.from(r)),n.default.encode(r)}function a(e){return o(e)}function u(e){return i(e)}function s(e){return n.default.validate(e)}t.default={fromBase64url:i,toBase64Url:o,encode:a,decode:u,validate:s}}).call(this,r(157).Buffer)},function(e,t,r){"use strict";t.byteLength=function(e){var t=c(e),r=t[0],n=t[1];return 3*(r+n)/4-n},t.toByteArray=function(e){for(var t,r=c(e),n=r[0],a=r[1],u=new o(function(e,t,r){return 3*(t+r)/4-r}(0,n,a)),s=0,f=a>0?n-4:n,l=0;l<f;l+=4)t=i[e.charCodeAt(l)]<<18|i[e.charCodeAt(l+1)]<<12|i[e.charCodeAt(l+2)]<<6|i[e.charCodeAt(l+3)],u[s++]=t>>16&255,u[s++]=t>>8&255,u[s++]=255&t;2===a&&(t=i[e.charCodeAt(l)]<<2|i[e.charCodeAt(l+1)]>>4,u[s++]=255&t);1===a&&(t=i[e.charCodeAt(l)]<<10|i[e.charCodeAt(l+1)]<<4|i[e.charCodeAt(l+2)]>>2,u[s++]=t>>8&255,u[s++]=255&t);return u},t.fromByteArray=function(e){for(var t,r=e.length,i=r%3,o=[],a=0,u=r-i;a<u;a+=16383)o.push(l(e,a,a+16383>u?u:a+16383));1===i?(t=e[r-1],o.push(n[t>>2]+n[t<<4&63]+"==")):2===i&&(t=(e[r-2]<<8)+e[r-1],o.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"="));return o.join("")};for(var n=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u=0,s=a.length;u<s;++u)n[u]=a[u],i[a.charCodeAt(u)]=u;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function f(e){return n[e>>18&63]+n[e>>12&63]+n[e>>6&63]+n[63&e]}function l(e,t,r){for(var n,i=[],o=t;o<r;o+=3)n=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(255&e[o+2]),i.push(f(n));return i.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,r,n,i){var o,a,u=8*i-n-1,s=(1<<u)-1,c=s>>1,f=-7,l=r?i-1:0,d=r?-1:1,p=e[t+l];for(l+=d,o=p&(1<<-f)-1,p>>=-f,f+=u;f>0;o=256*o+e[t+l],l+=d,f-=8);for(a=o&(1<<-f)-1,o>>=-f,f+=n;f>0;a=256*a+e[t+l],l+=d,f-=8);if(0===o)o=1-c;else{if(o===s)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,n),o-=c}return(p?-1:1)*a*Math.pow(2,o-n)},t.write=function(e,t,r,n,i,o){var a,u,s,c=8*o-i-1,f=(1<<c)-1,l=f>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:o-1,h=n?1:-1,v=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(u=isNaN(t)?1:0,a=f):(a=Math.floor(Math.log(t)/Math.LN2),t*(s=Math.pow(2,-a))<1&&(a--,s*=2),(t+=a+l>=1?d/s:d*Math.pow(2,1-l))*s>=2&&(a++,s/=2),a+l>=f?(u=0,a=f):a+l>=1?(u=(t*s-1)*Math.pow(2,i),a+=l):(u=t*Math.pow(2,l-1)*Math.pow(2,i),a=0));i>=8;e[r+p]=255&u,p+=h,u/=256,i-=8);for(a=a<<i|u,c+=i;c>0;e[r+p]=255&a,p+=h,a/=256,c-=8);e[r+p-h]|=128*v}},function(e,t,r){e.exports=r(805)},function(e,t,r){(function(e){
/*!
 * urlsafe-base64
 */
t.version="1.0.0",t.encode=function(e){return e.toString("base64").replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")},t.decode=function(t){return t=(t+=Array(5-t.length%4).join("=")).replace(/\-/g,"+").replace(/\_/g,"/"),new e(t,"base64")},t.validate=function(e){return/^[A-Za-z0-9\-_]+$/.test(e)}}).call(this,r(157).Buffer)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}
/*!
 * Copyright (c) 2015-2017 Cisco Systems, Inc. See LICENSE file.
 */(r(24));t.default=function(e,t,r){if(!e)throw new Error("`fn` must be a function");if(!t)throw new Error("`wait` is required");if(!(r=r||{}).maxWait)throw new Error("`options.maxWait` is required");if(!r.maxCalls)throw new Error("`options.maxCalls` is required");var i=r,o=i.maxCalls,a=i.maxWait,u=0,s=void 0,c=void 0;return function(){u+=1,clearTimeout(c),c=setTimeout(function(){return f()},t),s||(s=setTimeout(function(){return f()},a)),u>=o&&(0,n.default)(f,this,[])};function f(){clearTimeout(c),c=null,clearTimeout(s),s=null,u=0,(0,n.default)(e,this,[])}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=
/*!
 * Copyright (c) 2015-2017 Cisco Systems, Inc. See LICENSE file.
 */
function(e,t){e.forEach(function(e){if(!t[e])throw new Error("missing required property "+e+" from "+t)})}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}
/*!
 * Copyright (c) 2015-2017 Cisco Systems, Inc. See LICENSE file.
 */(r(1));t.default=function(){var e=this;this.promise=new n.default(function(t,r){e.resolve=t,e.reject=r})}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=
/*!
 * Copyright (c) 2015-2017 Cisco Systems, Inc. See LICENSE file.
 */
function(e,t){if(!e||!t)throw new Error("missing parameter for makeStateDataType");return{dataType:{set:function(r){return r instanceof e?(r.parent=this,{val:r,type:t}):{val:r?new e(r,{parent:this}):void 0,type:t}},compare:function(e,t){return e===t},onChange:function(e,t,r){t&&this.stopListening(t,"all",this._getCachedEventBubblingHandler(r)),e&&this.listenTo(e,"all",this._getCachedEventBubblingHandler(r))}},prop:{test:function(e){return!!e&&(e.parent=this,!1)},type:t}}}},function(e,t,r){r(811);var n=r(7).Object;e.exports=function(e,t,r){return n.defineProperty(e,t,r)}},function(e,t,r){var n=r(18);n(n.S+n.F*!r(57),"Object",{defineProperty:r(50).f})},function(e,t,r){r(143),r(105),r(813),r(817),r(818),e.exports=r(7).WeakMap},function(e,t,r){"use strict";var n,i=r(272)(0),o=r(251),a=r(158),u=r(363),s=r(816),c=r(34),f=r(58),l=r(159),d=a.getWeak,p=Object.isExtensible,h=s.ufstore,v={},g=function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},y={get:function(e){if(c(e)){var t=d(e);return!0===t?h(l(this,"WeakMap")).get(e):t?t[this._i]:void 0}},set:function(e,t){return s.def(l(this,"WeakMap"),e,t)}},m=e.exports=r(273)("WeakMap",g,y,s,!0,!0);f(function(){return 7!=(new m).set((Object.freeze||Object)(v),7).get(v)})&&(u((n=s.getConstructor(g,"WeakMap")).prototype,y),a.NEED=!0,i(["delete","has","get","set"],function(e){var t=m.prototype,r=t[e];o(t,e,function(t,i){if(c(t)&&!p(t)){this._f||(this._f=new n);var o=this._f[e](t,i);return"set"==e?this:o}return r.call(this,t,i)})}))},function(e,t,r){var n=r(815);e.exports=function(e,t){return new(n(e))(t)}},function(e,t,r){var n=r(34),i=r(387),o=r(35)("species");e.exports=function(e){var t;return i(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!i(t.prototype)||(t=void 0),n(t)&&null===(t=t[o])&&(t=void 0)),void 0===t?Array:t}},function(e,t,r){"use strict";var n=r(189),i=r(158).getWeak,o=r(29),a=r(34),u=r(188),s=r(124),c=r(272),f=r(84),l=r(159),d=c(5),p=c(6),h=0,v=function(e){return e._l||(e._l=new g)},g=function(){this.a=[]},y=function(e,t){return d(e.a,function(e){return e[0]===t})};g.prototype={get:function(e){var t=y(this,e);if(t)return t[1]},has:function(e){return!!y(this,e)},set:function(e,t){var r=y(this,e);r?r[1]=t:this.a.push([e,t])},delete:function(e){var t=p(this.a,function(t){return t[0]===e});return~t&&this.a.splice(t,1),!!~t}},e.exports={getConstructor:function(e,t,r,o){var c=e(function(e,n){u(e,c,t,"_i"),e._t=t,e._i=h++,e._l=void 0,void 0!=n&&s(n,r,e[o],e)});return n(c.prototype,{delete:function(e){if(!a(e))return!1;var r=i(e);return!0===r?v(l(this,t)).delete(e):r&&f(r,this._i)&&delete r[this._i]},has:function(e){if(!a(e))return!1;var r=i(e);return!0===r?v(l(this,t)).has(e):r&&f(r,this._i)}}),c},def:function(e,t,r){var n=i(o(t),!0);return!0===n?v(e).set(t,r):n[e._i]=r,e},ufstore:v}},function(e,t,r){r(274)("WeakMap")},function(e,t,r){r(275)("WeakMap")},function(e,t){e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=f(r(90)),i=f(r(1)),o=f(r(24)),a=f(r(60)),u=f(r(44)),s=f(r(130));t.default=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];if(3===t.length)return(0,o.default)(l,null,t);var a=t[0]||{},u=a.cacheFailures,c=a.cacheSuccesses,f=a.keyFactory;return l;function l(e,t,r){var a=t;return r.value=(0,s.default)(r.value,function(t){for(var r=this,n=a,s=arguments.length,l=Array(s>1?s-1:0),d=1;d<s;d++)l[d-1]=arguments[d];f&&(n=n+"_"+f.apply(void 0,l));var h=p.get(this,e,n);return h||(h=(0,o.default)(t,this,l),!u&&h&&h.catch&&(h=h.catch(function(t){return p.delete(r,e,n),i.default.reject(t)})),!c&&h&&h.then&&(h=h.then(function(t){return p.delete(r,e,n),t})),p.set(this,e,n,h),h)}),"object"!==(void 0===e?"undefined":(0,n.default)(e))||e.prototype||(e[t]=r.value),r}};var c=f(r(386));function f(e){return e&&e.__esModule?e:{default:e}}var l=u.default,d=a.default,p=new((0,c.default)(l,d,d));
/*!
                            * Copyright (c) 2015-2017 Cisco Systems, Inc. See LICENSE file.
                            */},function(e,t,r){r(104),r(105),e.exports=r(276).f("iterator")},function(e,t,r){r(823),r(143),r(826),r(827),e.exports=r(7).Symbol},function(e,t,r){"use strict";var n=r(27),i=r(84),o=r(57),a=r(18),u=r(251),s=r(158).KEY,c=r(58),f=r(253),l=r(146),d=r(186),p=r(35),h=r(276),v=r(277),g=r(824),y=r(387),m=r(29),b=r(34),_=r(83),w=r(184),S=r(142),k=r(145),x=r(825),E=r(140),T=r(50),O=r(122),P=E.f,C=T.f,M=x.f,j=n.Symbol,R=n.JSON,A=R&&R.stringify,I=p("_hidden"),D=p("toPrimitive"),L={}.propertyIsEnumerable,N=f("symbol-registry"),F=f("symbols"),U=f("op-symbols"),z=Object.prototype,q="function"==typeof j,B=n.QObject,W=!B||!B.prototype||!B.prototype.findChild,G=o&&c(function(){return 7!=k(C({},"a",{get:function(){return C(this,"a",{value:7}).a}})).a})?function(e,t,r){var n=P(z,t);n&&delete z[t],C(e,t,r),n&&e!==z&&C(z,t,n)}:C,V=function(e){var t=F[e]=k(j.prototype);return t._k=e,t},H=q&&"symbol"==typeof j.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof j},J=function(e,t,r){return e===z&&J(U,t,r),m(e),t=w(t,!0),m(r),i(F,t)?(r.enumerable?(i(e,I)&&e[I][t]&&(e[I][t]=!1),r=k(r,{enumerable:S(0,!1)})):(i(e,I)||C(e,I,S(1,{})),e[I][t]=!0),G(e,t,r)):C(e,t,r)},Y=function(e,t){m(e);for(var r,n=g(t=_(t)),i=0,o=n.length;o>i;)J(e,r=n[i++],t[r]);return e},$=function(e){var t=L.call(this,e=w(e,!0));return!(this===z&&i(F,e)&&!i(U,e))&&(!(t||!i(this,e)||!i(F,e)||i(this,I)&&this[I][e])||t)},K=function(e,t){if(e=_(e),t=w(t,!0),e!==z||!i(F,t)||i(U,t)){var r=P(e,t);return!r||!i(F,t)||i(e,I)&&e[I][t]||(r.enumerable=!0),r}},X=function(e){for(var t,r=M(_(e)),n=[],o=0;r.length>o;)i(F,t=r[o++])||t==I||t==s||n.push(t);return n},Z=function(e){for(var t,r=e===z,n=M(r?U:_(e)),o=[],a=0;n.length>a;)!i(F,t=n[a++])||r&&!i(z,t)||o.push(F[t]);return o};q||(u((j=function(){if(this instanceof j)throw TypeError("Symbol is not a constructor!");var e=d(arguments.length>0?arguments[0]:void 0),t=function(r){this===z&&t.call(U,r),i(this,I)&&i(this[I],e)&&(this[I][e]=!1),G(this,e,S(1,r))};return o&&W&&G(z,e,{configurable:!0,set:t}),V(e)}).prototype,"toString",function(){return this._k}),E.f=K,T.f=J,r(390).f=x.f=X,r(141).f=$,r(257).f=Z,o&&!r(144)&&u(z,"propertyIsEnumerable",$,!0),h.f=function(e){return V(p(e))}),a(a.G+a.W+a.F*!q,{Symbol:j});for(var Q="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ee=0;Q.length>ee;)p(Q[ee++]);for(var te=O(p.store),re=0;te.length>re;)v(te[re++]);a(a.S+a.F*!q,"Symbol",{for:function(e){return i(N,e+="")?N[e]:N[e]=j(e)},keyFor:function(e){if(!H(e))throw TypeError(e+" is not a symbol!");for(var t in N)if(N[t]===e)return t},useSetter:function(){W=!0},useSimple:function(){W=!1}}),a(a.S+a.F*!q,"Object",{create:function(e,t){return void 0===t?k(e):Y(k(e),t)},defineProperty:J,defineProperties:Y,getOwnPropertyDescriptor:K,getOwnPropertyNames:X,getOwnPropertySymbols:Z}),R&&a(a.S+a.F*(!q||c(function(){var e=j();return"[null]"!=A([e])||"{}"!=A({a:e})||"{}"!=A(Object(e))})),"JSON",{stringify:function(e){for(var t,r,n=[e],i=1;arguments.length>i;)n.push(arguments[i++]);if(r=t=n[1],(b(t)||void 0!==e)&&!H(e))return y(t)||(t=function(e,t){if("function"==typeof r&&(t=r.call(this,e,t)),!H(t))return t}),n[1]=t,A.apply(R,n)}}),j.prototype[D]||r(86)(j.prototype,D,j.prototype.valueOf),l(j,"Symbol"),l(Math,"Math",!0),l(n.JSON,"JSON",!0)},function(e,t,r){var n=r(122),i=r(257),o=r(141);e.exports=function(e){var t=n(e),r=i.f;if(r)for(var a,u=r(e),s=o.f,c=0;u.length>c;)s.call(e,a=u[c++])&&t.push(a);return t}},function(e,t,r){var n=r(83),i=r(390).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return a&&"[object Window]"==o.call(e)?function(e){try{return i(e)}catch(e){return a.slice()}}(e):i(n(e))}},function(e,t,r){r(277)("asyncIterator")},function(e,t,r){r(277)("observable")},function(e,t,r){r(143),r(104),r(105),r(829),r(830),r(832),r(833),e.exports=r(7).Map},function(e,t,r){"use strict";var n=r(391),i=r(159);e.exports=r(273)("Map",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{get:function(e){var t=n.getEntry(i(this,"Map"),e);return t&&t.v},set:function(e,t){return n.def(i(this,"Map"),0===e?0:e,t)}},n,!0)},function(e,t,r){var n=r(18);n(n.P+n.R,"Map",{toJSON:r(392)("Map")})},function(e,t,r){var n=r(124);e.exports=function(e,t){var r=[];return n(e,!1,r.push,r,t),r}},function(e,t,r){r(274)("Map")},function(e,t,r){r(275)("Map")},function(e,t,r){var n=r(207),i=r(37),o=1;e.exports=function(e,t,r){var a=t&o,u=n(e);return function t(){return(this&&this!==i&&this instanceof t?u:e).apply(a?r:this,arguments)}}},function(e,t,r){var n=r(89),i=r(207),o=r(395),a=r(398),u=r(160),s=r(131),c=r(37);e.exports=function(e,t,r){var f=i(e);return function i(){for(var l=arguments.length,d=Array(l),p=l,h=u(i);p--;)d[p]=arguments[p];var v=l<3&&d[0]!==h&&d[l-1]!==h?[]:s(d,h);return(l-=v.length)<r?a(e,t,o,i.placeholder,void 0,d,v,void 0,void 0,r-l):n(this&&this!==c&&this instanceof i?f:e,this,d)}}},function(e,t){e.exports=function(e,t){for(var r=e.length,n=0;r--;)e[r]===t&&++n;return n}},function(e,t){e.exports={}},function(e,t,r){var n=r(279),i=r(282),o=r(280),a=r(4),u=r(38),s=r(839),c=Object.prototype.hasOwnProperty;function f(e){if(u(e)&&!a(e)&&!(e instanceof n)){if(e instanceof i)return e;if(c.call(e,"__wrapped__"))return s(e)}return new i(e)}f.prototype=o.prototype,f.prototype.constructor=f,e.exports=f},function(e,t,r){var n=r(279),i=r(282),o=r(152);e.exports=function(e){if(e instanceof n)return e.clone();var t=new i(e.__wrapped__,e.__chain__);return t.__actions__=o(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}},function(e,t){var r=/\{\n\/\* \[wrapped with (.+)\] \*/,n=/,? & /;e.exports=function(e){var t=e.match(r);return t?t[1].split(n):[]}},function(e,t){var r=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;e.exports=function(e,t){var n=t.length;if(!n)return e;var i=n-1;return t[i]=(n>1?"& ":"")+t[i],t=t.join(n>2?", ":" "),e.replace(r,"{\n/* [wrapped with "+t+"] */\n")}},function(e,t,r){var n=r(261),i=r(283),o=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]];e.exports=function(e,t){return n(o,function(r){var n="_."+r[0];t&r[1]&&!i(e,n)&&e.push(n)}),e.sort()}},function(e,t){e.exports=function(e,t,r){for(var n=r-1,i=e.length;++n<i;)if(e[n]===t)return n;return-1}},function(e,t,r){var n=r(152),i=r(149),o=Math.min;e.exports=function(e,t){for(var r=e.length,a=o(t.length,r),u=n(e);a--;){var s=t[a];e[a]=i(s,r)?u[s]:void 0}return e}},function(e,t,r){var n=r(89),i=r(207),o=r(37),a=1;e.exports=function(e,t,r,u){var s=t&a,c=i(e);return function t(){for(var i=-1,a=arguments.length,f=-1,l=u.length,d=Array(l+a),p=this&&this!==o&&this instanceof t?c:e;++f<l;)d[f]=u[f];for(;a--;)d[f++]=arguments[++i];return n(p,s?r:this,d)}}},function(e,t,r){var n=r(396),i=r(397),o=r(131),a="__lodash_placeholder__",u=1,s=2,c=4,f=8,l=128,d=256,p=Math.min;e.exports=function(e,t){var r=e[1],h=t[1],v=r|h,g=v<(u|s|l),y=h==l&&r==f||h==l&&r==d&&e[7].length<=t[8]||h==(l|d)&&t[7].length<=t[8]&&r==f;if(!g&&!y)return e;h&u&&(e[2]=t[2],v|=r&u?0:c);var m=t[3];if(m){var b=e[3];e[3]=b?n(b,m,t[4]):m,e[4]=b?o(e[3],a):t[4]}return(m=t[5])&&(b=e[5],e[5]=b?i(b,m,t[6]):m,e[6]=b?o(e[5],a):t[6]),(m=t[7])&&(e[7]=m),h&l&&(e[8]=null==e[8]?t[8]:p(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=v,e}},function(e,t,r){var n=r(286),i=1/0,o=1.7976931348623157e308;e.exports=function(e){return e?(e=n(e))===i||e===-i?(e<0?-1:1)*o:e==e?e:0:0===e?e:0}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),
/*!
 * Copyright (c) 2015-2017 Cisco Systems, Inc. See LICENSE file.
 */
t.default={email:/^[^\s]+?@[^\s]+?$/,uuid:/^[a-f\d]{8}(?:-[a-f\d]{4}){3}-[a-f\d]{12}$/,execEmail:/[^\s]+?@[^\s]+?/,execUuid:/[a-f\d]{8}(?:-[a-f\d]{4}){3}-[a-f\d]{12}/}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(r(24)),i=o(r(4));function o(e){return e&&e.__esModule?e:{default:e}}
/*!
 * Copyright (c) 2015-2017 Cisco Systems, Inc. See LICENSE file.
 */t.proxyEvents=function(e,t){return["on","once"].forEach(function(r){t[r]=function(){return e[r].apply(e,arguments),t}}),e},t.transferEvents=function(e,t,r){(e=(0,i.default)(e)?e:[e]).forEach(function(e){t.on&&t.on(e,function(){for(var t=arguments.length,i=Array(t),o=0;o<t;o++)i[o]=arguments[o];return function(e){var t=e.trigger||e.emit;if(!t)throw new Error("count not determine emit method");for(var r=arguments.length,i=Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return(0,n.default)(t,e,i)}.apply(void 0,[r,e].concat(i))})})}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}
/*!
 * Copyright (c) 2015-2017 Cisco Systems, Inc. See LICENSE file.
 */(r(1));t.default=function(e){return function(){return n.default.resolve(e)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d(r(90)),i=d(r(1)),o=d(r(24)),a=d(r(43)),u=d(r(130)),s=d(r(36)),c=d(r(72));t.default=
/*!
 * Copyright (c) 2015-2017 Cisco Systems, Inc. See LICENSE file.
 */
function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];var d=t[0]||{};d=(0,a.default)({},d),(0,c.default)(d,{backoff:!0,delay:1,maxAttempts:3});var p=void 0;p=d.backoff?{initialDelay:d.delay,maxDelay:d.maxDelay}:{initialDelay:1,maxDelay:1};if(3===t.length)return(0,o.default)(h,null,t);return h;function h(e,t,r){return r.value=(0,u.default)(r.value,function(e){for(var t=this,r=arguments.length,n=Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];var u=new f.EventEmitter,c=new i.default(function(r,i){var a=l.default.call(function(r){var i=(0,o.default)(e,t,n);return(0,s.default)(i.on)&&(i.on("progress",u.emit.bind(u,"progress")),i.on("upload-progress",u.emit.bind(u,"upload-progress")),i.on("download-progress",u.emit.bind(u,"download-progress"))),i.then(function(e){r(null,e)}).catch(function(e){e||(e=new Error("retryable method failed without providing an error object")),r(e)})},function(e,t){return e?i(e):r(t)});a.setStrategy(new l.default.ExponentialStrategy(p)),d.maxAttempts&&a.failAfter(d.maxAttempts-1),a.start()});return c.on=function(e,t){return u.on(e,t),c},c}),"object"!==(void 0===e?"undefined":(0,n.default)(e))||e.prototype||(e[t]=r.value),r}};var f=r(62),l=d(r(405));function d(e){return e&&e.__esModule?e:{default:e}}},function(e,t,r){var n=r(39),i=e.exports=r(853);function o(e,t,r,i){r=r||"";var o=new e(n.format.apply(this,[r].concat(i)));throw Error.captureStackTrace(o,t),o}function a(e,t,r){o(i.IllegalArgumentError,e,t,r)}function u(e){var t=typeof e;if("object"==t){if(!e)return"null";if(e instanceof Array)return"array"}return t}function s(e){return function(t,r){var n=u(t);if(n==e)return t;a(arguments.callee,r||'Expected "'+e+'" but got "'+n+'".',Array.prototype.slice.call(arguments,2))}}e.exports.checkArgument=function(e,t){e||a(arguments.callee,t,Array.prototype.slice.call(arguments,2))},e.exports.checkState=function(e,t){e||function(e,t,r){o(i.IllegalStateError,e,t,r)}(arguments.callee,t,Array.prototype.slice.call(arguments,2))},e.exports.checkIsDef=function(e,t){if(void 0!==e)return e;a(arguments.callee,t||"Expected value to be defined but was undefined.",Array.prototype.slice.call(arguments,2))},e.exports.checkIsDefAndNotNull=function(e,t){if(null!=e)return e;a(arguments.callee,t||'Expected value to be defined and not null but got "'+u(e)+'".',Array.prototype.slice.call(arguments,2))},e.exports.checkIsString=s("string"),e.exports.checkIsArray=s("array"),e.exports.checkIsNumber=s("number"),e.exports.checkIsBoolean=s("boolean"),e.exports.checkIsFunction=s("function"),e.exports.checkIsObject=s("object")},function(e,t,r){var n=r(39);function i(e){Error.call(this,e),this.message=e}function o(e){Error.call(this,e),this.message=e}n.inherits(i,Error),i.prototype.name="IllegalArgumentError",n.inherits(o,Error),o.prototype.name="IllegalStateError",e.exports.IllegalStateError=o,e.exports.IllegalArgumentError=i},function(e,t,r){var n=r(39),i=r(287),o=r(407);function a(e){o.call(this,e),this.backoffDelay_=0,this.nextBackoffDelay_=this.getInitialDelay(),this.factor_=a.DEFAULT_FACTOR,e&&void 0!==e.factor&&(i.checkArgument(e.factor>1,"Exponential factor should be greater than 1 but got %s.",e.factor),this.factor_=e.factor)}n.inherits(a,o),a.DEFAULT_FACTOR=2,a.prototype.next_=function(){return this.backoffDelay_=Math.min(this.nextBackoffDelay_,this.getMaxDelay()),this.nextBackoffDelay_=this.backoffDelay_*this.factor_,this.backoffDelay_},a.prototype.reset_=function(){this.backoffDelay_=0,this.nextBackoffDelay_=this.getInitialDelay()},e.exports=a},function(e,t,r){var n=r(62),i=r(287),o=r(39),a=r(406),u=r(408);function s(e,t,r){n.EventEmitter.call(this),i.checkIsFunction(e,"Expected fn to be a function."),i.checkIsArray(t,"Expected args to be an array."),i.checkIsFunction(r,"Expected callback to be a function."),this.function_=e,this.arguments_=t,this.callback_=r,this.lastResult_=[],this.numRetries_=0,this.backoff_=null,this.strategy_=null,this.failAfter_=-1,this.retryPredicate_=s.DEFAULT_RETRY_PREDICATE_,this.state_=s.State_.PENDING}o.inherits(s,n.EventEmitter),s.State_={PENDING:0,RUNNING:1,COMPLETED:2,ABORTED:3},s.DEFAULT_RETRY_PREDICATE_=function(e){return!0},s.prototype.isPending=function(){return this.state_==s.State_.PENDING},s.prototype.isRunning=function(){return this.state_==s.State_.RUNNING},s.prototype.isCompleted=function(){return this.state_==s.State_.COMPLETED},s.prototype.isAborted=function(){return this.state_==s.State_.ABORTED},s.prototype.setStrategy=function(e){return i.checkState(this.isPending(),"FunctionCall in progress."),this.strategy_=e,this},s.prototype.retryIf=function(e){return i.checkState(this.isPending(),"FunctionCall in progress."),this.retryPredicate_=e,this},s.prototype.getLastResult=function(){return this.lastResult_.concat()},s.prototype.getNumRetries=function(){return this.numRetries_},s.prototype.failAfter=function(e){return i.checkState(this.isPending(),"FunctionCall in progress."),this.failAfter_=e,this},s.prototype.abort=function(){this.isCompleted()||this.isAborted()||(this.isRunning()&&this.backoff_.reset(),this.state_=s.State_.ABORTED,this.lastResult_=[new Error("Backoff aborted.")],this.emit("abort"),this.doCallback_())},s.prototype.start=function(e){i.checkState(!this.isAborted(),"FunctionCall is aborted."),i.checkState(this.isPending(),"FunctionCall already started.");var t=this.strategy_||new u;this.backoff_=e?e(t):new a(t),this.backoff_.on("ready",this.doCall_.bind(this,!0)),this.backoff_.on("fail",this.doCallback_.bind(this)),this.backoff_.on("backoff",this.handleBackoff_.bind(this)),this.failAfter_>0&&this.backoff_.failAfter(this.failAfter_),this.state_=s.State_.RUNNING,this.doCall_(!1)},s.prototype.doCall_=function(e){e&&this.numRetries_++;var t=["call"].concat(this.arguments_);n.EventEmitter.prototype.emit.apply(this,t);var r=this.handleFunctionCallback_.bind(this);this.function_.apply(null,this.arguments_.concat(r))},s.prototype.doCallback_=function(){this.callback_.apply(null,this.lastResult_)},s.prototype.handleFunctionCallback_=function(){if(!this.isAborted()){var e=Array.prototype.slice.call(arguments);this.lastResult_=e,n.EventEmitter.prototype.emit.apply(this,["callback"].concat(e));var t=e[0];t&&this.retryPredicate_(t)?this.backoff_.backoff(t):(this.state_=s.State_.COMPLETED,this.doCallback_())}},s.prototype.handleBackoff_=function(e,t,r){this.emit("backoff",e,t,r)},e.exports=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=u(r(24)),i=u(r(1)),o=u(r(130));t.default=function(e){return function(t,r,u){u.value=(0,o.default)(u.value,function(t){for(var r=this,o=arguments.length,u=Array(o>1?o-1:0),s=1;s<o;s++)u[s-1]=arguments[s];return new i.default(function(o){r[e]=!0,o((0,n.default)(t,r,u).then((0,a.default)(function(){r[e]=!1})).catch(function(t){return r[e]=!1,i.default.reject(t)}))})})}}
/*!
   * Copyright (c) 2015-2017 Cisco Systems, Inc. See LICENSE file.
   */;var a=u(r(409));function u(e){return e&&e.__esModule?e:{default:e}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i,o=h(r(410)),a=h(r(411)),u=h(r(412)),s=h(r(866)),c=h(r(14)),f=h(r(8)),l=h(r(11)),d=h(r(15)),p=h(r(16));function h(e){return e&&e.__esModule?e:{default:e}}
/*!
 * Copyright (c) 2015-2017 Cisco Systems, Inc. See LICENSE file.
 */
var v=(i=n=function(e){function t(){var e;(0,f.default)(this,t);for(var r=arguments.length,n=Array(r),i=0;i<r;i++)n[i]=arguments[i];var o=(0,d.default)(this,(e=t.__proto__||(0,c.default)(t)).call.apply(e,[this].concat(n))),a=void 0;if(o.parse)a=o.parse.apply(o,n);else if(o.constructor.parse){var u;a=(u=o.constructor).parse.apply(u,n)}return a||(a=o.constructor.defaultMessage),o.name=o.constructor.name,o.message=a,o}return(0,p.default)(t,e),(0,l.default)(t,null,[{key:"parse",value:function(){return arguments.length<=0?void 0:arguments[0]}}]),t}(function(e){function t(){var t=(0,s.default)(e,(0,u.default)(arguments));return(0,a.default)(t,(0,c.default)(this)),t}return t.prototype=(0,o.default)(e.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),a.default?(0,a.default)(t,e):t.__proto__=e,t}(Error)),n.defaultMessage="An error occurred",i);t.default=v},function(e,t,r){r(859);var n=r(7).Object;e.exports=function(e,t){return n.create(e,t)}},function(e,t,r){var n=r(18);n(n.S,"Object",{create:r(145)})},function(e,t,r){r(861),e.exports=r(7).Object.setPrototypeOf},function(e,t,r){var n=r(18);n(n.S,"Object",{setPrototypeOf:r(862).set})},function(e,t,r){var n=r(34),i=r(29),o=function(e,t){if(i(e),!n(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,n){try{(n=r(76)(Function.call,r(140).f(Object.prototype,"__proto__").set,2))(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,r){return o(e,r),t?e.__proto__=r:n(e,r),e}}({},!1):void 0),check:o}},function(e,t,r){r(104),r(864),e.exports=r(7).Array.from},function(e,t,r){"use strict";var n=r(76),i=r(18),o=r(123),a=r(354),u=r(355),s=r(185),c=r(865),f=r(255);i(i.S+i.F*!r(362)(function(e){Array.from(e)}),"Array",{from:function(e){var t,r,i,l,d=o(e),p="function"==typeof this?this:Array,h=arguments.length,v=h>1?arguments[1]:void 0,g=void 0!==v,y=0,m=f(d);if(g&&(v=n(v,h>2?arguments[2]:void 0,2)),void 0==m||p==Array&&u(m))for(r=new p(t=s(d.length));t>y;y++)c(r,y,g?v(d[y],y):d[y]);else for(l=m.call(d),r=new p;!(i=l.next()).done;y++)c(r,y,g?a(l,v,[i.value,y],!0):i.value);return r.length=y,r}})},function(e,t,r){"use strict";var n=r(50),i=r(142);e.exports=function(e,t,r){t in e?n.f(e,t,i(0,r)):e[t]=r}},function(e,t,r){e.exports={default:r(867),__esModule:!0}},function(e,t,r){r(868),e.exports=r(7).Reflect.construct},function(e,t,r){var n=r(18),i=r(145),o=r(85),a=r(29),u=r(34),s=r(58),c=r(869),f=(r(27).Reflect||{}).construct,l=s(function(){function e(){}return!(f(function(){},[],e)instanceof e)}),d=!s(function(){f(function(){})});n(n.S+n.F*(l||d),"Reflect",{construct:function(e,t){o(e),a(t);var r=arguments.length<3?e:o(arguments[2]);if(d&&!l)return f(e,t,r);if(e==r){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var n=[null];return n.push.apply(n,t),new(c.apply(e,n))}var s=r.prototype,p=i(u(s)?s:Object.prototype),h=Function.apply.call(e,p,t);return u(h)?h:p}})},function(e,t,r){"use strict";var n=r(85),i=r(34),o=r(358),a=[].slice,u={};e.exports=Function.bind||function(e){var t=n(this),r=a.call(arguments,1),s=function(){var n=r.concat(a.call(arguments));return this instanceof s?function(e,t,r){if(!(t in u)){for(var n=[],i=0;i<t;i++)n[i]="a["+i+"]";u[t]=Function("F,a","return new F("+n.join(",")+")")}return u[t](e,r)}(t,n.length,n):o(t,n,e)};return i(t.prototype)&&(s.prototype=t.prototype),s}},function(e,t,r){r(871),e.exports=r(7).Object.getPrototypeOf},function(e,t,r){var n=r(123),i=r(352);r(248)("getPrototypeOf",function(){return function(e){return i(n(e))}})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});
/*!
   * Copyright (c) 2015-2017 Cisco Systems, Inc. See LICENSE file.
   */
var n=r(510).deprecated;t.default=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(874);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return function(e){return e&&e.__esModule?e:{default:e}}(n).default}})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),
/*!
 * Copyright (c) 2015-2017 Cisco Systems, Inc. See LICENSE file.
 */
t.default=!0},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,i,o,a,u,s,c,f=j(r(49)),l=j(r(1)),d=j(r(24)),p=j(r(31)),h=j(r(43)),v=j(r(106)),g=j(r(30)),y=j(r(205)),m=j(r(19)),b=j(r(155)),_=j(r(414)),w=j(r(270)),S=j(r(156)),k=r(13),x=r(132),E=j(r(162)),T=r(429),O=j(r(298)),P=r(299),C=j(r(300)),M=j(r(942));function j(e){return e&&e.__esModule?e:{default:e}}function R(e,t,r,n,i){var o={};return Object.keys(n).forEach(function(e){o[e]=n[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var A=E.default.extend((n=(0,k.oneFlight)({keyFactory:function(e){return e}}),i=(0,T.waitForValue)("@"),o=(0,T.persist)("@"),a=(0,T.waitForValue)("@"),u=(0,k.whileInFlight)("isRefreshing"),s=(0,T.waitForValue)("@"),R(c={collections:{userTokens:M.default},dataTypes:{token:(0,k.makeStateDataType)(C.default,"token").dataType},derived:{canAuthorize:{deps:["supertoken","supertoken.canAuthorize","canRefresh"],fn:function(){return Boolean(this.supertoken&&this.supertoken.canAuthorize||this.canRefresh)}},canRefresh:{deps:["supertoken","supertoken.canRefresh"],fn:function(){return!!this.config.jwtRefreshCallback||Boolean(this.supertoken&&this.supertoken.canRefresh)}}},props:{supertoken:(0,k.makeStateDataType)(C.default,"token").prop},namespace:"Credentials",session:{isRefreshing:{default:!1,type:"boolean"},ready:{default:!1,type:"boolean"},refreshTimer:{default:void 0,type:"any"}},buildLoginUrl:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{clientType:"public"};if(e.state&&!(0,m.default)(e.state))throw new Error("if specified, `options.state` must be an object");return e.client_id=this.config.client_id,e.redirect_uri=this.config.redirect_uri,e.scope=this.config.scope,(e=(0,b.default)(e)).response_type||(e.response_type="public"===e.clientType?"token":"code"),(0,g.default)(e,"clientType"),e.state&&((0,y.default)(e.state)?delete e.state:e.state=k.base64.toBase64Url((0,v.default)(e.state))),this.config.authorizeUrl+"?"+w.default.stringify(e)},buildLogoutUrl:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.config.logoutUrl+"?"+w.default.stringify((0,h.default)({cisService:this.config.service,goto:this.config.redirect_uri},e))},calcRefreshTimeout:function(e){return Math.floor((Math.floor(4*Math.random())+6)/10*e)},constructor:function(){var e=this;this._dataTypes=(0,b.default)(this._dataTypes),(0,p.default)(this._dataTypes).forEach(function(t){e._dataTypes[t].set&&(e._dataTypes[t].set=e._dataTypes[t].set.bind(e))});for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];(0,d.default)(E.default,this,r)},downscope:function(e){var t=this;return this.supertoken.downscope(e).catch(function(r){return t.logger.error("credentials: failed to downscope supertoken to "+e,r),t.logger.error("credentials: falling back to supertoken for "+e),l.default.resolve(new C.default((0,h.default)({scope:e},t.supertoken.serialize())),{parent:t})})},getClientToken:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.logger.info("credentials: requesting client credentials grant"),(t=t||{}).scope=t.scope||"webexsquare:admin",this.spark.request({method:"POST",uri:this.config.tokenUrl,form:{grant_type:"client_credentials",scope:t.scope,self_contained_token:!0},auth:{user:this.config.client_id,pass:this.config.client_secret,sendImmediately:!0},shouldRefreshAccessToken:!1}).then(function(t){return new C.default(t.body,{parent:e})}).catch(function(e){if(400!==e.statusCode)return l.default.reject(e);var t=O.default.select(e.body.error);return l.default.reject(new t(e._res||e))})},getUserToken:function(e){var t=this;return l.default.resolve(!this.isRefreshing||new l.default(function(e){t.logger.info("credentials: token refresh inflight; delaying getUserToken until refresh completes"),t.once("change:isRefreshing",function(){t.logger.info("credentials: token refresh complete; reinvoking getUserToken"),e()})})).then(function(){if(!t.canAuthorize)return t.logger.info("credentials: cannot produce an access token from current state"),l.default.reject(new Error("Current state cannot produce an access token"));if(e||(e=(0,P.filterScope)("spark:kms",t.config.scope)),(e=(0,P.sortScope)(e))===(0,P.sortScope)(t.config.scope))return l.default.resolve(t.supertoken);var r=t.userTokens.get(e);return r&&r.access_token?l.default.resolve(r):t.downscope(e).then((0,k.tap)(function(e){return t.userTokens.add(e)}))})},initialize:function(e,t){var r=this;e&&("string"==typeof e&&(this.supertoken=e),e.access_token&&(this.supertoken=e),e.authorization&&(e.authorization.supertoken?this.supertoken=e.authorization.supertoken:this.supertoken=e.authorization),this.supertoken&&this.supertoken.expires&&this.scheduleRefresh(this.supertoken.expires)),(0,d.default)(E.default.prototype.initialize,this,[e,t]),this.listenToOnce(this.parent,"change:config",function(){if(r.config.authorizationString){var e=S.default.parse(r.config.authorizationString,!0);r.config.client_id=e.query.client_id,r.config.redirect_uri=e.query.redirect_uri,r.config.scope=e.query.scope,r.config.authorizeUrl=e.href.substr(0,e.href.indexOf("?"))}}),this.spark.once("loaded",function(){r.ready=!0})},invalidate:function(){this.logger.info("credentials: invalidating tokens"),this.refreshTimer&&(clearTimeout(this.refreshTimer),this.unset("refreshTimer"));try{this.unset("supertoken")}catch(e){this.logger.warn("credentials: failed to clear supertoken",e)}for(;this.userTokens.models.length;)try{this.userTokens.remove(this.userTokens.models[0])}catch(e){this.logger.warn("credentials: failed to remove user token",e)}return this.logger.info("credentials: finished removing tokens"),l.default.resolve()},refresh:function(){var e=this;this.logger.info("credentials: refresh requested");var t=this.supertoken,r=(0,_.default)(this.userTokens.models);return this.config.jwtRefreshCallback?this.config.jwtRefreshCallback(this.spark).then(function(t){return e.spark.authorization.requestAccessTokenFromJwt({jwt:t})}):t.refresh().then(function(t){return e.refreshTimer&&(clearTimeout(e.refreshTimer),e.unset("refreshTimer")),e.supertoken=t,l.default.all(r.map(function(t){return e.downscope(t.scope).then(function(r){return e.logger.info("credentials: revoking token for "+t.scope),t.revoke().catch(function(t){e.logger.warn("credentials: failed to revoke user token",t)}).then(function(){e.userTokens.remove(t.scope),e.userTokens.add(r)})})}))}).then(function(){e.scheduleRefresh(e.supertoken.expires)}).catch(function(t){if(t instanceof O.default.InvalidRequestError){for(e.unset("supertoken");e.userTokens.models.length;)try{e.userTokens.remove(e.userTokens.models[0])}catch(t){e.logger.warn("credentials: failed to remove user token",t)}e.spark.trigger("client:InvalidRequestError")}return l.default.reject(t)})},scheduleRefresh:function(e){var t=this,r=e-Date.now();if(r>0){var n=this.calcRefreshTimeout(r);this.refreshTimer=(0,x.safeSetTimeout)(function(){return t.refresh()},n)}else this.refresh()},version:"1.43.5"},"getUserToken",[n,i],(0,f.default)(c,"getUserToken"),c),R(c,"initialize",[o],(0,f.default)(c,"initialize"),c),R(c,"invalidate",[k.oneFlight,a],(0,f.default)(c,"invalidate"),c),R(c,"refresh",[k.oneFlight,u,s],(0,f.default)(c,"refresh"),c),c));t.default=A},function(e,t,r){r(877),e.exports=r(7).Object.keys},function(e,t,r){var n=r(123),i=r(122);r(248)("keys",function(){return function(e){return i(n(e))}})},function(e,t,r){var n=r(879),i=r(112),o=/[&<>"']/g,a=RegExp(o.source);e.exports=function(e){return(e=i(e))&&a.test(e)?e.replace(o,n):e}},function(e,t,r){var n=r(417)({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});e.exports=n},function(e,t,r){var n=r(108);e.exports=function(e,t){return n(t,function(t){return e[t]})}},function(e,t,r){var n=r(882),i=r(111),o=r(198),a=o&&o.isDate,u=a?i(a):n;e.exports=u},function(e,t,r){var n=r(69),i=r(38),o="[object Date]";e.exports=function(e){return i(e)&&n(e)==o}},function(e,t,r){var n=r(289);e.exports=function(e,t){return n(e,t)}},function(e,t,r){var n=r(190),i=r(423),o=r(887),a=r(889),u=r(153),s=r(4),c=r(148),f=r(197),l=1,d="[object Arguments]",p="[object Array]",h="[object Object]",v=Object.prototype.hasOwnProperty;e.exports=function(e,t,r,g,y,m){var b=s(e),_=s(t),w=b?p:u(e),S=_?p:u(t),k=(w=w==d?h:w)==h,x=(S=S==d?h:S)==h,E=w==S;if(E&&c(e)){if(!c(t))return!1;b=!0,k=!1}if(E&&!k)return m||(m=new n),b||f(e)?i(e,t,r,g,y,m):o(e,t,w,r,g,y,m);if(!(r&l)){var T=k&&v.call(e,"__wrapped__"),O=x&&v.call(t,"__wrapped__");if(T||O){var P=T?e.value():e,C=O?t.value():t;return m||(m=new n),y(P,C,r,g,m)}}return!!E&&(m||(m=new n),a(e,t,r,g,y,m))}},function(e,t){var r="__lodash_hash_undefined__";e.exports=function(e){return this.__data__.set(e,r),this}},function(e,t){e.exports=function(e){return this.__data__.has(e)}},function(e,t,r){var n=r(126),i=r(378),o=r(125),a=r(423),u=r(888),s=r(292),c=1,f=2,l="[object Boolean]",d="[object Date]",p="[object Error]",h="[object Map]",v="[object Number]",g="[object RegExp]",y="[object Set]",m="[object String]",b="[object Symbol]",_="[object ArrayBuffer]",w="[object DataView]",S=n?n.prototype:void 0,k=S?S.valueOf:void 0;e.exports=function(e,t,r,n,S,x,E){switch(r){case w:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case _:return!(e.byteLength!=t.byteLength||!x(new i(e),new i(t)));case l:case d:case v:return o(+e,+t);case p:return e.name==t.name&&e.message==t.message;case g:case m:return e==t+"";case h:var T=u;case y:var O=n&c;if(T||(T=s),e.size!=t.size&&!O)return!1;var P=E.get(e);if(P)return P==t;n|=f,E.set(e,t);var C=a(T(e),T(t),n,S,x,E);return E.delete(e),C;case b:if(k)return k.call(e)==k.call(t)}return!1}},function(e,t){e.exports=function(e){var t=-1,r=Array(e.size);return e.forEach(function(e,n){r[++t]=[n,e]}),r}},function(e,t,r){var n=r(373),i=1,o=Object.prototype.hasOwnProperty;e.exports=function(e,t,r,a,u,s){var c=r&i,f=n(e),l=f.length;if(l!=n(t).length&&!c)return!1;for(var d=l;d--;){var p=f[d];if(!(c?p in t:o.call(t,p)))return!1}var h=s.get(e);if(h&&s.get(t))return h==t;var v=!0;s.set(e,t),s.set(t,e);for(var g=c;++d<l;){var y=e[p=f[d]],m=t[p];if(a)var b=c?a(m,y,p,t,e,s):a(y,m,p,e,t,s);if(!(void 0===b?y===m||u(y,m,r,a,s):b)){v=!1;break}g||(g="constructor"==p)}if(v&&!g){var _=e.constructor,w=t.constructor;_!=w&&"constructor"in e&&"constructor"in t&&!("function"==typeof _&&_ instanceof _&&"function"==typeof w&&w instanceof w)&&(v=!1)}return s.delete(e),s.delete(t),v}},function(e,t){var r=Object.prototype.hasOwnProperty;e.exports=function(e,t){return null!=e&&r.call(e,t)}},function(e,t,r){var n=r(290),i=r(283),o=r(426),a=r(291),u=r(892),s=r(292),c=200;e.exports=function(e,t,r){var f=-1,l=i,d=e.length,p=!0,h=[],v=h;if(r)p=!1,l=o;else if(d>=c){var g=t?null:u(e);if(g)return s(g);p=!1,l=a,v=new n}else v=t?[]:h;e:for(;++f<d;){var y=e[f],m=t?t(y):y;if(y=r||0!==y?y:0,p&&m==m){for(var b=v.length;b--;)if(v[b]===m)continue e;t&&v.push(m),h.push(y)}else l(v,m,r)||(v!==h&&v.push(m),h.push(y))}return h}},function(e,t,r){var n=r(376),i=r(400),o=r(292),a=n&&1/o(new n([,-0]))[1]==1/0?function(e){return new n(e)}:i;e.exports=a},function(e,t,r){var n=r(415),i=/\s+/;t.triggerEvents=function(e,t){var r,n=-1,i=e.length,o=t[0],a=t[1],u=t[2];switch(t.length){case 0:for(;++n<i;)(r=e[n]).callback.call(r.ctx);return;case 1:for(;++n<i;)(r=e[n]).callback.call(r.ctx,o);return;case 2:for(;++n<i;)(r=e[n]).callback.call(r.ctx,o,a);return;case 3:for(;++n<i;)(r=e[n]).callback.call(r.ctx,o,a,u);return;default:for(;++n<i;)(r=e[n]).callback.apply(r.ctx,t);return}},t.eventsApi=function(e,t,r,n){if(!r)return!0;if("object"==typeof r){for(var o in r)e[t].apply(e,[o,r[o]].concat(n));return!1}if(i.test(r)){for(var a=r.split(i),u=0,s=a.length;u<s;u++)e[t].apply(e,[a[u]].concat(n));return!1}return!0},t.createListenMethod=function(e){return function(t,r,i){if(!t)throw new Error("Trying to listenTo event: '"+r+"' but the target object is undefined");if((this._listeningTo||(this._listeningTo={}))[t._listenId||(t._listenId=n("l"))]=t,i||"object"!=typeof r||(i=this),"function"!=typeof t[e])throw new Error("Trying to listenTo event: '"+r+"' on object: "+t.toString()+" but it does not have an 'on' method so is unbindable");return t[e](r,i,this),this}}},function(e,t){var r=Array.prototype.slice;function n(e){if("object"!=typeof(e=e||{}))throw new TypeError("Options must be an object");this.storage={},this.separator=e.separator||"."}n.prototype.add=function(e,t){(this.storage[e]||(this.storage[e]=[])).push(t)},n.prototype.remove=function(e){var t,r;for(t in this.storage)(r=this.storage[t]).some(function(t,n){if(t===e)return r.splice(n,1),!0})},n.prototype.get=function(e){var t,r=[];for(t in this.storage)e&&e!==t&&0!==t.indexOf(e+this.separator)||(r=r.concat(this.storage[t]));return r},n.prototype.getGrouped=function(e){var t,n={};for(t in this.storage)e&&e!==t&&0!==t.indexOf(e+this.separator)||(n[t]=r.call(this.storage[t]));return n},n.prototype.getAll=function(e){var t,n={};for(t in this.storage)e!==t&&0!==t.indexOf(e+this.separator)||(n[t]=r.call(this.storage[t]));return n},n.prototype.run=function(e,t){var n=r.call(arguments,2);this.get(e).forEach(function(e){e.apply(t||this,n)})},e.exports=n},function(e,t){e.exports=function(e,t){var r=e.length,n=e.indexOf(t)+1;return n>r-1&&(n=0),e[n]}},function(e,t,r){r(143),r(104),r(105),r(897),r(898),r(899),r(900),e.exports=r(7).Set},function(e,t,r){"use strict";var n=r(391),i=r(159);e.exports=r(273)("Set",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{add:function(e){return n.def(i(this,"Set"),e=0===e?0:e,e)}},n)},function(e,t,r){var n=r(18);n(n.P+n.R,"Set",{toJSON:r(392)("Set")})},function(e,t,r){r(274)("Set")},function(e,t,r){r(275)("Set")},function(e,t,r){var n=r(37);e.exports=function(){return n.Date.now()}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d(r(43)),i=d(r(49)),o=d(r(1)),a=d(r(60)),u=d(r(8)),s=d(r(11)),c=d(r(44));t.default=function(e,t){var r,c,d=(r=(0,l.oneFlight)({keyFactory:function(e){return e}}),function(e,t,r,n,i){var o={};Object.keys(n).forEach(function(e){o[e]=n[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0);o=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0);void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null)}
/*!
   * Copyright (c) 2015-2017 Cisco Systems, Inc. See LICENSE file.
   */((c=function(){function r(){(0,u.default)(this,r),t.logger.debug("spark-store: constructing "+e+"Storage"),p.set(this,new a.default)}return(0,s.default)(r,[{key:"clear",value:function(){var e=[];return this.bindings.forEach(function(t){e.push(t.clear())}),o.default.all(e)}},{key:"del",value:function(e,r){return t.logger.debug("spark-store: removing "+e+":"+r),this._getBinding(e).then(function(e){return e.del(r)})}},{key:"get",value:function(e,r){return t.logger.debug("spark-store: retrieving "+e+":"+r),this._getBinding(e).then(function(e){return e.get(r)})}},{key:"put",value:function(e,r,n){return void 0===n?this.del(e,r):(t.logger.debug("spark-store: setting "+e+":"+r),this._getBinding(e).then(function(e){return e.put(r,n.serialize?n.serialize():n)}).then(function(){return n}))}},{key:"_getBinding",value:function(e){var r=this;return new o.default(function(n){t.logger.debug("storage: getting binding for `"+e+"`");var i=r.bindings.get(e);return i?(t.logger.debug("storage: found binding for `"+e+"`"),n(i)):n(r.adapter.bind(e,{logger:t.logger}).then(function(n){return t.logger.debug("storage: made binding for `"+e+"`"),r.bindings.set(e,n),n}))})}},{key:"adapter",get:function(){return t.config.storage[e+"Adapter"]}},{key:"bindings",get:function(){return p.get(this)}}]),r}()).prototype,"_getBinding",[r],(0,i.default)(c.prototype,"_getBinding"),c.prototype),c);return(0,n.default)(d.prototype,f.default),new d};var f=d(r(209)),l=r(13);function d(e){return e&&e.__esModule?e:{default:e}}var p=new c.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=h(r(49)),i=h(r(60)),o=h(r(8)),a=h(r(11)),u=h(r(31)),s=h(r(44)),c=h(r(293)),f=h(r(19)),l=h(r(4));t.default=function(e,t){var r,u;return new(r=(0,d.oneFlight)({keyFactory:function(e){return"initValue-"+e}}),function(e,t,r,n,i){var o={};Object.keys(n).forEach(function(e){o[e]=n[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0);o=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0);void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null)}
/*!
   * Copyright (c) 2015-2017 Cisco Systems, Inc. See LICENSE file.
   */((u=function(){function r(){(0,o.default)(this,r),v.set(this,new i.default)}return(0,a.default)(r,[{key:"clear",value:function(){return t.spark[e+"Storage"].del(t.getNamespace())}},{key:"del",value:function(){for(var r,n=arguments.length,i=Array(n),o=0;o<n;o++)i[o]=arguments[o];return(r=t.spark[e+"Storage"]).del.apply(r,[t.getNamespace()].concat(i))}},{key:"get",value:function(r){var n=v.get(this).get(r);return n||(n=new d.Defer,v.get(this).set(r,n)),t.spark[e+"Storage"].get(t.getNamespace(),r).then(function(e){return n.resolve(),e})}},{key:"put",value:function(r,n){return t.spark[e+"Storage"].put(t.getNamespace(),r,g(n))}},{key:"waitFor",value:function(e){t.logger.debug("plugin-storage("+t.getNamespace()+"): waiting to init key `"+e+"`");var r=v.get(this).get(e);return r?(t.logger.debug("plugin-storage("+t.getNamespace()+"): already inited `"+e+"`"),r.promise):(t.logger.debug("plugin-storage("+t.getNamespace()+"): initing `"+e+"`"),this.initValue(e))}},{key:"initValue",value:function(r){var n=new d.Defer;return v.get(this).set(r,n),t.spark[e+"Storage"].get(t.getNamespace(),r).then(function(e){t.logger.debug("plugin-storage("+t.getNamespace()+"): got `"+r+"` for first time"),"@"===r?t.parent.set(e):(0,c.default)(t[r],"isState")?t[r].set(e):t.set(r,e),t.logger.debug("plugin-storage("+t.getNamespace()+"): set `"+r+"` for first time"),n.resolve(),t.logger.debug("plugin-storage("+t.getNamespace()+"): inited `"+r+"`")}).catch(function(e){return e instanceof p.NotFoundError||e.toString().includes("MockNotFoundError")?(t.logger.debug("plugin-storage("+t.getNamespace()+"): no data for `"+r+"`, continuing"),n.resolve()):(t.logger.warn("plugin-storage("+t.getNamespace()+"): failed to init `"+r+"`",e),n.reject(e))}),n.promise}}]),r}()).prototype,"initValue",[r],(0,n.default)(u.prototype,"initValue"),u.prototype),u)};var d=r(13),p=r(212);function h(e){return e&&e.__esModule?e:{default:e}}var v=new s.default;function g(e){if(!(0,f.default)(e))return e;var t=e.serialize?e.serialize():e;return(0,u.default)(t).forEach(function(e){var r=t[e];(0,l.default)(r)?0===r.length?t[e]=void 0:t[e]=r.map(g):(0,f.default)(r)&&(0,u.default)(r).forEach(function(e){r[e]=g(r[e])})}),(0,u.default)(t).reduce(function(e,r){return e&&!t[r]},!0)?void 0:t}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=u(r(31)),i=u(r(60)),o=u(r(1)),a=r(212);function u(e){return e&&e.__esModule?e:{default:e}}function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t=t||{},!e)return o.default.reject(new Error("`namespace` is required"));if(!t.logger)return o.default.reject(new Error("`options.logger` is required"));var r=t.logger,u=new i.default;return t.data&&(0,n.default)(t.data).forEach(function(e){u.set(e,t.data[e])}),r.debug("memory-store-adapter: returning binding"),o.default.resolve({clear:function(){return r.debug("memory-store-adapter: clearing the binding"),o.default.resolve(u.clear())},del:function(e){return r.debug("memory-store-adapter: deleting `"+e+"`"),o.default.resolve(u.delete(e))},get:function(e){r.debug("memory-store-adapter: reading `"+e+"`");var t=u.get(e);return void 0===t?o.default.reject(new a.NotFoundError):o.default.resolve(t)},put:function(e,t){return r.debug("memory-store-adapter: writing `"+e+"`"),o.default.resolve(u.set(e,t))}})}
/*!
   * Copyright (c) 2015-2017 Cisco Systems, Inc. See LICENSE file.
   */t.default={bind:s,preload:function(e){return{bind:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e[t]&&(r.data=e[t]),s(t,r)}}}}},function(e,t,r){r(906);var n=r(7).Object;e.exports=function(e,t){return n.defineProperties(e,t)}},function(e,t,r){var n=r(18);n(n.S+n.F*!r(57),"Object",{defineProperties:r(349)})},function(e,t,r){e.exports={default:r(908),__esModule:!0}},function(e,t,r){r(105),r(104),e.exports=r(909)},function(e,t,r){var n=r(187),i=r(35)("iterator"),o=r(121);e.exports=r(7).isIterable=function(e){var t=Object(e);return void 0!==t[i]||"@@iterator"in t||o.hasOwnProperty(n(t))}},function(e,t,r){r(105),r(104),e.exports=r(911)},function(e,t,r){var n=r(29),i=r(255);e.exports=r(7).getIterator=function(e){var t=i(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return n(t.call(e))}},function(e,t,r){var n=r(913),i=r(433);e.exports=function(e,t){return n(e,t,function(t,r){return i(e,r)})}},function(e,t,r){var n=r(203),i=r(432),o=r(87);e.exports=function(e,t,r){for(var a=-1,u=t.length,s={};++a<u;){var c=t[a],f=n(e,c);r(f,c)&&i(s,o(c,e),f)}return s}},function(e,t){e.exports=function(e,t){return null!=e&&t in Object(e)}},function(e,t,r){r(916),e.exports=r(7).Reflect.defineProperty},function(e,t,r){var n=r(50),i=r(18),o=r(29),a=r(184);i(i.S+i.F*r(58)(function(){Reflect.defineProperty(n.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(e,t,r){o(e),t=a(t,!0),o(r);try{return n.f(e,t,r),!0}catch(e){return!1}}})},function(e,t,r){e.exports={default:r(918),__esModule:!0}},function(e,t,r){r(919),e.exports=r(7).Reflect.getOwnPropertyDescriptor},function(e,t,r){var n=r(140),i=r(18),o=r(29);i(i.S,"Reflect",{getOwnPropertyDescriptor:function(e,t){return n.f(o(e),t)}})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(r(434)),i=a(r(164)),o=a(r(923));function a(e){return e&&e.__esModule?e:{default:e}}
/*!
 * Copyright (c) 2015-2017 Cisco Systems, Inc. See LICENSE file.
 */t.default=function(e,t){(0,i.default)(this,{loaded:{enumerable:!0,value:e,writable:!1},total:{enumerable:!0,value:t,writable:!1},lengthComputable:{enumerable:!0,value:(0,o.default)(e)&&!(0,n.default)(e)&&(0,o.default)(t)&&!(0,n.default)(t)&&t>0,writable:!1}})}},function(e,t,r){r(922),e.exports=r(7).Number.isNaN},function(e,t,r){var n=r(18);n(n.S,"Number",{isNaN:function(e){return e!=e}})},function(e,t,r){var n=r(69),i=r(38),o="[object Number]";e.exports=function(e){return"number"==typeof e||i(e)&&n(e)==o}},function(e,t,r){r(925),e.exports=r(7).Object.values},function(e,t,r){var n=r(18),i=r(437)(!1);n(n.S,"Object",{values:function(e){return i(e)}})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s(r(43)),i=s(r(14)),o=s(r(8)),a=s(r(15)),u=s(r(16));function s(e){return e&&e.__esModule?e:{default:e}}
/*!
 * Copyright (c) 2015-2017 Cisco Systems, Inc. See LICENSE file.
 */t.default=function(e){var t=function(e){function t(){return(0,o.default)(this,t),(0,a.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments))}return(0,u.default)(t,e),t}(e),r=function(e){function t(){return(0,o.default)(this,t),(0,a.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments))}return(0,u.default)(t,e),t}(e),s=function(e){function t(){return(0,o.default)(this,t),(0,a.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments))}return(0,u.default)(t,e),t}(r),c=function(e){function t(){return(0,o.default)(this,t),(0,a.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments))}return(0,u.default)(t,e),t}(r),f=function(e){function t(){return(0,o.default)(this,t),(0,a.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments))}return(0,u.default)(t,e),t}(r),l=function(e){function t(){return(0,o.default)(this,t),(0,a.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments))}return(0,u.default)(t,e),t}(r),d=function(e){function t(){return(0,o.default)(this,t),(0,a.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments))}return(0,u.default)(t,e),t}(r),p=function(e){function t(){return(0,o.default)(this,t),(0,a.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments))}return(0,u.default)(t,e),t}(r),h=function(e){function t(){return(0,o.default)(this,t),(0,a.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments))}return(0,u.default)(t,e),t}(r),v=function(e){function t(){return(0,o.default)(this,t),(0,a.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments))}return(0,u.default)(t,e),t}(r),g=function(e){function t(){return(0,o.default)(this,t),(0,a.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments))}return(0,u.default)(t,e),t}(r),y=function(e){function t(){return(0,o.default)(this,t),(0,a.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments))}return(0,u.default)(t,e),t}(r),m=function(e){function t(){return(0,o.default)(this,t),(0,a.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments))}return(0,u.default)(t,e),t}(r),b=function(e){function t(){return(0,o.default)(this,t),(0,a.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments))}return(0,u.default)(t,e),t}(r),_=function(e){function t(){return(0,o.default)(this,t),(0,a.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments))}return(0,u.default)(t,e),t}(r),w=function(e){function t(){return(0,o.default)(this,t),(0,a.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments))}return(0,u.default)(t,e),t}(r),S=function(e){function t(){return(0,o.default)(this,t),(0,a.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments))}return(0,u.default)(t,e),t}(r),k=function(e){function t(){return(0,o.default)(this,t),(0,a.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments))}return(0,u.default)(t,e),t}(r),x=function(e){function t(){return(0,o.default)(this,t),(0,a.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments))}return(0,u.default)(t,e),t}(r),E=function(e){function t(){return(0,o.default)(this,t),(0,a.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments))}return(0,u.default)(t,e),t}(r),T=function(e){function t(){return(0,o.default)(this,t),(0,a.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments))}return(0,u.default)(t,e),t}(e),O=function(e){function t(){return(0,o.default)(this,t),(0,a.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments))}return(0,u.default)(t,e),t}(T),P=function(e){function t(){return(0,o.default)(this,t),(0,a.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments))}return(0,u.default)(t,e),t}(T),C=function(e){function t(){return(0,o.default)(this,t),(0,a.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments))}return(0,u.default)(t,e),t}(T),M=function(e){function t(){return(0,o.default)(this,t),(0,a.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments))}return(0,u.default)(t,e),t}(T),j=function(e){function t(){return(0,o.default)(this,t),(0,a.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments))}return(0,u.default)(t,e),t}(T);(0,n.default)(e,{0:t,NetworkOrCORSError:t,400:r,BadRequest:r,401:s,Unauthorized:s,402:c,PaymentRequired:c,403:f,Forbidden:f,404:l,NotFound:l,405:d,MethodNotAllowed:d,406:p,NotAcceptable:p,407:h,ProxyAuthenticationRequired:h,408:v,RequestTimeout:v,409:g,Conflict:g,410:y,Gone:y,411:m,LengthRequired:m,412:b,PreconditionFailed:b,413:_,RequestEntityTooLarge:_,414:w,RequestUriTooLong:w,415:S,UnsupportedMediaType:S,416:k,RequestRangeNotSatisfiable:k,417:x,ExpectationFailed:x,429:E,TooManyRequests:E,500:T,InternalServerError:T,501:O,NotImplemented:O,502:P,BadGateway:P,503:C,ServiceUnavailable:C,504:M,GatewayTimeout:M,505:j,HttpVersionNotSupported:j,select:function(t){if(void 0===t||null===t)return e;t=t.statusCode||t;var r=e[t];return r||(t=t.toString().split("").shift()+"00",t=parseInt(t,10),e[t]||e)}})}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(r(1)),i=l(r(164)),o=l(r(14)),a=l(r(8)),u=l(r(11)),s=l(r(15)),c=l(r(16)),f=l(r(436));function l(e){return e&&e.__esModule?e:{default:e}}
/*!
 * Copyright (c) 2015-2017 Cisco Systems, Inc. See LICENSE file.
 */var d=function(e){function t(e,r){(0,a.default)(this,t);var n=(0,s.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e)),u=r&&(r.error||r.ErrorConstructor)||f.default;return(0,i.default)(n,{ErrorConstructor:{value:u}}),n}return(0,c.default)(t,e),(0,u.default)(t,[{key:"onResponse",value:function(e,t){if(t.statusCode){if(t.statusCode<400)return n.default.resolve(t);if(404===t.statusCode&&t.body&&2000002===t.body.errorCode)return n.default.resolve(t)}return n.default.reject(new(this.ErrorConstructor.select(t.statusCode))(t))}}],[{key:"create",value:function(e){return new t(this,e)}}]),t}(l(r(435)).default);t.default=d},function(e,t,r){"use strict";e.exports=function(e){return e&&e.length>1?255===e[0]&&216===e[1]&&255===e[2]?{ext:"jpg",mime:"image/jpeg"}:137===e[0]&&80===e[1]&&78===e[2]&&71===e[3]?{ext:"png",mime:"image/png"}:71===e[0]&&73===e[1]&&70===e[2]?{ext:"gif",mime:"image/gif"}:87===e[8]&&69===e[9]&&66===e[10]&&80===e[11]?{ext:"webp",mime:"image/webp"}:70===e[0]&&76===e[1]&&73===e[2]&&70===e[3]?{ext:"flif",mime:"image/flif"}:(73===e[0]&&73===e[1]&&42===e[2]&&0===e[3]||77===e[0]&&77===e[1]&&0===e[2]&&42===e[3])&&67===e[8]&&82===e[9]?{ext:"cr2",mime:"image/x-canon-cr2"}:73===e[0]&&73===e[1]&&42===e[2]&&0===e[3]||77===e[0]&&77===e[1]&&0===e[2]&&42===e[3]?{ext:"tif",mime:"image/tiff"}:66===e[0]&&77===e[1]?{ext:"bmp",mime:"image/bmp"}:73===e[0]&&73===e[1]&&188===e[2]?{ext:"jxr",mime:"image/vnd.ms-photo"}:56===e[0]&&66===e[1]&&80===e[2]&&83===e[3]?{ext:"psd",mime:"image/vnd.adobe.photoshop"}:80===e[0]&&75===e[1]&&3===e[2]&&4===e[3]&&109===e[30]&&105===e[31]&&109===e[32]&&101===e[33]&&116===e[34]&&121===e[35]&&112===e[36]&&101===e[37]&&97===e[38]&&112===e[39]&&112===e[40]&&108===e[41]&&105===e[42]&&99===e[43]&&97===e[44]&&116===e[45]&&105===e[46]&&111===e[47]&&110===e[48]&&47===e[49]&&101===e[50]&&112===e[51]&&117===e[52]&&98===e[53]&&43===e[54]&&122===e[55]&&105===e[56]&&112===e[57]?{ext:"epub",mime:"application/epub+zip"}:80===e[0]&&75===e[1]&&3===e[2]&&4===e[3]&&77===e[30]&&69===e[31]&&84===e[32]&&65===e[33]&&45===e[34]&&73===e[35]&&78===e[36]&&70===e[37]&&47===e[38]&&109===e[39]&&111===e[40]&&122===e[41]&&105===e[42]&&108===e[43]&&108===e[44]&&97===e[45]&&46===e[46]&&114===e[47]&&115===e[48]&&97===e[49]?{ext:"xpi",mime:"application/x-xpinstall"}:80!==e[0]||75!==e[1]||3!==e[2]&&5!==e[2]&&7!==e[2]||4!==e[3]&&6!==e[3]&&8!==e[3]?117===e[257]&&115===e[258]&&116===e[259]&&97===e[260]&&114===e[261]?{ext:"tar",mime:"application/x-tar"}:82!==e[0]||97!==e[1]||114!==e[2]||33!==e[3]||26!==e[4]||7!==e[5]||0!==e[6]&&1!==e[6]?31===e[0]&&139===e[1]&&8===e[2]?{ext:"gz",mime:"application/gzip"}:66===e[0]&&90===e[1]&&104===e[2]?{ext:"bz2",mime:"application/x-bzip2"}:55===e[0]&&122===e[1]&&188===e[2]&&175===e[3]&&39===e[4]&&28===e[5]?{ext:"7z",mime:"application/x-7z-compressed"}:120===e[0]&&1===e[1]?{ext:"dmg",mime:"application/x-apple-diskimage"}:0===e[0]&&0===e[1]&&0===e[2]&&(24===e[3]||32===e[3])&&102===e[4]&&116===e[5]&&121===e[6]&&112===e[7]||51===e[0]&&103===e[1]&&112===e[2]&&53===e[3]||0===e[0]&&0===e[1]&&0===e[2]&&28===e[3]&&102===e[4]&&116===e[5]&&121===e[6]&&112===e[7]&&109===e[8]&&112===e[9]&&52===e[10]&&50===e[11]&&109===e[16]&&112===e[17]&&52===e[18]&&49===e[19]&&109===e[20]&&112===e[21]&&52===e[22]&&50===e[23]&&105===e[24]&&115===e[25]&&111===e[26]&&109===e[27]||0===e[0]&&0===e[1]&&0===e[2]&&28===e[3]&&102===e[4]&&116===e[5]&&121===e[6]&&112===e[7]&&105===e[8]&&115===e[9]&&111===e[10]&&109===e[11]||0===e[0]&&0===e[1]&&0===e[2]&&28===e[3]&&102===e[4]&&116===e[5]&&121===e[6]&&112===e[7]&&109===e[8]&&112===e[9]&&52===e[10]&&50===e[11]&&0===e[12]&&0===e[13]&&0===e[14]&&0===e[15]?{ext:"mp4",mime:"video/mp4"}:0===e[0]&&0===e[1]&&0===e[2]&&28===e[3]&&102===e[4]&&116===e[5]&&121===e[6]&&112===e[7]&&77===e[8]&&52===e[9]&&86===e[10]?{ext:"m4v",mime:"video/x-m4v"}:77===e[0]&&84===e[1]&&104===e[2]&&100===e[3]?{ext:"mid",mime:"audio/midi"}:109===e[31]&&97===e[32]&&116===e[33]&&114===e[34]&&111===e[35]&&115===e[36]&&107===e[37]&&97===e[38]?{ext:"mkv",mime:"video/x-matroska"}:26===e[0]&&69===e[1]&&223===e[2]&&163===e[3]?{ext:"webm",mime:"video/webm"}:0===e[0]&&0===e[1]&&0===e[2]&&20===e[3]&&102===e[4]&&116===e[5]&&121===e[6]&&112===e[7]?{ext:"mov",mime:"video/quicktime"}:82===e[0]&&73===e[1]&&70===e[2]&&70===e[3]&&65===e[8]&&86===e[9]&&73===e[10]?{ext:"avi",mime:"video/x-msvideo"}:48===e[0]&&38===e[1]&&178===e[2]&&117===e[3]&&142===e[4]&&102===e[5]&&207===e[6]&&17===e[7]&&166===e[8]&&217===e[9]?{ext:"wmv",mime:"video/x-ms-wmv"}:0===e[0]&&0===e[1]&&1===e[2]&&"b"===e[3].toString(16)[0]?{ext:"mpg",mime:"video/mpeg"}:73===e[0]&&68===e[1]&&51===e[2]||255===e[0]&&251===e[1]?{ext:"mp3",mime:"audio/mpeg"}:102===e[4]&&116===e[5]&&121===e[6]&&112===e[7]&&77===e[8]&&52===e[9]&&65===e[10]||77===e[0]&&52===e[1]&&65===e[2]&&32===e[3]?{ext:"m4a",mime:"audio/m4a"}:79===e[28]&&112===e[29]&&117===e[30]&&115===e[31]&&72===e[32]&&101===e[33]&&97===e[34]&&100===e[35]?{ext:"opus",mime:"audio/opus"}:79===e[0]&&103===e[1]&&103===e[2]&&83===e[3]?{ext:"ogg",mime:"audio/ogg"}:102===e[0]&&76===e[1]&&97===e[2]&&67===e[3]?{ext:"flac",mime:"audio/x-flac"}:82===e[0]&&73===e[1]&&70===e[2]&&70===e[3]&&87===e[8]&&65===e[9]&&86===e[10]&&69===e[11]?{ext:"wav",mime:"audio/x-wav"}:35===e[0]&&33===e[1]&&65===e[2]&&77===e[3]&&82===e[4]&&10===e[5]?{ext:"amr",mime:"audio/amr"}:37===e[0]&&80===e[1]&&68===e[2]&&70===e[3]?{ext:"pdf",mime:"application/pdf"}:77===e[0]&&90===e[1]?{ext:"exe",mime:"application/x-msdownload"}:67!==e[0]&&70!==e[0]||87!==e[1]||83!==e[2]?123===e[0]&&92===e[1]&&114===e[2]&&116===e[3]&&102===e[4]?{ext:"rtf",mime:"application/rtf"}:119===e[0]&&79===e[1]&&70===e[2]&&70===e[3]&&(0===e[4]&&1===e[5]&&0===e[6]&&0===e[7]||79===e[4]&&84===e[5]&&84===e[6]&&79===e[7])?{ext:"woff",mime:"application/font-woff"}:119===e[0]&&79===e[1]&&70===e[2]&&50===e[3]&&(0===e[4]&&1===e[5]&&0===e[6]&&0===e[7]||79===e[4]&&84===e[5]&&84===e[6]&&79===e[7])?{ext:"woff2",mime:"application/font-woff"}:76===e[34]&&80===e[35]&&(0===e[8]&&0===e[9]&&1===e[10]||1===e[8]&&0===e[9]&&2===e[10]||2===e[8]&&0===e[9]&&2===e[10])?{ext:"eot",mime:"application/octet-stream"}:0===e[0]&&1===e[1]&&0===e[2]&&0===e[3]&&0===e[4]?{ext:"ttf",mime:"application/font-sfnt"}:79===e[0]&&84===e[1]&&84===e[2]&&79===e[3]&&0===e[4]?{ext:"otf",mime:"application/font-sfnt"}:0===e[0]&&0===e[1]&&1===e[2]&&0===e[3]?{ext:"ico",mime:"image/x-icon"}:70===e[0]&&76===e[1]&&86===e[2]&&1===e[3]?{ext:"flv",mime:"video/x-flv"}:37===e[0]&&33===e[1]?{ext:"ps",mime:"application/postscript"}:253===e[0]&&55===e[1]&&122===e[2]&&88===e[3]&&90===e[4]&&0===e[5]?{ext:"xz",mime:"application/x-xz"}:83===e[0]&&81===e[1]&&76===e[2]&&105===e[3]?{ext:"sqlite",mime:"application/x-sqlite3"}:78===e[0]&&69===e[1]&&83===e[2]&&26===e[3]?{ext:"nes",mime:"application/x-nintendo-nes-rom"}:67===e[0]&&114===e[1]&&50===e[2]&&52===e[3]?{ext:"crx",mime:"application/x-google-chrome-extension"}:77===e[0]&&83===e[1]&&67===e[2]&&70===e[3]||73===e[0]&&83===e[1]&&99===e[2]&&40===e[3]?{ext:"cab",mime:"application/vnd.ms-cab-compressed"}:33===e[0]&&60===e[1]&&97===e[2]&&114===e[3]&&99===e[4]&&104===e[5]&&62===e[6]&&10===e[7]&&100===e[8]&&101===e[9]&&98===e[10]&&105===e[11]&&97===e[12]&&110===e[13]&&45===e[14]&&98===e[15]&&105===e[16]&&110===e[17]&&97===e[18]&&114===e[19]&&121===e[20]?{ext:"deb",mime:"application/x-deb"}:33===e[0]&&60===e[1]&&97===e[2]&&114===e[3]&&99===e[4]&&104===e[5]&&62===e[6]?{ext:"ar",mime:"application/x-unix-archive"}:237===e[0]&&171===e[1]&&238===e[2]&&219===e[3]?{ext:"rpm",mime:"application/x-rpm"}:31===e[0]&&160===e[1]||31===e[0]&&157===e[1]?{ext:"Z",mime:"application/x-compress"}:76===e[0]&&90===e[1]&&73===e[2]&&80===e[3]?{ext:"lz",mime:"application/x-lzip"}:208===e[0]&&207===e[1]&&17===e[2]&&224===e[3]&&161===e[4]&&177===e[5]&&26===e[6]&&225===e[7]?{ext:"msi",mime:"application/x-msi"}:null:{ext:"swf",mime:"application/x-shockwave-flash"}:{ext:"rar",mime:"application/x-rar-compressed"}:{ext:"zip",mime:"application/zip"}:null}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=u(r(1));t.default=function(e){e.url&&(e.uri=e.url,e.url=null);e.headers=e.headers||{},o.inBrowser||e.headers["user-agent"]||(e.headers["user-agent"]="@ciscospark/http-core");return e.download=new a.EventEmitter,e.upload=new a.EventEmitter,t(e.interceptors,"Request").then(function(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return i.default.apply(void 0,[e].concat(r))}).then(function(){for(var r=arguments.length,n=Array(r),i=0;i<r;i++)n[i]=arguments[i];return t.apply(void 0,[e.interceptors.slice().reverse(),"Response"].concat(n))});function t(t,r,i){var o="on"+r,a="on"+r+"Error";return t.reduce(function(t,r){return t.then(function(t){return r[o]?r[o](e,t):n.default.resolve(t)},function(t){return r[a]?r[a](e,t):n.default.reject(t)})},n.default.resolve(i))}}
/*!
   * Copyright (c) 2015-2017 Cisco Systems, Inc. See LICENSE file.
   */;var i=u(r(930)),o=r(13),a=r(62);function u(e){return e&&e.__esModule?e:{default:e}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=h(r(90)),i=h(r(30)),o=h(r(77)),a=h(r(31)),u=h(r(1)),s=h(r(301)),c=h(r(4)),f=h(r(72));t.default=function(e){return new u.default(function(t){var r=(0,s.default)(e,"method","uri","withCredentials","headers","timeout","responseType");r.response=!0,function(e,t){e.method&&["PATCH","POST","PUT"].includes(e.method.toUpperCase())&&(e.xhr=new XMLHttpRequest,e.xhr.upload.onprogress=t.upload.emit.bind(t.upload,"progress"))}(r,e),function(e,t){if(t.auth)if(t.auth.bearer)e.headers.authorization="Bearer "+t.auth.bearer;else{var r=t.auth.user||t.auth.username,n=t.auth.pass||t.auth.password,i=btoa(r+":"+n);e.headers.authorization="Basic "+i}}(r,e),function(e,t){t.jar&&(e.withCredentials=!0)}(r,e),function(e,t){var r={cors:!0,withCredentials:!1,timeout:0};(0,f.default)(e,(0,s.default)(t,(0,a.default)(r)),r)}(r,e),function(e,t){"buffer"===t.responseType&&(e.responseType="arraybuffer")}(r,e),function(e,t){(t.body instanceof Blob||t.body instanceof ArrayBuffer)&&(t.json=e.json=!1,e.headers["content-type"]=e.headers["content-type"]||(0,p.detectSync)(t.body))}(r,e),function(e,t){"json"in t&&!0!==t.json||!t.body?t.form?(e.headers["Content-Type"]="application/x-www-form-urlencoded",e.body=l.default.stringify(t.form),(0,i.default)(e,"json")):t.formData?e.body=(0,a.default)(t.formData).reduce(function(e,r){var n=t.formData[r];return function e(t,r,n){if((0,c.default)(n)){var i=!0,a=!1,u=void 0;try{for(var s,f=(0,o.default)(n);!(i=(s=f.next()).done);i=!0){var l=s.value;e(t,r,l)}}catch(e){a=!0,u=e}finally{try{!i&&f.return&&f.return()}finally{if(a)throw u}}return}n=function(e){if(e instanceof ArrayBuffer){var t=e.type?new Blob([e],{type:e.type}):new Blob([e]);return t.filename=e.filename||e.name||"untitled",t}return e}(n);n.name?(n.filename=n.name,t.append(r,n,n.name)):t.append(r,n)}(e,r,n),e},new FormData):(e.body=t.body,(0,i.default)(e,"json")):e.json=t.body}(r,e),function(e,t){t.qs&&(e.uri+="?"+l.default.stringify(t.qs))}(r,e);var u=(0,d.default)(r,function(i,o){i&&e.logger.warn(i),o?(o.options=e,function(e,t){if(!t.json&&"object"!==(0,n.default)(e.body))try{e.body=JSON.parse(e.body)}catch(e){}}(o,r),t(o)):t({statusCode:0,options:e,headers:e.headers,method:e.method,url:e.uri,body:i})});u.onprogress=e.download.emit.bind(e.download,"progress")}).catch(function(t){return{statusCode:0,options:e,headers:e.headers,method:e.method,url:e.uri,body:t}})}
/*!
   * Copyright (c) 2015-2017 Cisco Systems, Inc. See LICENSE file.
   */;var l=h(r(931)),d=h(r(934)),p=r(438);function h(e){return e&&e.__esModule?e:{default:e}}},function(e,t,r){"use strict";var n=r(932),i=r(933),o=r(440);e.exports={formats:o,parse:i,stringify:n}},function(e,t,r){"use strict";var n=r(439),i=r(440),o={brackets:function(e){return e+"[]"},indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},a=Date.prototype.toISOString,u={delimiter:"&",encode:!0,encoder:n.encode,encodeValuesOnly:!1,serializeDate:function(e){return a.call(e)},skipNulls:!1,strictNullHandling:!1},s=function e(t,r,i,o,a,s,c,f,l,d,p,h){var v=t;if("function"==typeof c)v=c(r,v);else if(v instanceof Date)v=d(v);else if(null===v){if(o)return s&&!h?s(r,u.encoder):r;v=""}if("string"==typeof v||"number"==typeof v||"boolean"==typeof v||n.isBuffer(v))return s?[p(h?r:s(r,u.encoder))+"="+p(s(v,u.encoder))]:[p(r)+"="+p(String(v))];var g,y=[];if(void 0===v)return y;if(Array.isArray(c))g=c;else{var m=Object.keys(v);g=f?m.sort(f):m}for(var b=0;b<g.length;++b){var _=g[b];a&&null===v[_]||(y=Array.isArray(v)?y.concat(e(v[_],i(r,_),i,o,a,s,c,f,l,d,p,h)):y.concat(e(v[_],r+(l?"."+_:"["+_+"]"),i,o,a,s,c,f,l,d,p,h)))}return y};e.exports=function(e,t){var r=e,a=t?n.assign({},t):{};if(null!==a.encoder&&void 0!==a.encoder&&"function"!=typeof a.encoder)throw new TypeError("Encoder has to be a function.");var c=void 0===a.delimiter?u.delimiter:a.delimiter,f="boolean"==typeof a.strictNullHandling?a.strictNullHandling:u.strictNullHandling,l="boolean"==typeof a.skipNulls?a.skipNulls:u.skipNulls,d="boolean"==typeof a.encode?a.encode:u.encode,p="function"==typeof a.encoder?a.encoder:u.encoder,h="function"==typeof a.sort?a.sort:null,v=void 0!==a.allowDots&&a.allowDots,g="function"==typeof a.serializeDate?a.serializeDate:u.serializeDate,y="boolean"==typeof a.encodeValuesOnly?a.encodeValuesOnly:u.encodeValuesOnly;if(void 0===a.format)a.format=i.default;else if(!Object.prototype.hasOwnProperty.call(i.formatters,a.format))throw new TypeError("Unknown format option provided.");var m,b,_=i.formatters[a.format];"function"==typeof a.filter?r=(b=a.filter)("",r):Array.isArray(a.filter)&&(m=b=a.filter);var w,S=[];if("object"!=typeof r||null===r)return"";w=a.arrayFormat in o?a.arrayFormat:"indices"in a?a.indices?"indices":"repeat":"indices";var k=o[w];m||(m=Object.keys(r)),h&&m.sort(h);for(var x=0;x<m.length;++x){var E=m[x];l&&null===r[E]||(S=S.concat(s(r[E],E,k,f,l,d?p:null,b,h,v,g,_,y)))}var T=S.join(c),O=!0===a.addQueryPrefix?"?":"";return T.length>0?O+T:""}},function(e,t,r){"use strict";var n=r(439),i=Object.prototype.hasOwnProperty,o={allowDots:!1,allowPrototypes:!1,arrayLimit:20,decoder:n.decode,delimiter:"&",depth:5,parameterLimit:1e3,plainObjects:!1,strictNullHandling:!1},a=function(e,t,r){if(e){var n=r.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/g,a=/(\[[^[\]]*])/.exec(n),u=a?n.slice(0,a.index):n,s=[];if(u){if(!r.plainObjects&&i.call(Object.prototype,u)&&!r.allowPrototypes)return;s.push(u)}for(var c=0;null!==(a=o.exec(n))&&c<r.depth;){if(c+=1,!r.plainObjects&&i.call(Object.prototype,a[1].slice(1,-1))&&!r.allowPrototypes)return;s.push(a[1])}return a&&s.push("["+n.slice(a.index)+"]"),function(e,t,r){for(var n=t,i=e.length-1;i>=0;--i){var o,a=e[i];if("[]"===a)o=(o=[]).concat(n);else{o=r.plainObjects?Object.create(null):{};var u="["===a.charAt(0)&&"]"===a.charAt(a.length-1)?a.slice(1,-1):a,s=parseInt(u,10);!isNaN(s)&&a!==u&&String(s)===u&&s>=0&&r.parseArrays&&s<=r.arrayLimit?(o=[])[s]=n:o[u]=n}n=o}return n}(s,t,r)}};e.exports=function(e,t){var r=t?n.assign({},t):{};if(null!==r.decoder&&void 0!==r.decoder&&"function"!=typeof r.decoder)throw new TypeError("Decoder has to be a function.");if(r.ignoreQueryPrefix=!0===r.ignoreQueryPrefix,r.delimiter="string"==typeof r.delimiter||n.isRegExp(r.delimiter)?r.delimiter:o.delimiter,r.depth="number"==typeof r.depth?r.depth:o.depth,r.arrayLimit="number"==typeof r.arrayLimit?r.arrayLimit:o.arrayLimit,r.parseArrays=!1!==r.parseArrays,r.decoder="function"==typeof r.decoder?r.decoder:o.decoder,r.allowDots="boolean"==typeof r.allowDots?r.allowDots:o.allowDots,r.plainObjects="boolean"==typeof r.plainObjects?r.plainObjects:o.plainObjects,r.allowPrototypes="boolean"==typeof r.allowPrototypes?r.allowPrototypes:o.allowPrototypes,r.parameterLimit="number"==typeof r.parameterLimit?r.parameterLimit:o.parameterLimit,r.strictNullHandling="boolean"==typeof r.strictNullHandling?r.strictNullHandling:o.strictNullHandling,""===e||null===e||void 0===e)return r.plainObjects?Object.create(null):{};for(var u="string"==typeof e?function(e,t){for(var r={},n=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,a=t.parameterLimit===1/0?void 0:t.parameterLimit,u=n.split(t.delimiter,a),s=0;s<u.length;++s){var c,f,l=u[s],d=l.indexOf("]="),p=-1===d?l.indexOf("="):d+1;-1===p?(c=t.decoder(l,o.decoder),f=t.strictNullHandling?null:""):(c=t.decoder(l.slice(0,p),o.decoder),f=t.decoder(l.slice(p+1),o.decoder)),i.call(r,c)?r[c]=[].concat(r[c]).concat(f):r[c]=f}return r}(e,r):e,s=r.plainObjects?Object.create(null):{},c=Object.keys(u),f=0;f<c.length;++f){var l=c[f],d=a(l,u[l],r);s=n.merge(s,d,r)}return n.compact(s)}},function(e,t,r){"use strict";
/*!
 * Copyright (c) 2015-2017 Cisco Systems, Inc. See LICENSE file.
 */var n=function(e){return e&&e.__esModule?e:{default:e}}(r(106));var i=r(935),o=r(936),a=r(937),u=r(941);function s(e,t,r){var n=e;return o(t)?(r=t,"string"==typeof e&&(n={uri:e})):n=u(t,{uri:e}),n.callback=r,n}function c(e,t,r){return f(t=s(e,t,r))}function f(e){if(void 0===e.callback)throw new Error("callback argument missing");var t=!1,r=function(r,n,i){t||(t=!0,e.callback(r,n,i))};function i(e){return clearTimeout(l),e instanceof Error||(e=new Error(""+(e||"Unknown XMLHttpRequest Error"))),e.statusCode=0,r(e,m)}function o(){if(!s){var t;clearTimeout(l),t=e.useXDR&&void 0===f.status?200:1223===f.status?204:f.status;var n=m,i=null;return 0!==t?(n={body:function(){var e=void 0;if(e=f.response?f.response:f.responseText||function(e){if("document"===e.responseType)return e.responseXML;var t=e.responseXML&&"parsererror"===e.responseXML.documentElement.nodeName;return""!==e.responseType||t?null:e.responseXML}(f),y)try{e=JSON.parse(e)}catch(e){}return e}(),statusCode:t,method:p,headers:{},url:d,rawRequest:f},f.getAllResponseHeaders&&(n.headers=a(f.getAllResponseHeaders()))):i=new Error("Internal XMLHttpRequest Error"),r(i,n,n.body)}}var u,s,f=e.xhr||null;f||(f=e.cors||e.useXDR?new c.XDomainRequest:new c.XMLHttpRequest);var l,d=e.uri||e.url,p=e.method||"GET",h=e.body||e.data,v=e.headers||{},g=!!e.sync,y=!1,m={body:void 0,headers:{},statusCode:0,method:p,url:d,rawRequest:f};if("json"in e&&!1!==e.json&&(y=!0,v.accept||v.Accept||(v.Accept="application/json"),"GET"!==p&&"HEAD"!==p&&(v["content-type"]||v["Content-Type"]||(v["Content-Type"]="application/json"),h=(0,n.default)(!0===e.json?h:e.json))),f.onreadystatechange=function(){4===f.readyState&&setTimeout(o,0)},f.onload=o,f.onerror=i,f.onprogress=function(){},f.onabort=function(){s=!0},f.ontimeout=i,f.open(p,d,!g,e.username,e.password),g||(f.withCredentials=!!e.withCredentials),!g&&e.timeout>0&&(l=setTimeout(function(){if(!s){s=!0,f.abort("timeout");var e=new Error("XMLHttpRequest timeout");e.code="ETIMEDOUT",i(e)}},e.timeout)),f.setRequestHeader)for(u in v)v.hasOwnProperty(u)&&f.setRequestHeader(u,v[u]);else if(e.headers&&!function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}(e.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in e&&(f.responseType=e.responseType),"beforeSend"in e&&"function"==typeof e.beforeSend&&e.beforeSend(f),f.send(h||null),f}e.exports=c,c.XMLHttpRequest=i.XMLHttpRequest||function(){},c.XDomainRequest="withCredentials"in new c.XMLHttpRequest?c.XMLHttpRequest:i.XDomainRequest,function(e,t){for(var r=0;r<e.length;r+=1)t(e[r])}(["get","put","post","patch","head","delete"],function(e){c["delete"===e?"del":e]=function(t,r,n){return(r=s(t,r,n)).method=e.toUpperCase(),f(r)}})},function(e,t,r){(function(t){var r;r="undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{},e.exports=r}).call(this,r(32))},function(e,t){e.exports=function(e){var t=r.call(e);return"[object Function]"===t||"function"==typeof e&&"[object RegExp]"!==t||"undefined"!=typeof window&&(e===window.setTimeout||e===window.alert||e===window.confirm||e===window.prompt)};var r=Object.prototype.toString},function(e,t,r){var n=r(938),i=r(939);e.exports=function(e){if(!e)return{};var t={};return i(n(e).split("\n"),function(e){var r=e.indexOf(":"),i=n(e.slice(0,r)).toLowerCase(),o=n(e.slice(r+1));void 0===t[i]?t[i]=o:!function(e){return"[object Array]"===Object.prototype.toString.call(e)}(t[i])?t[i]=[t[i],o]:t[i].push(o)}),t}},function(e,t){(t=e.exports=function(e){return e.replace(/^\s*|\s*$/g,"")}).left=function(e){return e.replace(/^\s*/,"")},t.right=function(e){return e.replace(/\s*$/,"")}},function(e,t,r){"use strict";var n=r(940),i=Object.prototype.toString,o=Object.prototype.hasOwnProperty;e.exports=function(e,t,r){if(!n(t))throw new TypeError("iterator must be a function");var a;arguments.length>=3&&(a=r),"[object Array]"===i.call(e)?function(e,t,r){for(var n=0,i=e.length;n<i;n++)o.call(e,n)&&(null==r?t(e[n],n,e):t.call(r,e[n],n,e))}(e,t,a):"string"==typeof e?function(e,t,r){for(var n=0,i=e.length;n<i;n++)null==r?t(e.charAt(n),n,e):t.call(r,e.charAt(n),n,e)}(e,t,a):function(e,t,r){for(var n in e)o.call(e,n)&&(null==r?t(e[n],n,e):t.call(r,e[n],n,e))}(e,t,a)}},function(e,t,r){"use strict";var n=Function.prototype.toString,i=/^\s*class\b/,o=function(e){try{var t=n.call(e);return i.test(t)}catch(e){return!1}},a=Object.prototype.toString,u="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;e.exports=function(e){if(!e)return!1;if("function"!=typeof e&&"object"!=typeof e)return!1;if("function"==typeof e&&!e.prototype)return!0;if(u)return function(e){try{return!o(e)&&(n.call(e),!0)}catch(e){return!1}}(e);if(o(e))return!1;var t=a.call(e);return"[object Function]"===t||"[object GeneratorFunction]"===t}},function(e,t){e.exports=function(){for(var e={},t=0;t<arguments.length;t++){var n=arguments[t];for(var i in n)r.call(n,i)&&(e[i]=n[i])}return e};var r=Object.prototype.hasOwnProperty},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(r(165)),i=o(r(300));function o(e){return e&&e.__esModule?e:{default:e}}
/*!
 * Copyright (c) 2015-2017 Cisco Systems, Inc. See LICENSE file.
 */var a=n.default.extend({mainIndex:"scope",model:i.default,namespace:"Credentials"});t.default=a},function(e,t,r){var n=r(133);e.exports=function(e){var t,r=this,i=[].slice.call(arguments);t=e&&e.hasOwnProperty("constructor")?e.constructor:function(){return r.apply(this,arguments)},n(t,r);var o=function(){this.constructor=t};return o.prototype=r.prototype,t.prototype=new o,e&&(i.unshift(t.prototype),n.apply(null,i)),t.__super__=r.prototype,t}},function(e,t,r){var n=r(381);e.exports=function(e,t){return null==e||n(e,t)}},function(e,t,r){var n=r(190),i=r(442),o=r(420),a=r(946),u=r(19),s=r(151),c=r(443);e.exports=function e(t,r,f,l,d){t!==r&&o(r,function(o,s){if(u(o))d||(d=new n),a(t,r,s,f,e,l,d);else{var p=l?l(c(t,s),o,s+"",t,r,d):void 0;void 0===p&&(p=o),i(t,s,p)}},s)}},function(e,t,r){var n=r(442),i=r(370),o=r(379),a=r(152),u=r(380),s=r(147),c=r(4),f=r(208),l=r(148),d=r(36),p=r(19),h=r(268),v=r(197),g=r(443),y=r(947);e.exports=function(e,t,r,m,b,_,w){var S=g(e,r),k=g(t,r),x=w.get(k);if(x)n(e,r,x);else{var E=_?_(S,k,r+"",e,t,w):void 0,T=void 0===E;if(T){var O=c(k),P=!O&&l(k),C=!O&&!P&&v(k);E=k,O||P||C?c(S)?E=S:f(S)?E=a(S):P?(T=!1,E=i(k,!0)):C?(T=!1,E=o(k,!0)):E=[]:h(k)||s(k)?(E=S,s(S)?E=y(S):(!p(S)||m&&d(S))&&(E=u(k))):T=!1}T&&(w.set(k,E),b(E,k,m,_,w),w.delete(k)),n(e,r,E)}}},function(e,t,r){var n=r(110),i=r(151);e.exports=function(e){return n(e,i(e))}},function(e,t,r){var n,i,o=r(456),a=r(457),u=0,s=0;e.exports=function(e,t,r){var c=t&&r||0,f=t||[],l=(e=e||{}).node||n,d=void 0!==e.clockseq?e.clockseq:i;if(null==l||null==d){var p=o();null==l&&(l=n=[1|p[0],p[1],p[2],p[3],p[4],p[5]]),null==d&&(d=i=16383&(p[6]<<8|p[7]))}var h=void 0!==e.msecs?e.msecs:(new Date).getTime(),v=void 0!==e.nsecs?e.nsecs:s+1,g=h-u+(v-s)/1e4;if(g<0&&void 0===e.clockseq&&(d=d+1&16383),(g<0||h>u)&&void 0===e.nsecs&&(v=0),v>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");u=h,s=v,i=d;var y=(1e4*(268435455&(h+=122192928e5))+v)%4294967296;f[c++]=y>>>24&255,f[c++]=y>>>16&255,f[c++]=y>>>8&255,f[c++]=255&y;var m=h/4294967296*1e4&268435455;f[c++]=m>>>8&255,f[c++]=255&m,f[c++]=m>>>24&15|16,f[c++]=m>>>16&255,f[c++]=d>>>8|128,f[c++]=255&d;for(var b=0;b<6;++b)f[c+b]=l[b];return t||a(f)}},function(e,t,r){var n=r(456),i=r(457);e.exports=function(e,t,r){var o=t&&r||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var a=(e=e||{}).random||(e.rng||n)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var u=0;u<16;++u)t[o+u]=a[u];return t||i(a)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=l(r(135)),i=l(r(31)),o=l(r(294)),a=l(r(214)),u=l(r(36)),s=l(r(4)),c=l(r(92)),f=l(r(51));function l(e){return e&&e.__esModule?e:{default:e}}
/*!
 * Copyright (c) 2015-2017 Cisco Systems, Inc. See LICENSE file.
 */function d(e,t,r){(e._derived[t]={fn:(0,u.default)(r)?r:r.fn,cache:!1!==r.cache,depList:r.deps||[]}).depList.forEach(function(r){e._deps[r]=(0,o.default)(e._deps[r]||[],[t])}),(0,n.default)(e,t,{get:function(){return this._getDerivedProperty(t)},set:function(){throw new TypeError("`"+t+"` is a derived property, it can't be set directly.")}})}t.default=function(e,t,r){return e.registerPlugin=function(n,o){var u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if((!e.prototype._children[n]||u.replace)&&(e.prototype._children[n]=o,u.proxies&&u.proxies.forEach(function(t){d(e.prototype,t,{deps:[n+"."+t],fn:function(){return this[n][t]}})}),u.interceptors&&(0,i.default)(u.interceptors).forEach(function(e){r[e]=u.interceptors[e]}),u.config&&(0,a.default)(t,u.config),(0,c.default)(u,"payloadTransformer.predicates")&&(t.payloadTransformer.predicates=t.payloadTransformer.predicates.concat((0,f.default)(u,"payloadTransformer.predicates"))),(0,c.default)(u,"payloadTransformer.transforms")&&(t.payloadTransformer.transforms=t.payloadTransformer.transforms.concat((0,f.default)(u,"payloadTransformer.transforms"))),u.onBeforeLogout&&(t.onBeforeLogout=t.onBeforeLogout||[],((0,s.default)(u.onBeforeLogout)?u.onBeforeLogout:[u.onBeforeLogout]).forEach(function(e){return t.onBeforeLogout.push({plugin:n,fn:e})})),o.prototype._definition.ready)){var l=e.prototype._derived.ready,p=l.fn,h={deps:l.depList.concat(n+".ready"),fn:p};d(e.prototype,"ready",h)}},e}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=l(r(135)),i=l(r(31)),o=l(r(294)),a=l(r(214)),u=l(r(36)),s=l(r(4)),c=l(r(92)),f=l(r(51));function l(e){return e&&e.__esModule?e:{default:e}}
/*!
 * Copyright (c) 2015-2017 Cisco Systems, Inc. See LICENSE file.
 */t.default=function(e,t,r){return e.registerPlugin=function(l,d){var p=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e.prototype._children[l]||p.replace){if(e.prototype._children[l]=d,p.proxies)throw new Error("Proxies are not currently supported for private plugins");if(p.interceptors&&(0,i.default)(p.interceptors).forEach(function(e){r[e]=p.interceptors[e]}),p.config&&(0,a.default)(t,p.config),(0,c.default)(p,"payloadTransformer.predicates")&&(t.payloadTransformer.predicates=t.payloadTransformer.predicates.concat((0,f.default)(p,"payloadTransformer.predicates"))),(0,c.default)(p,"payloadTransformer.transforms")&&(t.payloadTransformer.transforms=t.payloadTransformer.transforms.concat((0,f.default)(p,"payloadTransformer.transforms"))),p.onBeforeLogout&&(t.onBeforeLogout=t.onBeforeLogout||[],((0,s.default)(p.onBeforeLogout)?p.onBeforeLogout:[p.onBeforeLogout]).forEach(function(e){return t.onBeforeLogout.push({plugin:l,fn:e})})),d.prototype._definition.ready){var h=e.prototype._derived.ready,v=h.fn,g={deps:h.depList.concat(l+".ready"),fn:v};!function(e,t,r){(e._derived[t]={fn:(0,u.default)(r)?r:r.fn,cache:!1!==r.cache,depList:r.deps||[]}).depList.forEach(function(r){e._deps[r]=(0,o.default)(e._deps[r]||[],[t])}),(0,n.default)(e,t,{get:function(){return this._getDerivedProperty(t)},set:function(){throw new TypeError("`"+t+"` is a derived property, it can't be set directly.")}})}(e.prototype,"ready",g)}}},e}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(r(31)),i=a(r(114)),o=a(r(39));function a(e){return e&&e.__esModule?e:{default:e}}
/*!
 * Copyright (c) 2015-2017 Cisco Systems, Inc. See LICENSE file.
 */var u=i.default.extend({derived:{ready:{deps:[],fn:function(){var e=this;return(0,n.default)(this._children).reduce(function(t,r){return t&&e[r]&&!1!==e[r].ready},!0)}}},inspect:function(e){return o.default.inspect(this.serialize({props:!0,session:!0,derived:!0}),{depth:e})}});t.default=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=c(r(1)),i=c(r(60)),o=c(r(92)),a=c(r(162)),u=r(13),s=c(r(213));function c(e){return e&&e.__esModule?e:{default:e}}var f=a.default.extend({session:{deferreds:{type:"object",default:function(){return new i.default}},queue:{type:"array",default:function(){return[]}}},derived:{bounce:{fn:function(){var e=this;return(0,u.cappedDebounce)(function(){return e.executeQueue.apply(e,arguments)},this.config.batcherWait,{maxCalls:this.config.batcherMaxCalls,maxWait:this.config.batcherMaxWait})}}},request:function(e){var t=this,r=new u.Defer;return this.fingerprintRequest(e).then(function(i){t.deferreds.has(i)?r.resolve(t.deferreds.get(i).promise):(t.deferreds.set(i,r),t.prepareItem(e).then(function(e){r.promise=r.promise.then((0,u.tap)(function(){return t.deferreds.delete(i)})).catch(function(e){return t.deferreds.delete(i),n.default.reject(e)}),t.enqueue(e).then(function(){return t.bounce()}).catch(function(e){return r.reject(e)})}).catch(function(e){return r.reject(e)}))}).catch(function(e){return r.reject(e)}),r.promise},enqueue:function(e){return this.queue.push(e),n.default.resolve()},prepareItem:function(e){return n.default.resolve(e)},executeQueue:function(){var e=this,t=this.queue.splice(0,this.config.batcherMaxCalls);return new n.default(function(r){r(e.prepareRequest(t).then(function(t){return e.submitHttpRequest(t).then(function(t){return e.handleHttpSuccess(t)})}).catch(function(r){return r instanceof s.default?e.handleHttpError(r):n.default.all(t.map(function(t){return e.getDeferredForRequest(t).then(function(e){e.reject(r)})}))}))}).catch(function(t){return e.logger.error(t.stack),n.default.reject(t)})},prepareRequest:function(e){return n.default.resolve(e)},submitHttpRequest:function(e){throw new Error("request() must be implemented")},handleHttpSuccess:function(e){var t=this;return n.default.all((e.body&&e.body.items||e.body).map(function(e){return t.acceptItem(e)}))},handleHttpError:function(e){var t=this;return e instanceof s.default&&(0,o.default)(e,"options.body.map")?n.default.all(e.options.body.map(function(r){return t.getDeferredForRequest(r).then(function(t){t.reject(e)})})):(this.logger.error("http error handler called without a SparkHttpError object",e),n.default.reject(e))},acceptItem:function(e){var t=this;return this.didItemFail(e).then(function(r){return r?t.handleItemFailure(e):t.handleItemSuccess(e)})},didItemFail:function(e){return n.default.resolve(!1)},handleItemFailure:function(e){return this.getDeferredForResponse(e).then(function(t){t.reject(e)})},handleItemSuccess:function(e){return this.getDeferredForResponse(e).then(function(t){t.resolve(e)})},getDeferredForRequest:function(e){var t=this;return this.fingerprintRequest(e).then(function(e){var r=t.deferreds.get(e);if(!r)throw new Error("Could not find pending request for received response");return r})},getDeferredForResponse:function(e){var t=this;return this.fingerprintResponse(e).then(function(e){var r=t.deferreds.get(e);if(!r)throw new Error("Could not find pending request for received response");return r})},fingerprintRequest:function(e){throw new Error("fingerprintRequest() must be implemented")},fingerprintResponse:function(e){throw new Error("fingerprintResponse() must be implemented")},version:"1.43.5"});
/*!
     * Copyright (c) 2015-2017 Cisco Systems, Inc. See LICENSE file.
     */t.default=f},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=u(r(388)),i=u(r(8)),o=u(r(11)),a=u(r(44));function u(e){return e&&e.__esModule?e:{default:e}}
/*!
 * Copyright (c) 2015-2017 Cisco Systems, Inc. See LICENSE file.
 */var s=new a.default,c=new a.default,f=new a.default,l=function(){function e(t,r){return(0,i.default)(this,e),s.set(this,t.body.items),c.set(this,e.parseLinkHeaders(t.headers.link)),f.set(this,r),this}return(0,o.default)(e,[{key:"items",get:function(){return s.get(this)}},{key:"length",get:function(){return this.items.length}},{key:"links",get:function(){return c.get(this)}},{key:"spark",get:function(){return f.get(this)}}]),(0,o.default)(e,[{key:"next",value:function(){return this.getLink("next")}},{key:"hasNext",value:function(){return this.hasLink("next")}},{key:"previous",value:function(){return this.getLink("previous")}},{key:"hasPrevious",value:function(){return this.hasLink("previous")}},{key:"getLink",value:function(t){var r=this;return this.spark.request({uri:this.links[t]}).then(function(t){return new e(t,r.spark)})}},{key:"hasLink",value:function(e){return Boolean(this.links[e])}},{key:n.default,value:function(){var e=this,t=-1;return{next:function(){return(t+=1)<e.length?{value:e.items[t]}:{done:!0}}}}}],[{key:"parseLinkHeaders",value:function(e){return e?(e=Array.isArray(e)?e:[e]).reduce(function(e,t){var r=(t=t.split(";"))[0].replace("<","").replace(">","");return e[t[1].split("=")[1].replace(/"/g,"")]=r,e},{}):{}}}]),e}();t.default=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}
/*!
 * Copyright (c) 2015-2017 Cisco Systems, Inc. See LICENSE file.
 */(r(162)),i=r(303);var o={error:["log"],warn:["error","log"],info:["log"],debug:["info","log"],trace:["debug","info","log"]};function a(e){var t=o[e];if(t)for(t=t.slice();!console[e];)e=t.pop();return function(){for(var t,r=arguments.length,n=Array(r),i=0;i<r;i++)n[i]=arguments[i];(t=console)[e].apply(t,n)}}var u=n.default.extend({namespace:"Logger",error:a("error"),warn:a("warn"),log:a("log"),info:a("info"),debug:a("debug"),trace:a("trace"),version:"1.43.5"});(0,i.registerPlugin)("logger",u),t.default=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),
/*!
 * Copyright (c) 2015-2017 Cisco Systems, Inc. See LICENSE file.
 */
t.default={credentials:{clientType:"public"}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(958);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return function(e){return e&&e.__esModule?e:{default:e}}(n).default}})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,i,o,a,u,s,c,f,l,d,p=O(r(49)),h=O(r(302)),v=O(r(24)),g=O(r(31)),y=O(r(77)),m=O(r(1)),b=O(r(107)),_=r(13),w=r(132),S=O(r(39)),k=O(r(458)),x=O(r(461)),E=r(2),T=O(r(156));function O(e){return e&&e.__esModule?e:{default:e}}function P(e,t,r,n,i){var o={};return Object.keys(n).forEach(function(e){o[e]=n[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var C=E.SparkPlugin.extend((n=(0,E.waitForValue)("@"),i=(0,E.waitForValue)("@"),o=(0,E.persist)("@",function(){return!this.config.ephemeral}),a=(0,E.waitForValue)("@"),u=(0,E.waitForValue)("@"),s=(0,E.waitForValue)("@"),c=(0,E.waitForValue)("@"),f=(0,E.waitForValue)("@"),l=(0,E.waitForValue)("@"),P(d={children:{features:k.default},collections:{serviceCatalog:x.default},idAttribute:"url",namespace:"Device",props:{customerCompanyName:"string",customerLogoUrl:"string",deviceType:"string",helpUrl:"string",intranetInactivityDuration:"number",intranetInactivityCheckUrl:"string",modificationTime:"string",partnerCompanyName:"string",partnerLogoUrl:"string",reportingSiteDesc:"string",reportingSiteUrl:"string",searchEncryptionKeyUrl:"string",services:{default:function(){return{}},type:"object"},serviceHostMap:{default:function(){return{serviceLinks:{},hostCatalog:{}}},type:"object"},showSupportText:"boolean",supportProviderCompanyName:"string",supportProviderLogoUrl:"string",url:"string",userId:"string",webFileShareControl:"string",webSocketUrl:"string",whiteboardFileShareControl:"string"},derived:{registered:{deps:["url"],fn:function(){return Boolean(this.url)}}},session:{logoutTimer:"any",lastUserActivityDate:"number"},determineService:function(e){var t=!0,r=!1,n=void 0;try{for(var i,o=(0,y.default)((0,g.default)(this.services));!(t=(i=o.next()).done);t=!0){var a=i.value,u=this.services[a];if(e.startsWith(u))return m.default.resolve(a.substr(0,a.length-10))}}catch(e){r=!0,n=e}finally{try{!t&&o.return&&o.return()}finally{if(r)throw n}}return m.default.reject(new Error(e+" does not reflect a known service"))},getServiceUrl:function(e){var t=this;return this._getServiceUrl(this.services,e).then(function(r){return r||t.getPreDiscoveryServiceUrl(e)})},getPreDiscoveryServiceUrl:function(e){return m.default.resolve(this._getServiceUrl(this.config.preDiscoveryServices,e))},getWebSocketUrl:function(){return this.useServiceCatalogUrl(this.webSocketUrl)},useServiceCatalogUrl:function(e){return this.serviceCatalog.inferServiceFromUrl(e).then(function(t){return t.replaceUrlWithCurrentHost(e)})},markUrlFailedAndGetNew:function(e){var t=this;return e?(this.logger.info("device: marking "+e+" as failed"),this.serviceCatalog.markFailedAndCycleUrl(e).then(function(r){return t.spark.internal.metrics.submitClientMetrics("web-ha",{tags:{action:"replace_url",failedUrl:e,newUrl:r}}),r}).catch(function(){return t._resetAllAndRetry(e)})):m.default.reject(new Error("`url` is a required parameter"))},_resetAllAndRetry:function(e){return e?(this.logger.info("device: reset available hosts and retry "+e),this.serviceCatalog.resetAllAndRetry(e)):m.default.reject(new Error("`url` is a required parameter"))},fetchNewUrls:function(e){var t=this;return new m.default(function(r){return t.serviceCatalog.inferServiceFromUrl(e).then(function(e){t.logger.info("device: refresh to "+e.service+" get new urls"),t.refresh(),t.on("serviceCatalogUpdated",function(){return r(e.url)})})})},initialize:function(){for(var e=this,t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];(0,v.default)(E.SparkPlugin.prototype.initialize,this,r),["developer","entitlement","user"].forEach(function(t){e.features.on("change:"+t,function(t,r,n){e.trigger("change",e,n),e.trigger("change:features",e,e.features,n)})}),this.on("change:serviceHostMap",this._updateServiceCatalog),this.listenToAndRun(this,"change:intranetInactivityCheckUrl",function(){return e._resetLogoutTimer()}),this.listenToAndRun(this,"change:intranetInactivityDuration",function(){return e._resetLogoutTimer()}),this.listenTo(this.spark,"user-activity",function(){e.lastUserActivityDate=Date.now()})},inspect:function(e){return S.default.inspect((0,b.default)(this.serialize(),"features"),{depth:e})},isPreDiscoveryService:function(e){return m.default.resolve(this._isService(this.config.preDiscoveryServices,e))},isPreDiscoveryServiceUrl:function(e){return m.default.resolve(this._isServiceUrl(this.config.preDiscoveryServices,e))},isService:function(e){var t=this;return this._isService(this.services,e).then(function(r){return r||t.isPreDiscoveryService(e)})},isServiceUrl:function(e){return m.default.resolve(this._isServiceUrl(this.services,e))},isSpecificService:function(e,t){return t===e?m.default.resolve(!0):this.getServiceUrl(e).then(function(e){return t.includes(e)})},_getServiceUrl:function(e,t){if(!e)return m.default.reject(new Error("`target` is a required parameter"));if(!t)return m.default.reject(new Error("`service` is a required parameter"));var r=this.features.developer.get("web-ha-messaging");if(r&&r.value){var n=this.serviceCatalog.get(t+"ServiceUrl");if(n)return m.default.resolve(n.url)}return m.default.resolve(e[t+"ServiceUrl"])},_isService:function(e,t){return this._getServiceUrl(e,t).then(function(e){return Boolean(e)})},_isServiceUrl:function(e,t){if(!t)return m.default.reject(new Error("`uri` is a required parameter"));var r=!0,n=!1,i=void 0;try{for(var o,a=(0,y.default)((0,h.default)(e));!(r=(o=a.next()).done);r=!0){var u=o.value;if(u&&t.startsWith(u))return m.default.resolve(!0)}}catch(e){n=!0,i=e}finally{try{!r&&a.return&&a.return()}finally{if(n)throw i}}return m.default.resolve(!1)},refresh:function(){var e=this;if(this.logger.info("device: refreshing"),!this.registered)return this.logger.info("device: device not registered, registering"),this.register();var t=(0,b.default)(this.serialize(),"features","mediaClusters");return this.config.ephemeral&&(t.ttl=this.config.ephemeralDeviceTTL),this.request({method:"PUT",uri:this.url,body:t}).then(function(t){return e._processRegistrationSuccess(t)}).catch(function(t){return 404===t.statusCode?(e.logger.info("device: refresh failed with 404, attempting to register new device"),e.clear(),e.register()):m.default.reject(t)})},register:function(){var e=this;if(this.logger.info("device: registering"),this.registered)return this.logger.info("device: device already registered, refreshing"),this.refresh();var t=this.config.defaults;return this.config.ephemeral&&(t.ttl=this.config.ephemeralDeviceTTL),this.request({method:"POST",service:"wdm",resource:"devices",body:t}).then(function(t){return e._processRegistrationSuccess(t)})},unregister:function(){var e=this;return this.logger.info("device: unregistering"),this.url?this.request({uri:this.url,method:"DELETE"}).then(function(){return e.clear()}):(this.logger.warn("device: not registered"),m.default.resolve())},clear:function(){clearTimeout(this.refreshTimer);for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];(0,v.default)(E.SparkPlugin.prototype.clear,this,t)},_processRegistrationSuccess:function(e){var t=this;if(this.logger.info("device: received registration payload"),this.set(e.body),this.config.ephemeral){this.logger.info("device: enqueing device refresh");var r=1e3*(this.config.ephemeralDeviceTTL/2+60);this.refreshTimer=(0,w.safeSetTimeout)(function(){return t.refresh()},r)}},_updateServiceCatalog:function(e){var t=this,r=this.features.developer.get("web-ha-messaging");r&&r.value&&(e.serviceHostMap&&e.serviceHostMap.hostCatalog?((0,g.default)(e.services).forEach(function(r){var n=e.services[r],i=T.default.parse(n),o=e.serviceHostMap.hostCatalog[i.host];t.serviceCatalog.set({service:r,defaultUrl:n,availableHosts:o||[]},{remove:!1})}),this.trigger("serviceCatalogUpdated")):this.refresh())},_resetLogoutTimer:function(){var e=this;if(clearTimeout(this.logoutTimer),this.off("change:lastUserActivityDate"),this.unset("logoutTimer"),this.config.enableInactivityEnforcement&&this.intranetInactivityCheckUrl&&this.intranetInactivityDuration){this.on("change:lastUserActivityDate",function(){return e._resetLogoutTimer()});var t=(0,w.safeSetTimeout)(function(){e.spark.request({headers:{"cisco-no-http-redirect":null,"spark-user-agent":null,trackingid:null},method:"GET",uri:e.intranetInactivityCheckUrl}).catch(function(){return e.logger.info("device: did not reach internal ping endpoint; logging out after inactivity on a public network"),e.spark.logout()}).catch(function(t){e.logger.warn("device: logout failed",t)})},1e3*this.intranetInactivityDuration);this.logoutTimer=t}},version:"1.43.5"},"determineService",[n],(0,p.default)(d,"determineService"),d),P(d,"getServiceUrl",[i],(0,p.default)(d,"getServiceUrl"),d),P(d,"initialize",[o],(0,p.default)(d,"initialize"),d),P(d,"isService",[a],(0,p.default)(d,"isService"),d),P(d,"isServiceUrl",[u],(0,p.default)(d,"isServiceUrl"),d),P(d,"isSpecificService",[s],(0,p.default)(d,"isSpecificService"),d),P(d,"refresh",[_.oneFlight,c],(0,p.default)(d,"refresh"),d),P(d,"register",[_.oneFlight,f],(0,p.default)(d,"register"),d),P(d,"unregister",[_.oneFlight,l],(0,p.default)(d,"unregister"),d),d));t.default=C},function(e,t,r){var n=r(52),i=r(59),o=r(70);e.exports=function(e){return function(t,r,a){var u=Object(t);if(!i(t)){var s=n(r,3);t=o(t),r=function(e){return s(u[e],e,u)}}var c=e(t,r,a);return c>-1?u[s?t[c]:c]:void 0}}},function(e,t,r){var n=r(961),i=r(962),o=r(464);e.exports=function(e){var t=i(e);return 1==t.length&&t[0][2]?o(t[0][0],t[0][1]):function(r){return r===e||n(r,e,t)}}},function(e,t,r){var n=r(190),i=r(289),o=1,a=2;e.exports=function(e,t,r,u){var s=r.length,c=s,f=!u;if(null==e)return!c;for(e=Object(e);s--;){var l=r[s];if(f&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++s<c;){var d=(l=r[s])[0],p=e[d],h=l[1];if(f&&l[2]){if(void 0===p&&!(d in e))return!1}else{var v=new n;if(u)var g=u(p,h,d,e,t,v);if(!(void 0===g?i(h,p,o|a,u,v):g))return!1}}return!0}},function(e,t,r){var n=r(463),i=r(70);e.exports=function(e){for(var t=i(e),r=t.length;r--;){var o=t[r],a=e[o];t[r]=[o,a,n(a)]}return t}},function(e,t,r){var n=r(289),i=r(51),o=r(433),a=r(267),u=r(463),s=r(464),c=r(88),f=1,l=2;e.exports=function(e,t){return a(e)&&u(t)?s(c(e),t):function(r){var a=i(r,e);return void 0===a&&a===t?o(r,e):n(t,a,f|l)}}},function(e,t,r){var n=r(965),i=r(966),o=r(267),a=r(88);e.exports=function(e){return o(e)?n(a(e)):i(e)}},function(e,t){e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},function(e,t,r){var n=r(203);e.exports=function(e){return function(t){return n(t,e)}}},function(e,t,r){var n=r(285),i=r(52),o=r(61),a=Math.max;e.exports=function(e,t,r){var u=null==e?0:e.length;if(!u)return-1;var s=null==r?0:o(r);return s<0&&(s=a(u+s,0)),n(e,i(t,3),s)}},function(e,t,r){var n=r(93);e.exports=function(e,t){var r;return n(e,function(e,n,i){return!(r=t(e,n,i))}),!!r}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=c(r(1)),i=c(r(14)),o=c(r(8)),a=c(r(11)),u=c(r(15)),s=c(r(16));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){return(0,o.default)(this,t),(0,u.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments))}return(0,s.default)(t,e),(0,a.default)(t,[{key:"onResponseError",value:function(e,t){return 451===t.statusCode&&(this.spark.internal.device.clear(),this.spark.credentials.clear(),this.spark.logger.info("Received `HTTP 451 Unavailable For Legal Reasons`, discarding credentials and device registration")),n.default.reject(t)}}],[{key:"create",value:function(){return new t({spark:this})}}]),t}(r(28).Interceptor);
/*!
                           * Copyright (c) 2015-2017 Cisco Systems, Inc. See LICENSE file.
                           */t.default=f},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(r(30)),i=l(r(43)),o=l(r(1)),a=l(r(14)),u=l(r(8)),s=l(r(11)),c=l(r(15)),f=l(r(16));function l(e){return e&&e.__esModule?e:{default:e}}var d=/(?:^\/)|(?:\/$)/,p=function(e){function t(){return(0,u.default)(this,t),(0,c.default)(this,(t.__proto__||(0,a.default)(t)).apply(this,arguments))}return(0,f.default)(t,e),(0,s.default)(t,[{key:"onRequest",value:function(e){return e.uri?e:(this.checkOptions(e),this.normalizeOptions(e),this.spark.internal.device.getServiceUrl(e.service).then(function(t){return t?(e.resource&&(t=t.replace(d,"")+"/"+e.resource.replace(d,"")),e.uri=t,e):o.default.reject(new Error("`"+e.service+"` is not a known service"))}))}},{key:"checkOptions",value:function(e){if(!e.api&&!e.service)throw new Error("A `service` or `uri` parameter is required");if(!e.resource)throw new Error("A `resource` parameter is required")}},{key:"normalizeOptions",value:function(e){e.service||((0,i.default)(e,{service:e.service||e.api}),(0,n.default)(e,"api"))}}],[{key:"create",value:function(){return new t({spark:this})}}]),t}(r(28).Interceptor);
/*!
 * Copyright (c) 2015-2017 Cisco Systems, Inc. See LICENSE file.
 */t.default=p},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=f(r(1)),i=f(r(14)),o=f(r(8)),a=f(r(11)),u=f(r(15)),s=f(r(16)),c=f(r(304));function f(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){return(0,o.default)(this,t),(0,u.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments))}return(0,s.default)(t,e),(0,a.default)(t,[{key:"onRequest",value:function(e){var t=this;return!this.spark.internal.device.url||e.headers&&"cisco-device-url"in e.headers&&!e.headers["cisco-device-url"]?n.default.resolve(e):n.default.resolve(e.service||this.spark.internal.device.determineService(e.uri)).then(function(r){return r&&"oauth"!==r&&"saml"!==r&&(0,c.default)(e,"headers['cisco-device-url']",t.spark.internal.device.url),e}).catch(function(t){if(t.message.match(/does not reflect a known service/))return e;throw t})}}],[{key:"create",value:function(){return new t({spark:this})}}]),t}(r(28).Interceptor);
/*!
                           * Copyright (c) 2015-2017 Cisco Systems, Inc. See LICENSE file.
                           */t.default=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(r(1)),i=l(r(14)),o=l(r(8)),a=l(r(11)),u=l(r(15)),s=l(r(16)),c=r(28),f=r(2);function l(e){return e&&e.__esModule?e:{default:e}}
/*!
 * Copyright (c) 2015-2017 Cisco Systems, Inc. See LICENSE file.
 */var d=function(e){function t(){return(0,o.default)(this,t),(0,u.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments))}return(0,s.default)(t,e),(0,a.default)(t,[{key:"onResponseError",value:function(e,t){if(t instanceof f.SparkHttpError.InternalServerError&&e.uri){var r=this.spark.internal.device.features.developer.get("web-ha-messaging");if(r&&r.value)return this.spark.internal.metrics.submitClientMetrics("web-ha",{fields:{success:!1},tags:{action:"failed",error:t.message,url:e.uri}}),this.spark.internal.device.markUrlFailedAndGetNew(e.uri).then(function(){return n.default.reject(t)})}return n.default.reject(t)}}],[{key:"create",value:function(){return new t({spark:this})}}]),t}(c.Interceptor);t.default=d},function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=r(13);t.default={device:{preDiscoveryServices:{wdmServiceUrl:"https://wdm-a.wbx2.com/wdm/api/v1",hydraServiceUrl:"https://api.ciscospark.com/v1"},defaults:{name:e.title||n.inBrowser&&"browser"||"javascript",deviceType:"UNKNOWN"},enableInactivityEnforcement:!1,ephemeral:!1,ephemeralDeviceTTL:1800}}}).call(this,r(23))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StatsStream=t.StatsFilter=t.remoteParticipant=t.boolToStatus=t.Call=t.phoneEvents=void 0;var n=r(975);Object.defineProperty(t,"phoneEvents",{enumerable:!0,get:function(){return n.events}});var i=r(308);Object.defineProperty(t,"Call",{enumerable:!0,get:function(){return d(i).default}});var o=r(493);Object.defineProperty(t,"boolToStatus",{enumerable:!0,get:function(){return d(o).default}});var a=r(311);Object.defineProperty(t,"remoteParticipant",{enumerable:!0,get:function(){return a.remoteParticipant}});var u=r(501);Object.defineProperty(t,"StatsFilter",{enumerable:!0,get:function(){return d(u).default}});var s=r(508);Object.defineProperty(t,"StatsStream",{enumerable:!0,get:function(){return d(s).default}}),r(486),r(492),r(509);var c=r(2),f=d(n),l=d(r(1149));function d(e){return e&&e.__esModule?e:{default:e}}
/*!
 * Copyright (c) 2015-2017 Cisco Systems, Inc. See LICENSE file.
 */t.default=f.default,(0,c.registerPlugin)("phone",f.default,{config:l.default})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.events=void 0;var n=p(r(24)),i=p(r(134)),o=p(r(1)),a=p(r(51)),u=p(r(72)),s=r(2),c=p(r(466)),f=p(r(308)),l=r(311),d=p(r(1144));function p(e){return e&&e.__esModule?e:{default:e}}var h=t.events={CALL_CREATED:"call:created",CALL_INCOMING:"call:incoming"},v=s.SparkPlugin.extend({collections:{emittedCalls:d.default},session:{connected:{default:!1,type:"boolean"},defaultFacingMode:{default:"user",type:"string",values:["user","environment"]},registered:{default:!1,type:"boolean"}},namespace:"phone",isCallingSupported:function(){return new o.default(function(e){e(r(1145).isWebRTCSupported)})},register:function(){var e=this;return this.spark.internal.device.refresh().then(function(){return e.connected?o.default.resolve():o.default.all([e.emittedCalls.reset(),e.spark.internal.mercury.when("event:mercury.buffer_state").then(function(t){return"UNKNOWN"===(0,i.default)(t,1)[0].data.bufferState.locus?e.listActiveCalls():o.default.resolve()}),e.spark.internal.mercury.connect()])})},deregister:function(){var e=this;return this.spark.internal.mercury.disconnect().then(function(){return e.spark.internal.device.unregister()})},createLocalMediaStream:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.constraints||e;return(0,u.default)(t,{audio:!0,video:!0}),c.default.getUserMedia(t)},listActiveCalls:function(){var e=this;return this.spark.internal.locus.list().then(function(t){var r=e.emittedCalls.map(function(e){return e});return t?(t.forEach(function(t){if(!e.emittedCalls.has(t)){var n=f.default.make({locus:t,parent:e.spark});r.push(n),e.emittedCalls.add(n),e._triggerCallEvents(n,t)}}),r):r})},initialize:function(){for(var e=this,t=arguments.length,r=Array(t),i=0;i<t;i++)r[i]=arguments[i];(0,n.default)(s.SparkPlugin.prototype.initialize,this,r),this.listenTo(this.spark.internal.mercury,"event:locus",function(t){return e.onLocusEvent(t)}),this.listenTo(this.spark.internal.mercury,"change:connected",function(){e.connected=e.spark.internal.mercury.connected,e.registered=!!e.spark.internal.device.url&&e.connected}),this.listenTo(this.spark.internal.device,"change:url",function(){e.registered=!!e.spark.internal.device.url&&e.connected})},onLocusEvent:function(e){var t=e.data.locus;if(!this.emittedCalls.has(t)&&"inactive"!==t.fullState.state.toLowerCase()){var r=f.default.make({locus:t},{parent:this.spark});this.emittedCalls.add(r),this._triggerCallEvents(r,e.data.locus)}},dial:function(e,t){var r=f.default.make({},{parent:this.spark});return r.dial(e,t),this.emittedCalls.add(r),r},_triggerCallEvents:function(e,t){this.trigger(h.CALL_CREATED,e),(0,l.shouldRing)(t)&&((0,l.isCall)(t)||!(0,l.isCall)(t)&&(0,a.default)(this,"config.enableExperimentalGroupCallingSupport"))&&this.trigger(h.CALL_INCOMING,e)},version:"1.43.5"});
/*!
 * Copyright (c) 2015-2017 Cisco Systems, Inc. See LICENSE file.
 */t.default=v},function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i,o,a,u,s,c,f,l,d,p,h,v,g,y,m,b=U(r(43)),_=U(r(271)),w=U(r(49)),S=U(r(134)),k=U(r(30)),x=U(r(1)),E=U(r(8)),T=U(r(11)),O=U(r(60)),P=U(r(44)),C=U(r(72)),M=r(467),j=r(510),R=r(13),A=U(r(1043)),I=U(r(209)),D=r(305),L=U(r(306)),N=U(r(1046)),F=r(483);function U(e){return e&&e.__esModule?e:{default:e}}function z(e,t,r,n){r&&(0,_.default)(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function q(e,t,r,n,i){var o={};return Object.keys(n).forEach(function(e){o[e]=n[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}L.default.a.find(function(e){return"content"===e.name})||L.default.a.unshift({name:"content",reg:/^content:(slides)/});var B=new((0,R.make)(P.default,O.default)),W={audio:"Audio",video:"Video"};function G(e,t){return B.get(e,t)||"inactive"}var V=(n=(0,R.whileInFlight)("gumming"),i=(0,M.debounce)(500),o=function(){function t(){var r=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,E.default)(this,t),this.logger=console,z(this,"localMediaStream",a,this),z(this,"remoteMediaStream",u,this),z(this,"localScreenShare",s,this),this.pc=new RTCPeerConnection({iceServers:[],bundlePolicy:"max-compat"}),z(this,"offerSdp",c,this),z(this,"answerSdp",f,this),z(this,"sendingAudio",l,this),z(this,"sendingVideo",d,this),z(this,"receivingAudio",p,this),z(this,"receivingVideo",h,this),z(this,"ended",v,this),this.negotiationNeeded=!1,this.bandwidthLimit={audioBandwidthLimit:6e4,videoBandwidthLimit:1e6},z(this,"constraints",g,this),z(this,"offerOptions",y,this),z(this,"gumming",m,this),i.parent?e.nextTick(function(){i.parent.logger&&(r.logger=i.parent.logger)}):n.logger&&(this.logger=n.logger),this.pc.onnegotiationneeded=function(){r.logger.info("peer connection emitted negotiationneeded"),r.answerSdp&&!r.negotiationNeeded&&(r.negotiationNeeded=!0,r.triggerNegotiationNeeded())},this.pc.ontrack=function(e){r.logger.info("peerConnection ontrack fired, updating remoteMediaStream"),r.trigger("track");var t=r.remoteMediaStream||new MediaStream;e.streams[0].getTracks().forEach(function(e){r.logger.info("adding "+e.kind+" track to remoteMediaStream"),t&&!t.getTracks().includes(e)&&t.addTrack(e),e.onended=function(){r.logger.info("remote "+e.kind+" has ended, removing track from remoteMediaStream"),t.removeTrack(e),e.onended=void 0;try{r["receiving"+W[e.kind]]=(0,F.getMediaDirectionFromTracks)(e.kind,r.pc).includes("recv")}catch(t){r["receiving"+W[e.kind]]=!1}},r["receiving"+W[e.kind]]=(0,F.getMediaDirectionFromTracks)(e.kind,r.pc).includes("recv")}),r.remoteMediaStream=t,r.trigger("internalTrackUpdate")}}return(0,T.default)(t,[{key:"audioDirection",get:function(){return(0,F.getMediaDirectionFromTracks)("audio",this.pc)}},{key:"videoDirection",get:function(){return(0,F.getMediaDirectionFromTracks)("video",this.pc)}},{key:"screenDirection",get:function(){return this.localScreenShare&&0!==this.localScreenShare.getTracks().length?"sendonly":"inactive"}},{key:"senderTracks",get:function(){return this.pc.getSenders().reduce(function(e,t){return t.track&&e.push(t.track),e},[])}},{key:"receiverTracks",get:function(){return this.pc.getReceivers().reduce(function(e,t){return t.track&&e.push(t.track),e},[])}}],[{key:"getUserMedia",value:function(e){var t=(0,C.default)({},e,{fake:!1});return navigator.mediaDevices.getUserMedia(t)}}]),(0,T.default)(t,[{key:"_prepareIceGatherer",value:function(){var e=this,t=!1;if("new"===this.pc.iceGatheringState)this.logger.info('ice gathering is in state "new", definitely need to block for ice gathering'),t=!0;else{var r=(0,D.parse)(this.pc.localDescription.sdp);["audio","video","screen"].forEach(function(n){var i=n+"Direction";("inactive"!==e[i]||G(e,n)!==e[i]&&"inactive"!==G(e,n))&&(r.media.find(function(e){return e.type===n})?e.logger.info(n+" candidates already gathered"):(e.logger.info("transitioning "+n+" from inactive, ice needed"),t=!0))})}var n=void 0;return t&&(n=new x.default(function(t){e.logger.info("configuring ice gathering"),e.pc.onicecandidate=function(r){if(!r.candidate)return e.logger.info("ice gathering complete"),e.pc.onicecandidate=void 0,void t();e.logger.info("got ice candidate")}})),n}},{key:"createOffer",value:function(){var e=this;this.logger.info("beginning negotiation");var t=G(this,"video"),r=t.includes("send")||t.includes("recv"),n=this._prepareIceGatherer();return new x.default(function(t){if(e.gumming)return e.logger.info("gum in flight, waiting until it completes"),void t(e._getUserMedia().then((0,R.tap)(function(){return e.logger.info("gum completed")})));t()}).then((0,R.tap)(function(){return e.logger.info("starting create offer",e.offerOptions)})).then(function(){return e.offerOptions.offerToReceiveAudio=!!e.offerOptions.offerToReceiveAudio,e.offerOptions.offerToReceiveVideo=!!e.offerOptions.offerToReceiveVideo,e.logger.info("creating REAL offer",e.offerOptions),e.logger.info("createOffer audioDirection: "+e.audioDirection),e.logger.info("createOffer videoDirection: "+e.videoDirection),e.logger.info("createOffer screenDirection: "+e.screenDirection),e.updateLocalMediaToTargetDirection(),e.pc.createOffer(e.offerOptions)}).then((0,R.tap)(function(t){t.sdp=(0,F.limitBandwith)(e.bandwidthLimit,t.sdp),t.sdp=(0,F.removeExtmap)(t.sdp)})).then((0,R.tap)(function(){return e.logger.info("setting local description")})).then(function(t){return e.pc.setLocalDescription(t)}).then((0,R.tap)(function(){return n&&e.logger.info("blocking for ice gathering")})).then(function(){return n}).then((0,R.tap)(function(){return e.logger.info("limiting bandwith")})).then(function(){return(0,F.limitBandwith)(e.bandwidthLimit,e.pc.localDescription.sdp)}).then((0,R.tap)(function(){return r&&e.logger.info("confirm h264 in offer")})).then((0,F.ensureH264)(r)).then(function(t){if(e.localScreenShare){var r=e.localScreenShare.id,n=e.localScreenShare.getVideoTracks()[0];if(n){var i=r+" "+n.id,o=t.split(i);if(o[1])return o[1]="\r\na=content:slides"+o[1],t=o.join(i)}t+="a=content:slides\r\n"}return t}).then((0,R.tap)(function(t){e.offerSdp=t}))}},{key:"acceptAnswer",value:function(e){var t=this;this.logger.info("accepting answer"),this.logger.debug("new answer sdp:",e);var r=e.replace(/max-mbps=27600;max-fs=920/g,"max-mbps=27600;max-fs=8160");return r=r.replace(/m=video 0(.*?\r\n)/,"m=video 0$1a=inactive\r\n"),r=(0,F.removeExtmap)(r),this.logger.debug("cleaned answer sdp:",r),"have-local-offer"===this.pc.signalingState?this.pc.setRemoteDescription(new RTCSessionDescription({sdp:r,type:"answer"})).then(function(){t.logger.info("answer accepted"),t.answerSdp=r,t.sendingAudio=(0,F.getMediaDirectionFromTracks)("audio",t.pc).includes("send"),t.sendingVideo=(0,F.getMediaDirectionFromTracks)("video",t.pc).includes("send"),t.updateLocalMediaToTargetDirection(),t.trigger("answeraccepted"),t.negotiationNeeded=!1}):x.default.resolve()}},{key:"_setNewMediaDirection",value:function(e,t){var r=this;this.logger.info("setting "+e+" direction to "+t);var n=t.includes("send");if(this.constraints[e]=n,!n)return this.logger.info("muting "+e+" local tracks"),this.localMediaStream?this.localMediaStream.getTracks().filter(function(t){return t.kind===e}).forEach(function(t){r.logger.info("muting existing "+e+" track from localMediaStream");var i=r.pc.getSenders().find(function(e){return e.track===t});N.default.firefox||r.localMediaStream.removeTrack(t),i&&(r.logger.info("muting existing "+e+" track on sender"),i.track.enabled=!1,t.enabled=!1,N.default.firefox||r.pc.removeTrack(i)),r.logger.info("setting sending"+W[e]+" to "+n),r["sending"+W[e]]=n}):x.default.resolve();var i=this.pc.getSenders().filter(function(t){return t.track&&t.track.kind===e});if(i.length>0){this.logger.info("enabling existing "+e+" sender track");var o=this.localMediaStream.getTracks().filter(function(t){return t.kind===e});return i.forEach(function(e){e.track.enabled=o.includes(e.track)}),this["sending"+W[e]]=n,x.default.resolve()}return this[e+"Direction"].includes("send")?x.default.resolve():this._setNewMediaConstraint(e,n)}},{key:"_setNewMediaTrack",value:function(e,t){return this.logger.info("setting new "+e+" track"),this.constraints[e]=!1,this.addOrReplaceTrack(t)}},{key:"_setNewMediaConstraint",value:function(e,t){return this.logger.info("setting "+e+" with new constraint"),this.constraints[e]=t,this._getUserMedia()}},{key:"_setScreenShare",value:function(e,t){var r=this;if(this.logger.info("calling _setScreenShare"),B.set(this,"screen",e),e.includes("send")){var n=(0,C.default)({},t,{mediaSource:"application",width:{min:"160",max:"1920"},height:{min:"90",max:"1080"},frameRate:{min:"1",max:"30"}});this._setNewMediaConstraint("screen",n)}else this.logger.info("removing existing screenshare tracks from peer connection and localScreenShare stream"),this.pc.getSenders().filter(function(e){return e.track&&r.localScreenShare.getTracks().includes(e.track)}).forEach(function(e){r.logger.info("removing screenshare track "+e.track.id+" from peer connection and localScreenShare stream");var t=e.track;e.track.enabled=!1,r.localScreenShare.removeTrack(t),r.pc.removeTrack(e),t.stop(),r.logger.info("removed screenshare track "+t.id+" from peer connection and localScreenShare stream")}),this.localScreenShare=!1}},{key:"setMedia",value:function(e,t,r){var n=this;return this.logger.info("setMedia"),"screen"===e?(this.logger.info("setMedia: setting new screen direction"),this._setScreenShare(t,r),x.default.resolve()):new x.default(function(i){if(r){if(!t.includes("send"))throw new Error("Cannot set new "+e+" track or constraint if direction does not include send");if(r instanceof MediaStreamTrack){if(r.kind!==e)throw new Error("track is not a valid "+e+" media stream track");i(n._setNewMediaTrack(e,r))}else i(n._setNewMediaConstraint(e,r))}else t===G(n,e)&&(n.logger.info("setMedia: "+e+" already transitioning to "+t+", not making changes"),i()),t===n[e+"Direction"]&&(n.logger.info("setMedia: "+e+" already set to "+t+", not making changes"),i()),i(n._setNewMediaDirection(e,t))}).then(function(){var r=t.includes("recv");n.logger.info("setMedia: set targetMediaDirection for "+e+" to "+t),B.set(n,e,t),n.logger.info("setMedia: set offerToReceive"+(0,F.kindToPropertyFragment)(e)+" to "+r),n.offerOptions["offerToReceive"+(0,F.kindToPropertyFragment)(e)]=r;var i=n.pc.getReceivers().filter(function(t){return t.track&&t.track.kind===e});r?i.length>0?(n.logger.info("setMedia: unpause existing receiving "+e+" track"),n.unpauseReceivingMedia(e)):!i.length&&n.answerSdp&&(n.logger.info("setMedia: no receiving "+e+" track exists, trigger negotiation"),n.triggerNegotiationNeeded()):i.length>0&&(n.logger.info("setMedia: pausing existing receiving "+e+" track"),n.pauseReceivingMedia(e))})}},{key:"_getUserMedia",value:function(){var r=this;return this.logger.info("enqueing request to get user media"),new x.default(function(t){return e.nextTick(t)}).then(function(){!0===r.constraints.audio&&r.pc.getSenders().find(function(e){return e.track&&"audio"===e.track.kind})&&(r.logger.info("already have a local audio track, removing constraint for a second one"),(0,k.default)(r.constraints,"audio")),!0===r.constraints.video&&r.pc.getSenders().find(function(e){return e.track&&"video"===e.track.kind})&&(r.logger.info("already have a local video track, removing constraint for a second one"),(0,k.default)(r.constraints,"video"));var e=r.constraints,n=e.audio,i=e.video,o=e.screen;return r.logger.info("getting user media with "+(n?"1":"0")+" audio track, "+(i?"1":"0")+" video track, and "+(o?"1":"0")+" screenshare track."),x.default.all([(n||i)&&t.getUserMedia({audio:n,video:i}),o&&t.getUserMedia({video:o})])}).then(function(e){var t=(0,S.default)(e,2),n=t[0],i=t[1],o=[];if(n&&(r.logger.info("got local media stream with "+n.getAudioTracks().length+" audio tracks and "+n.getVideoTracks().length+" video tracks"),n.getTracks().forEach(function(e){return o.push(r.addOrReplaceTrack(e))})),i){if(r.localScreenShare){var a=r.pc.getSenders().find(function(e){return r.localScreenShare.getTracks().includes(e.track)});a&&(r.logger.info("removing existing screenshare track from localScreenShare stream"),r.localScreenShare.removeTrack(a.track),r.logger.info("disabling existing screenshare track on sender"),a.track.enabled=!1),i.getTracks().forEach(function(e){a?(r.logger.info("replacing existing screenshare track on sender"),o.push(a.replaceTrack(e))):(r.logger.info("adding new screen track to peerConnection"),r.pc.addTrack(e,i))})}else r.logger.info("adding localScreenShare for the first time"),r.logger.info("adding new screenshare track to peer connection"),i.getVideoTracks().forEach(function(e){return r.pc.addTrack(e,i)});r.localScreenShare=i}return r.constraints={},x.default.all(o)}).catch(function(e){return r.trigger("error",e),x.default.reject(e)})}},{key:"addOrReplaceTrack",value:function(e){var t=this,r=[];this.localMediaStream||(this.localMediaStream=new MediaStream);var n=this.pc.getSenders().find(function(t){return t.track&&t.track.kind===e.kind}),i=this.localMediaStream.getTracks().find(function(t){return t.kind===e.kind});return i!==e&&(i&&(this.logger.info("removing previous "+i.kind+" track from localMediaStream"),this.localMediaStream.removeTrack(i)),this.logger.info("adding new "+e.kind+" track to localMediaStream"),this.localMediaStream.addTrack(e)),n?n.track===e?(this.logger.info("new track is the same as existing track, renabling "+e.kind+" track on sender"),n.track.enabled=!0):(this.logger.info("replacing new "+e.kind+" on existing sender"),r.push(n.replaceTrack(e).then(function(){t.logger.info("successfully replace "+e.kind+" on existing sender")}).catch(function(r){t.logger.warn(r),t.logger.warn("was not able to replace "+e.kind+" track on sender"),t.logger.info("adding as new "+e.kind+" track to peerConnection"),t.pc.removeTrack(n),t.pc.addTrack(e,t.localMediaStream)}))):(this.logger.info("adding new "+e.kind+" track to peerConnection"),this.pc.addTrack(e,this.localMediaStream)),this.logger.info("setting sending"+W[e.kind]+" to true"),this["sending"+W[e.kind]]=!0,x.default.all(r)}},{key:"pauseSendingMedia",value:function(e){var t=this;if(!e)throw new Error("kind is required");var r=this.pc.getSenders().filter(function(t){return t.track&&t.track.kind===e});if(0===r.length)throw new Error("No "+e+" media senders to pause");r.forEach(function(r){t.logger.info("pausing "+e+" sender"),r.track.enabled=!1}),this.logger.info("setting sending"+W[e]+" to false"),this["sending"+W[e]]=!1}},{key:"updateLocalMediaToTargetDirection",value:function(){var e=this;["audio","video"].forEach(function(t){var r=G(e,t),n=e[t+"Direction"];if(n!==r){var i=r.includes("send");n.includes("send")!==i&&e.pc.getSenders().forEach(function(e){e.track&&e.track.kind===t&&(e.track.enabled=i)});var o=r.includes("recv");n.includes("send")!==o&&e.pc.getReceivers().forEach(function(e){e.track&&e.track.kind===t&&(e.track.enabled=o)})}})}},{key:"unpauseSendingMedia",value:function(e){var t=this;if(!e)throw new Error("kind is required");var r=this.pc.getSenders().filter(function(t){return t.track&&t.track.kind===e});if(0===r.length)throw new Error("No "+e+" media senders to unpause");r.forEach(function(r){t.logger.info("unpausing "+e+" sender"),r.track.enabled=!0}),this.logger.info("setting sending"+W[e]+" to true"),this["sending"+W[e]]=!0}},{key:"pauseReceivingMedia",value:function(e){var t=this;if(!e)throw new Error("kind is required");var r=this.pc.getReceivers().filter(function(t){return t.track&&t.track.kind===e});if(0===r.length)throw new Error("No "+e+" receiver media tracks to pause");r.forEach(function(r){t.logger.info("pausing remote "+e+" track"),r.track.enabled=!1}),this.logger.info("setting receiving"+W[e]+" to false"),this["receiving"+W[e]]=!1}},{key:"unpauseReceivingMedia",value:function(e){var t=this;if(!e)throw new Error("kind is required");var r=this.pc.getReceivers().filter(function(t){return t.track&&t.track.kind===e});if(0===r.length)throw new Error("No "+e+" receiver media tracks to pause");r.forEach(function(r){t.logger.info("unpausing "+e+" receiver track"),r.track.enabled=!0}),this.logger.info("setting receiving"+W[e]+" to true from "+this["receiving"+W[e]]),this["receiving"+W[e]]=!0}},{key:"stop",value:function(){"closed"!==this.pc.signalingState&&(this.pc.getSenders().forEach(function(e){return e.track&&e.track.stop()}),this.pc.close()),this.pc.onnegotiationneeded=void 0,this.pc.ontrack=void 0,this.pc.onicecandidate=void 0,this.ended=!0,this.off()}},{key:"triggerNegotiationNeeded",value:function(){this.trigger("negotiationneeded")}},{key:"serialize",value:function(){return"WebRTCMediaEngine"}}]),t}(),a=q(o.prototype,"localMediaStream",[A.default],{enumerable:!0,initializer:null}),u=q(o.prototype,"remoteMediaStream",[A.default],{enumerable:!0,initializer:null}),s=q(o.prototype,"localScreenShare",[A.default],{enumerable:!0,initializer:null}),c=q(o.prototype,"offerSdp",[A.default],{enumerable:!0,initializer:function(){return""}}),f=q(o.prototype,"answerSdp",[A.default],{enumerable:!0,initializer:function(){return""}}),l=q(o.prototype,"sendingAudio",[A.default],{enumerable:!0,initializer:function(){return!1}}),d=q(o.prototype,"sendingVideo",[A.default],{enumerable:!0,initializer:function(){return!1}}),p=q(o.prototype,"receivingAudio",[A.default],{enumerable:!0,initializer:function(){return!1}}),h=q(o.prototype,"receivingVideo",[A.default],{enumerable:!0,initializer:function(){return!1}}),v=q(o.prototype,"ended",[A.default],{enumerable:!0,initializer:function(){return!1}}),g=q(o.prototype,"constraints",[j.nonenumerable],{enumerable:!0,initializer:function(){return{}}}),y=q(o.prototype,"offerOptions",[j.nonenumerable],{enumerable:!0,initializer:function(){return{}}}),m=q(o.prototype,"gumming",[j.nonenumerable,A.default],{enumerable:!0,initializer:function(){return!1}}),q(o.prototype,"_getUserMedia",[n,R.oneFlight],(0,w.default)(o.prototype,"_getUserMedia"),o.prototype),q(o.prototype,"triggerNegotiationNeeded",[i],(0,w.default)(o.prototype,"triggerNegotiationNeeded"),o.prototype),o);t.default=V,(0,b.default)(V.prototype,I.default)}).call(this,r(23))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t,r){void 0===r&&(r={}),this.execute=e,this.applicator=t,this.options=r}return Object.defineProperty(e.prototype,"bound",{get:function(){return null!=this.options.bound&&this.options.bound},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"setter",{get:function(){return null!=this.options.setter&&this.options.setter},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"getter",{get:function(){return null!=this.options.getter&&this.options.getter},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"property",{get:function(){return null!=this.options.property&&this.options.property},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"method",{get:function(){return null==this.options.method||this.options.method},enumerable:!0,configurable:!0}),e}();t.DecoratorConfig=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(36),i=r(468),o=r(78),a=function(){function e(){}return e.prototype.createDecorator=function(e){var t=this,r=e.applicator;return function(){for(var a=[],u=0;u<arguments.length;u++)a[u]=arguments[u];return function(u,s,c){var f=t._resolveDescriptor(u,s,c),l=f.value,d=f.get,p=f.set;return i.InstanceChainMap.has([u,s])||(n(l)?f.value=o.copyMetadata(r.apply({config:e,target:u,value:l,args:a}),l):n(d)&&e.getter?f.get=o.copyMetadata(r.apply({config:e,target:u,value:d,args:a}),d):n(p)&&e.setter&&(f.set=o.copyMetadata(r.apply({config:e,target:u,value:p,args:a}),d))),f}}},e.prototype.createInstanceDecorator=function(e){var t=this,r=e.applicator,a=e.bound;return function(){for(var u=[],s=0;s<arguments.length;s++)u[s]=arguments[s];return function(s,c,f){var l=t._resolveDescriptor(s,c,f),d=l.value,p=l.writable,h=l.enumerable,v=l.configurable,g=l.get,y=l.set,m=!i.InstanceChainMap.has([s,c]),b=i.InstanceChainMap.get([s,c])||{fns:[],properties:[]},_=m&&n(g),w=m&&n(y),S=m&&n(d),k=m&&!_&&!w&&!S;if(b.properties.push(c),b.fns.push(function(n,i,c){return t._isApplicable(c,e)?(a&&(n=o.bind(n,i)),o.copyMetadata(r.apply({args:u,target:s,instance:i,value:n,config:e}),n)):n}),i.InstanceChainMap.set([s,c],b),!m)return l;b.isSetter=w,b.isGetter=_,b.isMethod=S,b.isProperty=k;var x=function(e,t,r){return b.fns.reduce(function(e,n){return n(e,r,t)},e)},E=function(e){var t=g||void 0,r=y||void 0;if(_||w)_&&(t=x(g,{value:g,getter:!0},e)),w&&(r=x(y,{value:y,setter:!0},e)),Object.defineProperty(e,c,{enumerable:h,configurable:v,get:t,set:r});else if(S||k){var n=x(d,S?{value:d,method:!0}:{value:d,property:!0},e);Object.defineProperty(e,c,{writable:p,enumerable:h,configurable:v,value:n})}};return(S||k)&&(delete l.value,delete l.writable),l.get=function(){E(this);var e=Object.getOwnPropertyDescriptor(this,c);return e.get?e.get.call(this):e.value},l.set=function(e){E(this);var t=Object.getOwnPropertyDescriptor(this,c);t.set?t.set.call(this,e):(k||S)&&(this[c]=e)},l}}},e.prototype._isApplicable=function(e,t){return!Boolean(e.getter&&!t.getter||e.setter&&!t.setter||e.method&&!t.method||e.property&&!t.property)},e.prototype._resolveDescriptor=function(e,t,r){return r||(Object.getOwnPropertyDescriptor(e,t)||{})},e}();t.InternalDecoratorFactory=a,t.DecoratorFactory=new a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(36),i=r(115),o=r(469);t.resolveFunction=function(e,t,r,a){if(void 0===a&&(a=!0),n(e))return e;if(i(e)){if(t&&n(t[e]))return t[e];if(r&&n(r[e]))return r[e]}if(a)throw new ReferenceError(o.log("Can not resolve method "+e+" on any target Objects"))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(981),i=function(){function e(){this._weakMap=new WeakMap}return e.prototype.set=function(e,t){for(var r=this._weakMap,n=0,i=e.length-1;n<i;n++){var o=e[n],a=r.get(o);a||(a=new Map,r.set(o,a)),r=a}r.set(e[e.length-1],t)},e.prototype.get=function(e){for(var t=this._weakMap,r=0,i=e.length;r<i&&(t=t.get(e[r]),!n(t));r++);return t},e.prototype.has=function(e){return!n(this.get(e))},e}();t.CompositeKeyWeakMap=i},function(e,t){e.exports=function(e){return void 0===e}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.returnAtIndex=function(e,t){return function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return e.call.apply(e,[this].concat(r)),r[t]}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(470);t.bind=function(e,t){return n.copyMetadata(e.bind(t),e)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(471),i=["length","name","arguments","called","prototype"];t.wrapConstructor=function(e,t){function r(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return t.call.apply(t,[this,e].concat(r))}return r.prototype=e.prototype,Object.defineProperty(r,"name",{configurable:!0,enumerable:!1,value:e.name,writable:!1}),n.assignAll(r,e,i)}},function(e,t,r){var n=r(69),i=r(38),o=r(268),a="[object DOMException]",u="[object Error]";e.exports=function(e){if(!i(e))return!1;var t=n(e);return t==u||t==a||"string"==typeof e.message&&"string"==typeof e.name&&!o(e)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(475),i=r(5),o=r(9),a=i.DecoratorFactory.createInstanceDecorator(new i.DecoratorConfig(n,new o.PostValueApplicator,{setter:!0}));function u(e){return a(e)}t.After=u,t.after=u,t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(73),i=r(71),o=r(63),a=r(78),u=function(e){function t(t){void 0===t&&(t={});var r=e.call(this)||this;return r._config=t,r}return n.__extends(t,e),Object.defineProperty(t.prototype,"post",{get:function(){return!0===this._config.post},enumerable:!0,configurable:!0}),t.prototype.apply=function(e){var t=e.config.execute,r=e.value,n=void 0===r?i:r,o=e.args,u=e.target,s=this;return function(){for(var e=this,r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var c=o.map(function(t){return a.resolveFunction(t,e,u)}).slice();return s.post?c.push(n):c.unshift(n),t.apply(void 0,c).apply(this,r)}},t}(o.Applicator);t.ComposeApplicator=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(73),i=r(63),o=r(78),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.apply=function(e){var t=e.args,r=e.target,n=e.config.execute;return function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];return n.apply(void 0,[o.resolveFunction(t[0],this,r)].concat(t.slice(1))).apply(this,e)}},t}(i.Applicator);t.PartialApplicator=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(73),i=r(206),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.apply=function(e){var t=e.config.execute,r=e.value,n=e.args;return i.apply(void 0,[t,r].concat(n))},t}(r(63).Applicator);t.PartialedApplicator=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(73),i=r(36),o=r(63),a=r(78),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.apply=function(e){var t=e.args,r=e.target,n=e.value,o=e.config.execute;return function(){for(var e=[],u=0;u<arguments.length;u++)e[u]=arguments[u];var s=n,c=0;return i(s)||(s=a.resolveFunction(t[0],this,r),c=1),o.apply(void 0,[s].concat(t.slice(c))).apply(this,e)}},t}(o.Applicator);t.PartialValueApplicator=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(73),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.apply=function(e){var t=e.config,r=t.execute,n=(t.bound,e.args),i=e.value;return r.apply(void 0,n.concat([i]))},t}(r(63).Applicator);t.PostValueApplicator=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(73),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.apply=function(e){var t=e.value,r=e.config.execute,n=e.args;return r.apply(void 0,[t].concat(n))},t}(r(63).Applicator);t.PreValueApplicator=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(73),i=r(63),o=r(78),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.apply=function(e){var t=e.args,r=e.config.execute,n=e.target,i=e.value;return function(){for(var e=[],a=0;a<arguments.length;a++)e[a]=arguments[a];return r(o.resolveFunction(t[0],this,n),i).apply(this,e)}},t}(i.Applicator);t.WrapApplicator=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(73),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.apply=function(e){var t=e.value,r=e.config.execute,n=e.args,i=e.instance;e.target;return i?r.apply(void 0,[t,i].concat(n)):t},t}(r(63).Applicator);t.BindApplicator=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(73),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.apply=function(e){var t=e.args,r=(e.target,e.config.execute),n=e.value;return function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];return r.apply(void 0,[n.bind(this)].concat(e,t))}},t}(r(63).Applicator);t.InvokeApplicator=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(73),i=r(36),o=r(19),a=r(63),u=r(78),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.apply=function(e){var t=e.value,r=e.instance,n=e.config.execute,a=e.args,s=e.target,c=u.resolveFunction(i(a[0])?a[0]:o(a[0])?a[0].resolver:a[0],r,s,!1);c&&r&&(c=c.bind(r));var f=c?n(t,c):n(t);if(o(a[0])){var l=a[0],d=l.cache,p=l.type;d?f.cache=d:i(p)&&(f.cache=new p)}return f},t}(a.Applicator);t.MemoizeApplicator=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(475),i=r(5),o=r(9),a=i.DecoratorFactory.createDecorator(new i.DecoratorConfig(n,new o.PostValueApplicator,{setter:!0}));function u(e){return a(e)}t.AfterAll=u,t.afterAll=u,t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(476),i=r(5),o=r(9),a=i.DecoratorFactory.createDecorator(new i.DecoratorConfig(n,new o.PreValueApplicator));function u(e){return a(e)}t.Ary=u,t.ary=u,t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(474),i=r(206),o=r(5),a=r(9),u=o.DecoratorFactory.createDecorator(new o.DecoratorConfig(function(e){return i(n,e)},new a.PreValueApplicator));function s(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return u.apply(void 0,e)}t.Attempt=s,t.attempt=s,t.default=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(295),i=r(5),o=r(9),a=i.DecoratorFactory.createInstanceDecorator(new i.DecoratorConfig(n,new o.PostValueApplicator,{setter:!0}));function u(e){return a(e)}t.Before=u,t.before=u,t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(295),i=r(5),o=r(9),a=i.DecoratorFactory.createDecorator(new i.DecoratorConfig(n,new o.PostValueApplicator,{setter:!0}));function u(e){return a(e)}t.BeforeAll=u,t.beforeAll=u,t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(441),i=r(5),o=r(9),a=i.DecoratorFactory.createInstanceDecorator(new i.DecoratorConfig(n,new o.BindApplicator));function u(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return a.apply(void 0,e)}t.Bind=u,t.bind=u,t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(36),i=r(78),o=r(5);function a(e){return void 0===e&&(e=[]),function(t){return i.wrapConstructor(t,function(r){for(var a=[],u=1;u<arguments.length;u++)a[u-1]=arguments[u];!function(e,t,r){void 0===r&&(r=[]);var a=e.prototype;for(;a&&a!==Object.prototype;){for(var u=0,s=Object.getOwnPropertyNames(a);u<s.length;u++){var c=s[u],f=!r.length||-1!==r.indexOf(c),l=Object.getOwnPropertyDescriptor(a,c);if(f&&"constructor"!==c&&!t.hasOwnProperty(c)){if(l.get){var d=o.InstanceChainMap.get([a,c]);if(!d||!d.isMethod)continue}var p=t[c];n(p)&&Object.defineProperty(t,c,{configurable:!0,enumerable:l.enumerable,value:i.copyMetadata(p.bind(t),p),writable:l.writable})}}a=Object.getPrototypeOf(a)}}(t,this,e),r.apply(this,a)})}}t.BindAll=a,t.bindAll=a,t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(163),i=r(5),o=r(9),a=i.DecoratorFactory.createInstanceDecorator(new i.DecoratorConfig(n,new o.PreValueApplicator,{bound:!0}));function u(e){return a(e)}t.Curry=u,t.curry=u,t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(163),i=r(5),o=r(9),a=i.DecoratorFactory.createDecorator(new i.DecoratorConfig(n,new o.PreValueApplicator));function u(e){return a(e)}t.CurryAll=u,t.curryAll=u,t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(477),i=r(5),o=r(9),a=i.DecoratorFactory.createInstanceDecorator(new i.DecoratorConfig(n,new o.PreValueApplicator,{bound:!0}));function u(e){return a(e)}t.CurryRight=u,t.curryRight=u,t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(477),i=r(5),o=r(9),a=i.DecoratorFactory.createDecorator(new i.DecoratorConfig(n,new o.PreValueApplicator));function u(e){return a(e)}t.CurryRightAll=u,t.curryRightAll=u,t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(211),i=r(5),o=r(9),a=i.DecoratorFactory.createInstanceDecorator(new i.DecoratorConfig(n,new o.PreValueApplicator,{setter:!0}));function u(e,t){return a(e,t)}t.Debounce=u,t.debounce=u,t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(211),i=r(5),o=r(9),a=i.DecoratorFactory.createDecorator(new i.DecoratorConfig(n,new o.PreValueApplicator));function u(e,t){return a(e,t)}t.DebounceAll=u,t.debounceAll=u,t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(1011),i=r(5),o=r(9),a=i.DecoratorFactory.createDecorator(new i.DecoratorConfig(n,new o.InvokeApplicator,{setter:!0}));function u(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return a.apply(void 0,e)}t.Defer=u,t.defer=u,t.default=a},function(e,t,r){var n=r(478),i=r(26)(function(e,t){return n(e,1,t)});e.exports=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(1013),i=r(5),o=r(9),a=i.DecoratorFactory.createDecorator(new i.DecoratorConfig(function(e,t){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return n.apply(void 0,[e.bind(this),t].concat(i,r))}},new o.PreValueApplicator,{setter:!0}));function u(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return a.apply(void 0,[e].concat(t))}t.Delay=u,t.delay=u,t.default=a},function(e,t,r){var n=r(478),i=r(26),o=r(286),a=i(function(e,t,r){return n(e,o(t)||0,r)});e.exports=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(1015),i=r(5),o=r(9),a=i.DecoratorFactory.createInstanceDecorator(new i.DecoratorConfig(n,new o.PartialValueApplicator,{property:!0}));function u(e){return a(e)}t.Flip=u,t.flip=u,t.default=a},function(e,t,r){var n=r(91),i=512;e.exports=function(e){return n(e,i)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(1017),i=r(5),o=r(9),a=i.DecoratorFactory.createInstanceDecorator(new i.DecoratorConfig(n,new o.ComposeApplicator({post:!0}),{property:!0}));function u(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return a.apply(void 0,e)}t.Flow=u,t.flow=u,t.default=a},function(e,t,r){var n=r(479)();e.exports=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(1019),i=r(5),o=r(9),a=i.DecoratorFactory.createInstanceDecorator(new i.DecoratorConfig(n,new o.ComposeApplicator({post:!1}),{property:!0}));function u(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return a.apply(void 0,e)}t.FlowRight=u,t.flowRight=u,t.default=a},function(e,t,r){var n=r(479)(!0);e.exports=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(201),i=r(5),o=r(9),a=i.DecoratorFactory.createInstanceDecorator(new i.DecoratorConfig(n,new o.MemoizeApplicator));function u(e){return a(e)}t.Memoize=u,t.memoize=u,t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(201),i=r(5),o=r(9),a=i.DecoratorFactory.createDecorator(new i.DecoratorConfig(n,new o.MemoizeApplicator));function u(e){return a(e)}t.MemoizeAll=u,t.memoizeAll=u,t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(133);function i(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return n.apply(void 0,[t.prototype].concat(e)),t}}t.Mixin=i,t.mixin=i,t.default=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(480),i=r(5),o=r(9),a=i.DecoratorFactory.createInstanceDecorator(new i.DecoratorConfig(n,new o.PartialValueApplicator,{property:!0}));function u(e){return a(e)}t.Negate=u,t.negate=u,t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(427),i=r(5),o=r(9),a=i.DecoratorFactory.createInstanceDecorator(new i.DecoratorConfig(n,new o.PreValueApplicator,{setter:!0}));function u(){return a()}t.Once=u,t.once=u,t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(1026),i=r(5),o=r(9),a=i.DecoratorFactory.createDecorator(new i.DecoratorConfig(n,new o.PreValueApplicator,{setter:!0}));function u(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return a.apply(void 0,e)}t.OverArgs=u,t.overArgs=u,t.default=a},function(e,t,r){var n=r(89),i=r(108),o=r(154),a=r(52),u=r(26),s=r(111),c=r(1027),f=r(4),l=Math.min,d=c(function(e,t){var r=(t=1==t.length&&f(t[0])?i(t[0],s(a)):i(o(t,1),s(a))).length;return u(function(i){for(var o=-1,a=l(i.length,r);++o<a;)i[o]=t[o].call(this,i[o]);return n(e,this,i)})});e.exports=d},function(e,t,r){var n=r(26);e.exports=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(206),i=r(5),o=r(9),a=i.DecoratorFactory.createInstanceDecorator(new i.DecoratorConfig(n,new o.PartialApplicator,{property:!0,method:!1}));function u(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return a.apply(void 0,e)}t.Partial=u,t.partial=u,t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(1030),i=r(5),o=r(9),a=i.DecoratorFactory.createInstanceDecorator(new i.DecoratorConfig(n,new o.PartialApplicator,{property:!0,method:!1}));function u(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return a.apply(void 0,e)}t.PartialRight=u,t.partialRight=u,t.default=a},function(e,t,r){var n=r(26),i=r(91),o=r(160),a=r(131),u=n(function(e,t){var r=a(t,o(u));return i(e,64,void 0,t,r)});u.placeholder={},e.exports=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(1032),i=r(5),o=r(9),a=i.DecoratorFactory.createInstanceDecorator(new i.DecoratorConfig(n,new o.PartialValueApplicator,{property:!0}));function u(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return a.apply(void 0,[e].concat(t))}t.Rearg=u,t.rearg=u,t.default=a},function(e,t,r){var n=r(91),i=r(204)(function(e,t){return n(e,256,void 0,void 0,void 0,t)});e.exports=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(1034),i=r(5),o=r(9),a=i.DecoratorFactory.createDecorator(new i.DecoratorConfig(n,new o.PreValueApplicator));function u(e){return a(e)}t.Rest=u,t.rest=u,t.default=a},function(e,t,r){var n=r(26),i=r(61),o="Expected a function";e.exports=function(e,t){if("function"!=typeof e)throw new TypeError(o);return t=void 0===t?t:i(t),n(e,t)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(1036),i=r(5),o=r(9),a=i.DecoratorFactory.createDecorator(new i.DecoratorConfig(n,new o.PreValueApplicator));function u(e){return a(e)}t.Spread=u,t.spread=u,t.default=a},function(e,t,r){var n=r(89),i=r(199),o=r(26),a=r(481),u=r(61),s="Expected a function",c=Math.max;e.exports=function(e,t){if("function"!=typeof e)throw new TypeError(s);return t=null==t?0:c(u(t),0),o(function(r){var o=r[t],u=a(r,0,t);return o&&i(u,o),n(e,this,u)})}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(5),i=r(9),o=r(78),a=n.DecoratorFactory.createDecorator(new n.DecoratorConfig(function(e){return o.returnAtIndex(e,0)},new i.PreValueApplicator));function u(){return a()}t.Tap=u,t.tap=u,t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(482),i=r(5),o=r(9),a=i.DecoratorFactory.createInstanceDecorator(new i.DecoratorConfig(n,new o.PreValueApplicator,{setter:!0,getter:!0})),u=i.DecoratorFactory.createInstanceDecorator(new i.DecoratorConfig(n,new o.PreValueApplicator,{getter:!0})),s=i.DecoratorFactory.createInstanceDecorator(new i.DecoratorConfig(n,new o.PreValueApplicator,{setter:!0}));function c(e,t){return a(e,t)}function f(e,t){return u(e,t)}function l(e,t){return s(e,t)}t.Throttle=c,t.throttle=c,t.ThrottleGetter=f,t.throttleGetter=f,t.ThrottleSetter=l,t.throttleSetter=l,t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(482),i=r(5),o=r(9),a=i.DecoratorFactory.createDecorator(new i.DecoratorConfig(n,new o.PreValueApplicator,{setter:!0}));function u(e,t){return a(e,t)}t.ThrottleAll=u,t.throttleAll=u,t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(1041),i=r(5),o=r(9),a=i.DecoratorFactory.createDecorator(new i.DecoratorConfig(n,new o.PreValueApplicator));function u(){return a()}t.Unary=u,t.unary=u,t.default=a},function(e,t,r){var n=r(476);e.exports=function(e){return n(e,1)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(130),i=r(5),o=r(9),a=i.DecoratorFactory.createDecorator(new i.DecoratorConfig(n,new o.WrapApplicator));function u(e){return a(e)}t.Wrap=u,t.wrap=u,t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(r(30)),i=a(r(60)),o=a(r(44));function a(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t,r){var i=r.initializer&&r.initializer();(0,n.default)(r,"value"),(0,n.default)(r,"initializer"),(0,n.default)(r,"writable"),r.get=function(){var e=u.get(this,t);return void 0!==e?e:i},r.set=function(e){var r=this[t];r!==e&&(u.set(this,t,e),this.trigger("change:"+t,e,r),this.trigger("change"))}};var u=new((0,r(13).make)(o.default,i.default))},function(e,t,r){var n=function(e){return String(Number(e))===e?Number(e):e},i=function(e,t,r){var i=e.name&&e.names;e.push&&!t[e.push]?t[e.push]=[]:i&&!t[e.name]&&(t[e.name]={});var o=e.push?{}:i?t[e.name]:t;!function(e,t,r,i){if(i&&!r)t[i]=n(e[1]);else for(var o=0;o<r.length;o+=1)null!=e[o+1]&&(t[r[o]]=n(e[o+1]))}(r.match(e.reg),o,e.names,e.name),e.push&&t[e.push].push(o)},o=r(306),a=RegExp.prototype.test.bind(/^([a-z])=(.*)/);t.parse=function(e){var t={},r=[],n=t;return e.split(/(\r\n|\r|\n)/).filter(a).forEach(function(e){var t=e[0],a=e.slice(2);"m"===t&&(r.push({rtp:[],fmtp:[]}),n=r[r.length-1]);for(var u=0;u<(o[t]||[]).length;u+=1){var s=o[t][u];if(s.reg.test(a))return i(s,n,a)}}),t.media=r,t};var u=function(e,t){var r=t.split(/=(.+)/,2);return 2===r.length?e[r[0]]=n(r[1]):1===r.length&&t.length>1&&(e[r[0]]=void 0),e};t.parseParams=function(e){return e.split(/\;\s?/).reduce(u,{})},t.parseFmtpConfig=t.parseParams,t.parsePayloads=function(e){return e.split(" ").map(Number)},t.parseRemoteCandidates=function(e){for(var t=[],r=e.split(" ").map(n),i=0;i<r.length;i+=3)t.push({component:r[i],ip:r[i+1],port:r[i+2]});return t},t.parseImageAttributes=function(e){return e.split(" ").map(function(e){return e.substring(1,e.length-1).split(",").reduce(u,{})})},t.parseSimulcastStreamList=function(e){return e.split(";").map(function(e){return e.split(",").map(function(e){var t,r=!1;return"~"!==e[0]?t=n(e):(t=n(e.substring(1,e.length)),r=!0),{scid:t,paused:r}})})}},function(e,t,r){var n=r(306),i=/%[sdv%]/g,o=function(e,t,r){var n=[e+"="+(t.format instanceof Function?t.format(t.push?r:r[t.name]):t.format)];if(t.names)for(var o=0;o<t.names.length;o+=1){var a=t.names[o];t.name?n.push(r[t.name][a]):n.push(r[t.names[o]])}else n.push(r[t.name]);return function(e){var t=1,r=arguments,n=r.length;return e.replace(i,function(e){if(t>=n)return e;var i=r[t];switch(t+=1,e){case"%%":return"%";case"%s":return String(i);case"%d":return Number(i);case"%v":return""}})}.apply(null,n)},a=["v","o","s","i","u","e","p","c","b","t","r","z","a"],u=["i","c","b","a"];e.exports=function(e,t){t=t||{},null==e.version&&(e.version=0),null==e.name&&(e.name=" "),e.media.forEach(function(e){null==e.payloads&&(e.payloads="")});var r=t.outerOrder||a,i=t.innerOrder||u,s=[];return r.forEach(function(t){n[t].forEach(function(r){r.name in e&&null!=e[r.name]?s.push(o(t,r,e)):r.push in e&&null!=e[r.push]&&e[r.push].forEach(function(e){s.push(o(t,r,e))})})}),e.media.forEach(function(e){s.push(o("m",n.m[0],e)),i.forEach(function(t){n[t].forEach(function(r){r.name in e&&null!=e[r.name]?s.push(o(t,r,e)):r.push in e&&null!=e[r.push]&&e[r.push].forEach(function(e){s.push(o(t,r,e))})})})}),s.join("\r\n")+"\r\n"}},function(e,t,r){
/*!
 * Bowser - a browser detector
 * https://github.com/ded/bowser
 * MIT License | (c) Dustin Diaz 2015
 */
!function(t,n,i){void 0!==e&&e.exports?e.exports=i():r(1047)("bowser",i)}(0,0,function(){var e=!0;function t(t){function r(e){var r=t.match(e);return r&&r.length>1&&r[1]||""}function n(e){var r=t.match(e);return r&&r.length>1&&r[2]||""}var i,a=r(/(ipod|iphone|ipad)/i).toLowerCase(),u=!/like android/i.test(t)&&/android/i.test(t),s=/nexus\s*[0-6]\s*/i.test(t),c=!s&&/nexus\s*[0-9]+/i.test(t),f=/CrOS/.test(t),l=/silk/i.test(t),d=/sailfish/i.test(t),p=/tizen/i.test(t),h=/(web|hpw)(o|0)s/i.test(t),v=/windows phone/i.test(t),g=(/SamsungBrowser/i.test(t),!v&&/windows/i.test(t)),y=!a&&!l&&/macintosh/i.test(t),m=!u&&!d&&!p&&!h&&/linux/i.test(t),b=n(/edg([ea]|ios)\/(\d+(\.\d+)?)/i),_=r(/version\/(\d+(\.\d+)?)/i),w=/tablet/i.test(t)&&!/tablet pc/i.test(t),S=!w&&/[^-]mobi/i.test(t),k=/xbox/i.test(t);/opera/i.test(t)?i={name:"Opera",opera:e,version:_||r(/(?:opera|opr|opios)[\s\/](\d+(\.\d+)?)/i)}:/opr\/|opios/i.test(t)?i={name:"Opera",opera:e,version:r(/(?:opr|opios)[\s\/](\d+(\.\d+)?)/i)||_}:/SamsungBrowser/i.test(t)?i={name:"Samsung Internet for Android",samsungBrowser:e,version:_||r(/(?:SamsungBrowser)[\s\/](\d+(\.\d+)?)/i)}:/Whale/i.test(t)?i={name:"NAVER Whale browser",whale:e,version:r(/(?:whale)[\s\/](\d+(?:\.\d+)+)/i)}:/MZBrowser/i.test(t)?i={name:"MZ Browser",mzbrowser:e,version:r(/(?:MZBrowser)[\s\/](\d+(?:\.\d+)+)/i)}:/coast/i.test(t)?i={name:"Opera Coast",coast:e,version:_||r(/(?:coast)[\s\/](\d+(\.\d+)?)/i)}:/focus/i.test(t)?i={name:"Focus",focus:e,version:r(/(?:focus)[\s\/](\d+(?:\.\d+)+)/i)}:/yabrowser/i.test(t)?i={name:"Yandex Browser",yandexbrowser:e,version:_||r(/(?:yabrowser)[\s\/](\d+(\.\d+)?)/i)}:/ucbrowser/i.test(t)?i={name:"UC Browser",ucbrowser:e,version:r(/(?:ucbrowser)[\s\/](\d+(?:\.\d+)+)/i)}:/mxios/i.test(t)?i={name:"Maxthon",maxthon:e,version:r(/(?:mxios)[\s\/](\d+(?:\.\d+)+)/i)}:/epiphany/i.test(t)?i={name:"Epiphany",epiphany:e,version:r(/(?:epiphany)[\s\/](\d+(?:\.\d+)+)/i)}:/puffin/i.test(t)?i={name:"Puffin",puffin:e,version:r(/(?:puffin)[\s\/](\d+(?:\.\d+)?)/i)}:/sleipnir/i.test(t)?i={name:"Sleipnir",sleipnir:e,version:r(/(?:sleipnir)[\s\/](\d+(?:\.\d+)+)/i)}:/k-meleon/i.test(t)?i={name:"K-Meleon",kMeleon:e,version:r(/(?:k-meleon)[\s\/](\d+(?:\.\d+)+)/i)}:v?(i={name:"Windows Phone",osname:"Windows Phone",windowsphone:e},b?(i.msedge=e,i.version=b):(i.msie=e,i.version=r(/iemobile\/(\d+(\.\d+)?)/i))):/msie|trident/i.test(t)?i={name:"Internet Explorer",msie:e,version:r(/(?:msie |rv:)(\d+(\.\d+)?)/i)}:f?i={name:"Chrome",osname:"Chrome OS",chromeos:e,chromeBook:e,chrome:e,version:r(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:/edg([ea]|ios)/i.test(t)?i={name:"Microsoft Edge",msedge:e,version:b}:/vivaldi/i.test(t)?i={name:"Vivaldi",vivaldi:e,version:r(/vivaldi\/(\d+(\.\d+)?)/i)||_}:d?i={name:"Sailfish",osname:"Sailfish OS",sailfish:e,version:r(/sailfish\s?browser\/(\d+(\.\d+)?)/i)}:/seamonkey\//i.test(t)?i={name:"SeaMonkey",seamonkey:e,version:r(/seamonkey\/(\d+(\.\d+)?)/i)}:/firefox|iceweasel|fxios/i.test(t)?(i={name:"Firefox",firefox:e,version:r(/(?:firefox|iceweasel|fxios)[ \/](\d+(\.\d+)?)/i)},/\((mobile|tablet);[^\)]*rv:[\d\.]+\)/i.test(t)&&(i.firefoxos=e,i.osname="Firefox OS")):l?i={name:"Amazon Silk",silk:e,version:r(/silk\/(\d+(\.\d+)?)/i)}:/phantom/i.test(t)?i={name:"PhantomJS",phantom:e,version:r(/phantomjs\/(\d+(\.\d+)?)/i)}:/slimerjs/i.test(t)?i={name:"SlimerJS",slimer:e,version:r(/slimerjs\/(\d+(\.\d+)?)/i)}:/blackberry|\bbb\d+/i.test(t)||/rim\stablet/i.test(t)?i={name:"BlackBerry",osname:"BlackBerry OS",blackberry:e,version:_||r(/blackberry[\d]+\/(\d+(\.\d+)?)/i)}:h?(i={name:"WebOS",osname:"WebOS",webos:e,version:_||r(/w(?:eb)?osbrowser\/(\d+(\.\d+)?)/i)},/touchpad\//i.test(t)&&(i.touchpad=e)):/bada/i.test(t)?i={name:"Bada",osname:"Bada",bada:e,version:r(/dolfin\/(\d+(\.\d+)?)/i)}:p?i={name:"Tizen",osname:"Tizen",tizen:e,version:r(/(?:tizen\s?)?browser\/(\d+(\.\d+)?)/i)||_}:/qupzilla/i.test(t)?i={name:"QupZilla",qupzilla:e,version:r(/(?:qupzilla)[\s\/](\d+(?:\.\d+)+)/i)||_}:/chromium/i.test(t)?i={name:"Chromium",chromium:e,version:r(/(?:chromium)[\s\/](\d+(?:\.\d+)?)/i)||_}:/chrome|crios|crmo/i.test(t)?i={name:"Chrome",chrome:e,version:r(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:u?i={name:"Android",version:_}:/safari|applewebkit/i.test(t)?(i={name:"Safari",safari:e},_&&(i.version=_)):a?(i={name:"iphone"==a?"iPhone":"ipad"==a?"iPad":"iPod"},_&&(i.version=_)):i=/googlebot/i.test(t)?{name:"Googlebot",googlebot:e,version:r(/googlebot\/(\d+(\.\d+))/i)||_}:{name:r(/^(.*)\/(.*) /),version:n(/^(.*)\/(.*) /)},!i.msedge&&/(apple)?webkit/i.test(t)?(/(apple)?webkit\/537\.36/i.test(t)?(i.name=i.name||"Blink",i.blink=e):(i.name=i.name||"Webkit",i.webkit=e),!i.version&&_&&(i.version=_)):!i.opera&&/gecko\//i.test(t)&&(i.name=i.name||"Gecko",i.gecko=e,i.version=i.version||r(/gecko\/(\d+(\.\d+)?)/i)),i.windowsphone||!u&&!i.silk?!i.windowsphone&&a?(i[a]=e,i.ios=e,i.osname="iOS"):y?(i.mac=e,i.osname="macOS"):k?(i.xbox=e,i.osname="Xbox"):g?(i.windows=e,i.osname="Windows"):m&&(i.linux=e,i.osname="Linux"):(i.android=e,i.osname="Android");var x="";i.windows?x=function(e){switch(e){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}(r(/Windows ((NT|XP)( \d\d?.\d)?)/i)):i.windowsphone?x=r(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i):i.mac?x=(x=r(/Mac OS X (\d+([_\.\s]\d+)*)/i)).replace(/[_\s]/g,"."):a?x=(x=r(/os (\d+([_\s]\d+)*) like mac os x/i)).replace(/[_\s]/g,"."):u?x=r(/android[ \/-](\d+(\.\d+)*)/i):i.webos?x=r(/(?:web|hpw)os\/(\d+(\.\d+)*)/i):i.blackberry?x=r(/rim\stablet\sos\s(\d+(\.\d+)*)/i):i.bada?x=r(/bada\/(\d+(\.\d+)*)/i):i.tizen&&(x=r(/tizen[\/\s](\d+(\.\d+)*)/i)),x&&(i.osversion=x);var E=!i.windows&&x.split(".")[0];return w||c||"ipad"==a||u&&(3==E||E>=4&&!S)||i.silk?i.tablet=e:(S||"iphone"==a||"ipod"==a||u||s||i.blackberry||i.webos||i.bada)&&(i.mobile=e),i.msedge||i.msie&&i.version>=10||i.yandexbrowser&&i.version>=15||i.vivaldi&&i.version>=1||i.chrome&&i.version>=20||i.samsungBrowser&&i.version>=4||i.whale&&1===o([i.version,"1.0"])||i.mzbrowser&&1===o([i.version,"6.0"])||i.focus&&1===o([i.version,"1.0"])||i.firefox&&i.version>=20||i.safari&&i.version>=6||i.opera&&i.version>=10||i.ios&&i.osversion&&i.osversion.split(".")[0]>=6||i.blackberry&&i.version>=10.1||i.chromium&&i.version>=20?i.a=e:i.msie&&i.version<10||i.chrome&&i.version<20||i.firefox&&i.version<20||i.safari&&i.version<6||i.opera&&i.version<10||i.ios&&i.osversion&&i.osversion.split(".")[0]<6||i.chromium&&i.version<20?i.c=e:i.x=e,i}var r=t("undefined"!=typeof navigator&&navigator.userAgent||"");function n(e){return e.split(".").length}function i(e,t){var r,n=[];if(Array.prototype.map)return Array.prototype.map.call(e,t);for(r=0;r<e.length;r++)n.push(t(e[r]));return n}function o(e){for(var t=Math.max(n(e[0]),n(e[1])),r=i(e,function(e){var r=t-n(e);return i((e+=new Array(r+1).join(".0")).split("."),function(e){return new Array(20-e.length).join("0")+e}).reverse()});--t>=0;){if(r[0][t]>r[1][t])return 1;if(r[0][t]!==r[1][t])return-1;if(0===t)return 0}}function a(e,n,i){var a=r;"string"==typeof n&&(i=n,n=void 0),void 0===n&&(n=!1),i&&(a=t(i));var u=""+a.version;for(var s in e)if(e.hasOwnProperty(s)&&a[s]){if("string"!=typeof e[s])throw new Error("Browser version in the minVersion map should be a string: "+s+": "+String(e));return o([u,e[s]])<0}return n}return r.test=function(e){for(var t=0;t<e.length;++t){var n=e[t];if("string"==typeof n&&n in r)return!0}return!1},r.isUnsupportedBrowser=a,r.compareVersions=o,r.check=function(e,t,r){return!a(e,t,r)},r._detect=t,r.detect=t,r})},function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},function(e,t,r){"use strict";(function(e){if(!e.env.NO_WEBRTC_ADAPTER)try{r(1049)}catch(e){console.warn("Failed to apply adapter.js. Are we running in an environment that disallows altering globals?",e)}}).call(this,r(23))},function(e,t,r){"use strict";(function(t){var n=r(1050);e.exports=n({window:t.window})}).call(this,r(32))},function(e,t,r){"use strict";var n=r(79);e.exports=function(e,t){var i=e&&e.window,o={shimChrome:!0,shimFirefox:!0,shimEdge:!0,shimSafari:!0};for(var a in t)hasOwnProperty.call(t,a)&&(o[a]=t[a]);var u=n.log,s=n.detectBrowser(i),c=r(1051)||null,f=r(1053)||null,l=r(1057)||null,d=r(1059)||null,p=r(1060)||null,h={browserDetails:s,commonShim:p,extractVersion:n.extractVersion,disableLog:n.disableLog,disableWarnings:n.disableWarnings};switch(s.browser){case"chrome":if(!c||!c.shimPeerConnection||!o.shimChrome)return u("Chrome shim is not included in this adapter release."),h;u("adapter.js shimming chrome."),h.browserShim=c,p.shimCreateObjectURL(i),c.shimGetUserMedia(i),c.shimMediaStream(i),c.shimSourceObject(i),c.shimPeerConnection(i),c.shimOnTrack(i),c.shimAddTrackRemoveTrack(i),c.shimGetSendersWithDtmf(i),c.shimSenderReceiverGetStats(i),c.fixNegotiationNeeded(i),p.shimRTCIceCandidate(i),p.shimMaxMessageSize(i),p.shimSendThrowTypeError(i);break;case"firefox":if(!l||!l.shimPeerConnection||!o.shimFirefox)return u("Firefox shim is not included in this adapter release."),h;u("adapter.js shimming firefox."),h.browserShim=l,p.shimCreateObjectURL(i),l.shimGetUserMedia(i),l.shimSourceObject(i),l.shimPeerConnection(i),l.shimOnTrack(i),l.shimRemoveStream(i),l.shimSenderGetStats(i),l.shimReceiverGetStats(i),l.shimRTCDataChannel(i),p.shimRTCIceCandidate(i),p.shimMaxMessageSize(i),p.shimSendThrowTypeError(i);break;case"edge":if(!f||!f.shimPeerConnection||!o.shimEdge)return u("MS edge shim is not included in this adapter release."),h;u("adapter.js shimming edge."),h.browserShim=f,p.shimCreateObjectURL(i),f.shimGetUserMedia(i),f.shimPeerConnection(i),f.shimReplaceTrack(i),p.shimMaxMessageSize(i),p.shimSendThrowTypeError(i);break;case"safari":if(!d||!o.shimSafari)return u("Safari shim is not included in this adapter release."),h;u("adapter.js shimming safari."),h.browserShim=d,p.shimCreateObjectURL(i),d.shimRTCIceServerUrls(i),d.shimCreateOfferLegacy(i),d.shimCallbacksAPI(i),d.shimLocalStreamsAPI(i),d.shimRemoteStreamsAPI(i),d.shimTrackEventTransceiver(i),d.shimGetUserMedia(i),p.shimRTCIceCandidate(i),p.shimMaxMessageSize(i),p.shimSendThrowTypeError(i);break;default:u("Unsupported browser!")}return h}},function(e,t,r){"use strict";var n=r(79),i=n.log;function o(e,t,r){var n=r?"outbound-rtp":"inbound-rtp",i=new Map;if(null===t)return i;var o=[];return e.forEach(function(e){"track"===e.type&&e.trackIdentifier===t.id&&o.push(e)}),o.forEach(function(t){e.forEach(function(r){r.type===n&&r.trackId===t.id&&function e(t,r,n){r&&!n.has(r.id)&&(n.set(r.id,r),Object.keys(r).forEach(function(i){i.endsWith("Id")?e(t,t.get(r[i]),n):i.endsWith("Ids")&&r[i].forEach(function(r){e(t,t.get(r),n)})}))}(e,r,i)})}),i}e.exports={shimGetUserMedia:r(1052),shimMediaStream:function(e){e.MediaStream=e.MediaStream||e.webkitMediaStream},shimOnTrack:function(e){if("object"!=typeof e||!e.RTCPeerConnection||"ontrack"in e.RTCPeerConnection.prototype)"RTCRtpTransceiver"in e||n.wrapPeerConnectionEvent(e,"track",function(e){return e.transceiver||(e.transceiver={receiver:e.receiver}),e});else{Object.defineProperty(e.RTCPeerConnection.prototype,"ontrack",{get:function(){return this._ontrack},set:function(e){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=e)},enumerable:!0,configurable:!0});var t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){var r=this;return r._ontrackpoly||(r._ontrackpoly=function(t){t.stream.addEventListener("addtrack",function(n){var i;i=e.RTCPeerConnection.prototype.getReceivers?r.getReceivers().find(function(e){return e.track&&e.track.id===n.track.id}):{track:n.track};var o=new Event("track");o.track=n.track,o.receiver=i,o.transceiver={receiver:i},o.streams=[t.stream],r.dispatchEvent(o)}),t.stream.getTracks().forEach(function(n){var i;i=e.RTCPeerConnection.prototype.getReceivers?r.getReceivers().find(function(e){return e.track&&e.track.id===n.id}):{track:n};var o=new Event("track");o.track=n,o.receiver=i,o.transceiver={receiver:i},o.streams=[t.stream],r.dispatchEvent(o)})},r.addEventListener("addstream",r._ontrackpoly)),t.apply(r,arguments)}}},shimGetSendersWithDtmf:function(e){if("object"==typeof e&&e.RTCPeerConnection&&!("getSenders"in e.RTCPeerConnection.prototype)&&"createDTMFSender"in e.RTCPeerConnection.prototype){var t=function(e,t){return{track:t,get dtmf(){return void 0===this._dtmf&&("audio"===t.kind?this._dtmf=e.createDTMFSender(t):this._dtmf=null),this._dtmf},_pc:e}};if(!e.RTCPeerConnection.prototype.getSenders){e.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};var r=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,n){var i=r.apply(this,arguments);return i||(i=t(this,e),this._senders.push(i)),i};var n=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){n.apply(this,arguments);var t=this._senders.indexOf(e);-1!==t&&this._senders.splice(t,1)}}var i=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){var r=this;r._senders=r._senders||[],i.apply(r,[e]),e.getTracks().forEach(function(e){r._senders.push(t(r,e))})};var o=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){var t=this;t._senders=t._senders||[],o.apply(t,[e]),e.getTracks().forEach(function(e){var r=t._senders.find(function(t){return t.track===e});r&&t._senders.splice(t._senders.indexOf(r),1)})}}else if("object"==typeof e&&e.RTCPeerConnection&&"getSenders"in e.RTCPeerConnection.prototype&&"createDTMFSender"in e.RTCPeerConnection.prototype&&e.RTCRtpSender&&!("dtmf"in e.RTCRtpSender.prototype)){var a=e.RTCPeerConnection.prototype.getSenders;e.RTCPeerConnection.prototype.getSenders=function(){var e=this,t=a.apply(e,[]);return t.forEach(function(t){t._pc=e}),t},Object.defineProperty(e.RTCRtpSender.prototype,"dtmf",{get:function(){return void 0===this._dtmf&&("audio"===this.track.kind?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}},shimSenderReceiverGetStats:function(e){if("object"==typeof e&&e.RTCPeerConnection&&e.RTCRtpSender&&e.RTCRtpReceiver){if(!("getStats"in e.RTCRtpSender.prototype)){var t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){var e=this,r=t.apply(e,[]);return r.forEach(function(t){t._pc=e}),r});var r=e.RTCPeerConnection.prototype.addTrack;r&&(e.RTCPeerConnection.prototype.addTrack=function(){var e=r.apply(this,arguments);return e._pc=this,e}),e.RTCRtpSender.prototype.getStats=function(){var e=this;return this._pc.getStats().then(function(t){return o(t,e.track,!0)})}}if(!("getStats"in e.RTCRtpReceiver.prototype)){var i=e.RTCPeerConnection.prototype.getReceivers;i&&(e.RTCPeerConnection.prototype.getReceivers=function(){var e=this,t=i.apply(e,[]);return t.forEach(function(t){t._pc=e}),t}),n.wrapPeerConnectionEvent(e,"track",function(e){return e.receiver._pc=e.srcElement,e}),e.RTCRtpReceiver.prototype.getStats=function(){var e=this;return this._pc.getStats().then(function(t){return o(t,e.track,!1)})}}if("getStats"in e.RTCRtpSender.prototype&&"getStats"in e.RTCRtpReceiver.prototype){var a=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof e.MediaStreamTrack){var t,r,n,i=arguments[0];return this.getSenders().forEach(function(e){e.track===i&&(t?n=!0:t=e)}),this.getReceivers().forEach(function(e){return e.track===i&&(r?n=!0:r=e),e.track===i}),n||t&&r?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):t?t.getStats():r?r.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return a.apply(this,arguments)}}}},shimSourceObject:function(e){var t=e&&e.URL;"object"==typeof e&&(!e.HTMLMediaElement||"srcObject"in e.HTMLMediaElement.prototype||Object.defineProperty(e.HTMLMediaElement.prototype,"srcObject",{get:function(){return this._srcObject},set:function(e){var r=this;this._srcObject=e,this.src&&t.revokeObjectURL(this.src),e?(this.src=t.createObjectURL(e),e.addEventListener("addtrack",function(){r.src&&t.revokeObjectURL(r.src),r.src=t.createObjectURL(e)}),e.addEventListener("removetrack",function(){r.src&&t.revokeObjectURL(r.src),r.src=t.createObjectURL(e)})):this.src=""}}))},shimAddTrackRemoveTrackWithNative:function(e){e.RTCPeerConnection.prototype.getLocalStreams=function(){var e=this;return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(function(t){return e._shimmedLocalStreams[t][0]})};var t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,r){if(!r)return t.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};var n=t.apply(this,arguments);return this._shimmedLocalStreams[r.id]?-1===this._shimmedLocalStreams[r.id].indexOf(n)&&this._shimmedLocalStreams[r.id].push(n):this._shimmedLocalStreams[r.id]=[r,n],n};var r=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){var t=this;this._shimmedLocalStreams=this._shimmedLocalStreams||{},e.getTracks().forEach(function(e){if(t.getSenders().find(function(t){return t.track===e}))throw new DOMException("Track already exists.","InvalidAccessError")});var n=t.getSenders();r.apply(this,arguments);var i=t.getSenders().filter(function(e){return-1===n.indexOf(e)});this._shimmedLocalStreams[e.id]=[e].concat(i)};var n=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[e.id],n.apply(this,arguments)};var i=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){var t=this;return this._shimmedLocalStreams=this._shimmedLocalStreams||{},e&&Object.keys(this._shimmedLocalStreams).forEach(function(r){var n=t._shimmedLocalStreams[r].indexOf(e);-1!==n&&t._shimmedLocalStreams[r].splice(n,1),1===t._shimmedLocalStreams[r].length&&delete t._shimmedLocalStreams[r]}),i.apply(this,arguments)}},shimAddTrackRemoveTrack:function(e){var t=n.detectBrowser(e);if(e.RTCPeerConnection.prototype.addTrack&&t.version>=65)return this.shimAddTrackRemoveTrackWithNative(e);var r=e.RTCPeerConnection.prototype.getLocalStreams;e.RTCPeerConnection.prototype.getLocalStreams=function(){var e=this,t=r.apply(this);return e._reverseStreams=e._reverseStreams||{},t.map(function(t){return e._reverseStreams[t.id]})};var i=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(t){var r=this;if(r._streams=r._streams||{},r._reverseStreams=r._reverseStreams||{},t.getTracks().forEach(function(e){if(r.getSenders().find(function(t){return t.track===e}))throw new DOMException("Track already exists.","InvalidAccessError")}),!r._reverseStreams[t.id]){var n=new e.MediaStream(t.getTracks());r._streams[t.id]=n,r._reverseStreams[n.id]=t,t=n}i.apply(r,[t])};var o=e.RTCPeerConnection.prototype.removeStream;function a(e,t){var r=t.sdp;return Object.keys(e._reverseStreams||[]).forEach(function(t){var n=e._reverseStreams[t],i=e._streams[n.id];r=r.replace(new RegExp(i.id,"g"),n.id)}),new RTCSessionDescription({type:t.type,sdp:r})}e.RTCPeerConnection.prototype.removeStream=function(e){var t=this;t._streams=t._streams||{},t._reverseStreams=t._reverseStreams||{},o.apply(t,[t._streams[e.id]||e]),delete t._reverseStreams[t._streams[e.id]?t._streams[e.id].id:e.id],delete t._streams[e.id]},e.RTCPeerConnection.prototype.addTrack=function(t,r){var n=this;if("closed"===n.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");var i=[].slice.call(arguments,1);if(1!==i.length||!i[0].getTracks().find(function(e){return e===t}))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(n.getSenders().find(function(e){return e.track===t}))throw new DOMException("Track already exists.","InvalidAccessError");n._streams=n._streams||{},n._reverseStreams=n._reverseStreams||{};var o=n._streams[r.id];if(o)o.addTrack(t),Promise.resolve().then(function(){n.dispatchEvent(new Event("negotiationneeded"))});else{var a=new e.MediaStream([t]);n._streams[r.id]=a,n._reverseStreams[a.id]=r,n.addStream(a)}return n.getSenders().find(function(e){return e.track===t})},["createOffer","createAnswer"].forEach(function(t){var r=e.RTCPeerConnection.prototype[t];e.RTCPeerConnection.prototype[t]=function(){var e=this,t=arguments;return arguments.length&&"function"==typeof arguments[0]?r.apply(e,[function(r){var n=a(e,r);t[0].apply(null,[n])},function(e){t[1]&&t[1].apply(null,e)},arguments[2]]):r.apply(e,arguments).then(function(t){return a(e,t)})}});var u=e.RTCPeerConnection.prototype.setLocalDescription;e.RTCPeerConnection.prototype.setLocalDescription=function(){return arguments.length&&arguments[0].type?(arguments[0]=function(e,t){var r=t.sdp;return Object.keys(e._reverseStreams||[]).forEach(function(t){var n=e._reverseStreams[t],i=e._streams[n.id];r=r.replace(new RegExp(n.id,"g"),i.id)}),new RTCSessionDescription({type:t.type,sdp:r})}(this,arguments[0]),u.apply(this,arguments)):u.apply(this,arguments)};var s=Object.getOwnPropertyDescriptor(e.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(e.RTCPeerConnection.prototype,"localDescription",{get:function(){var e=s.get.apply(this);return""===e.type?e:a(this,e)}}),e.RTCPeerConnection.prototype.removeTrack=function(e){var t,r=this;if("closed"===r.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!e._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(!(e._pc===r))throw new DOMException("Sender was not created by this connection.","InvalidAccessError");r._streams=r._streams||{},Object.keys(r._streams).forEach(function(n){r._streams[n].getTracks().find(function(t){return e.track===t})&&(t=r._streams[n])}),t&&(1===t.getTracks().length?r.removeStream(r._reverseStreams[t.id]):t.removeTrack(e.track),r.dispatchEvent(new Event("negotiationneeded")))}},shimPeerConnection:function(e){var t=n.detectBrowser(e);if(!e.RTCPeerConnection&&e.webkitRTCPeerConnection)e.RTCPeerConnection=function(t,r){return i("PeerConnection"),t&&t.iceTransportPolicy&&(t.iceTransports=t.iceTransportPolicy),new e.webkitRTCPeerConnection(t,r)},e.RTCPeerConnection.prototype=e.webkitRTCPeerConnection.prototype,e.webkitRTCPeerConnection.generateCertificate&&Object.defineProperty(e.RTCPeerConnection,"generateCertificate",{get:function(){return e.webkitRTCPeerConnection.generateCertificate}});else{var r=e.RTCPeerConnection;e.RTCPeerConnection=function(e,t){if(e&&e.iceServers){for(var i=[],o=0;o<e.iceServers.length;o++){var a=e.iceServers[o];!a.hasOwnProperty("urls")&&a.hasOwnProperty("url")?(n.deprecated("RTCIceServer.url","RTCIceServer.urls"),(a=JSON.parse(JSON.stringify(a))).urls=a.url,i.push(a)):i.push(e.iceServers[o])}e.iceServers=i}return new r(e,t)},e.RTCPeerConnection.prototype=r.prototype,Object.defineProperty(e.RTCPeerConnection,"generateCertificate",{get:function(){return r.generateCertificate}})}var o=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(e,t,r){var n=this,i=arguments;if(arguments.length>0&&"function"==typeof e)return o.apply(this,arguments);if(0===o.length&&(0===arguments.length||"function"!=typeof arguments[0]))return o.apply(this,[]);var a=function(e){var t={};return e.result().forEach(function(e){var r={id:e.id,timestamp:e.timestamp,type:{localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[e.type]||e.type};e.names().forEach(function(t){r[t]=e.stat(t)}),t[r.id]=r}),t},u=function(e){return new Map(Object.keys(e).map(function(t){return[t,e[t]]}))};if(arguments.length>=2){return o.apply(this,[function(e){i[1](u(a(e)))},arguments[0]])}return new Promise(function(e,t){o.apply(n,[function(t){e(u(a(t)))},t])}).then(t,r)},t.version<51&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(t){var r=e.RTCPeerConnection.prototype[t];e.RTCPeerConnection.prototype[t]=function(){var e=arguments,t=this,n=new Promise(function(n,i){r.apply(t,[e[0],n,i])});return e.length<2?n:n.then(function(){e[1].apply(null,[])},function(t){e.length>=3&&e[2].apply(null,[t])})}}),t.version<52&&["createOffer","createAnswer"].forEach(function(t){var r=e.RTCPeerConnection.prototype[t];e.RTCPeerConnection.prototype[t]=function(){var e=this;if(arguments.length<1||1===arguments.length&&"object"==typeof arguments[0]){var t=1===arguments.length?arguments[0]:void 0;return new Promise(function(n,i){r.apply(e,[n,i,t])})}return r.apply(this,arguments)}}),["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(t){var r=e.RTCPeerConnection.prototype[t];e.RTCPeerConnection.prototype[t]=function(){return arguments[0]=new("addIceCandidate"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),r.apply(this,arguments)}});var a=e.RTCPeerConnection.prototype.addIceCandidate;e.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?a.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())}},fixNegotiationNeeded:function(e){n.wrapPeerConnectionEvent(e,"negotiationneeded",function(e){if("stable"===e.target.signalingState)return e})},shimGetDisplayMedia:function(e,t){"getDisplayMedia"in e.navigator||("function"==typeof t?navigator.getDisplayMedia=function(e){return t(e).then(function(t){return e.video={mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:t,maxFrameRate:e.video.frameRate||3}},navigator.mediaDevices.getUserMedia(e)})}:console.error("shimGetDisplayMedia: getSourceId argument is not a function"))}}},function(e,t,r){"use strict";var n=r(79),i=n.log;e.exports=function(e){var t=n.detectBrowser(e),r=e&&e.navigator,o=function(e){if("object"!=typeof e||e.mandatory||e.optional)return e;var t={};return Object.keys(e).forEach(function(r){if("require"!==r&&"advanced"!==r&&"mediaSource"!==r){var n="object"==typeof e[r]?e[r]:{ideal:e[r]};void 0!==n.exact&&"number"==typeof n.exact&&(n.min=n.max=n.exact);var i=function(e,t){return e?e+t.charAt(0).toUpperCase()+t.slice(1):"deviceId"===t?"sourceId":t};if(void 0!==n.ideal){t.optional=t.optional||[];var o={};"number"==typeof n.ideal?(o[i("min",r)]=n.ideal,t.optional.push(o),(o={})[i("max",r)]=n.ideal,t.optional.push(o)):(o[i("",r)]=n.ideal,t.optional.push(o))}void 0!==n.exact&&"number"!=typeof n.exact?(t.mandatory=t.mandatory||{},t.mandatory[i("",r)]=n.exact):["min","max"].forEach(function(e){void 0!==n[e]&&(t.mandatory=t.mandatory||{},t.mandatory[i(e,r)]=n[e])})}}),e.advanced&&(t.optional=(t.optional||[]).concat(e.advanced)),t},a=function(e,n){if(t.version>=61)return n(e);if((e=JSON.parse(JSON.stringify(e)))&&"object"==typeof e.audio){var a=function(e,t,r){t in e&&!(r in e)&&(e[r]=e[t],delete e[t])};a((e=JSON.parse(JSON.stringify(e))).audio,"autoGainControl","googAutoGainControl"),a(e.audio,"noiseSuppression","googNoiseSuppression"),e.audio=o(e.audio)}if(e&&"object"==typeof e.video){var u=e.video.facingMode;u=u&&("object"==typeof u?u:{ideal:u});var s,c=t.version<66;if(u&&("user"===u.exact||"environment"===u.exact||"user"===u.ideal||"environment"===u.ideal)&&(!r.mediaDevices.getSupportedConstraints||!r.mediaDevices.getSupportedConstraints().facingMode||c))if(delete e.video.facingMode,"environment"===u.exact||"environment"===u.ideal?s=["back","rear"]:"user"!==u.exact&&"user"!==u.ideal||(s=["front"]),s)return r.mediaDevices.enumerateDevices().then(function(t){var r=(t=t.filter(function(e){return"videoinput"===e.kind})).find(function(e){return s.some(function(t){return-1!==e.label.toLowerCase().indexOf(t)})});return!r&&t.length&&-1!==s.indexOf("back")&&(r=t[t.length-1]),r&&(e.video.deviceId=u.exact?{exact:r.deviceId}:{ideal:r.deviceId}),e.video=o(e.video),i("chrome: "+JSON.stringify(e)),n(e)});e.video=o(e.video)}return i("chrome: "+JSON.stringify(e)),n(e)},u=function(e){return t.version>=64?e:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[e.name]||e.name,message:e.message,constraint:e.constraint||e.constraintName,toString:function(){return this.name+(this.message&&": ")+this.message}}};r.getUserMedia=function(e,t,n){a(e,function(e){r.webkitGetUserMedia(e,t,function(e){n&&n(u(e))})})};var s=function(e){return new Promise(function(t,n){r.getUserMedia(e,t,n)})};if(r.mediaDevices||(r.mediaDevices={getUserMedia:s,enumerateDevices:function(){return new Promise(function(t){var r={audio:"audioinput",video:"videoinput"};return e.MediaStreamTrack.getSources(function(e){t(e.map(function(e){return{label:e.label,kind:r[e.kind],deviceId:e.id,groupId:""}}))})})},getSupportedConstraints:function(){return{deviceId:!0,echoCancellation:!0,facingMode:!0,frameRate:!0,height:!0,width:!0}}}),r.mediaDevices.getUserMedia){var c=r.mediaDevices.getUserMedia.bind(r.mediaDevices);r.mediaDevices.getUserMedia=function(e){return a(e,function(e){return c(e).then(function(t){if(e.audio&&!t.getAudioTracks().length||e.video&&!t.getVideoTracks().length)throw t.getTracks().forEach(function(e){e.stop()}),new DOMException("","NotFoundError");return t},function(e){return Promise.reject(u(e))})})}}else r.mediaDevices.getUserMedia=function(e){return s(e)};void 0===r.mediaDevices.addEventListener&&(r.mediaDevices.addEventListener=function(){i("Dummy mediaDevices.addEventListener called.")}),void 0===r.mediaDevices.removeEventListener&&(r.mediaDevices.removeEventListener=function(){i("Dummy mediaDevices.removeEventListener called.")})}},function(e,t,r){"use strict";var n=r(79),i=r(1054),o=r(1055);e.exports={shimGetUserMedia:r(1056),shimPeerConnection:function(e){var t=n.detectBrowser(e);if(e.RTCIceGatherer&&(e.RTCIceCandidate||(e.RTCIceCandidate=function(e){return e}),e.RTCSessionDescription||(e.RTCSessionDescription=function(e){return e}),t.version<15025)){var r=Object.getOwnPropertyDescriptor(e.MediaStreamTrack.prototype,"enabled");Object.defineProperty(e.MediaStreamTrack.prototype,"enabled",{set:function(e){r.set.call(this,e);var t=new Event("enabled");t.enabled=e,this.dispatchEvent(t)}})}!e.RTCRtpSender||"dtmf"in e.RTCRtpSender.prototype||Object.defineProperty(e.RTCRtpSender.prototype,"dtmf",{get:function(){return void 0===this._dtmf&&("audio"===this.track.kind?this._dtmf=new e.RTCDtmfSender(this):"video"===this.track.kind&&(this._dtmf=null)),this._dtmf}}),e.RTCDtmfSender&&!e.RTCDTMFSender&&(e.RTCDTMFSender=e.RTCDtmfSender);var a=o(e,t.version);e.RTCPeerConnection=function(e){return e&&e.iceServers&&(e.iceServers=i(e.iceServers)),new a(e)},e.RTCPeerConnection.prototype=a.prototype},shimReplaceTrack:function(e){!e.RTCRtpSender||"replaceTrack"in e.RTCRtpSender.prototype||(e.RTCRtpSender.prototype.replaceTrack=e.RTCRtpSender.prototype.setTrack)}}},function(e,t,r){"use strict";var n=r(79);e.exports=function(e,t){var r=!1;return(e=JSON.parse(JSON.stringify(e))).filter(function(e){if(e&&(e.urls||e.url)){var i=e.urls||e.url;e.url&&!e.urls&&n.deprecated("RTCIceServer.url","RTCIceServer.urls");var o="string"==typeof i;return o&&(i=[i]),i=i.filter(function(e){return 0===e.indexOf("turn:")&&-1!==e.indexOf("transport=udp")&&-1===e.indexOf("turn:[")&&!r?(r=!0,!0):0===e.indexOf("stun:")&&t>=14393&&-1===e.indexOf("?transport=udp")}),delete e.url,e.urls=o?i[0]:i,!!i.length}})}},function(e,t,r){"use strict";var n=r(485);function i(e,t,r,i,o){var a=n.writeRtpDescription(e.kind,t);if(a+=n.writeIceParameters(e.iceGatherer.getLocalParameters()),a+=n.writeDtlsParameters(e.dtlsTransport.getLocalParameters(),"offer"===r?"actpass":o||"active"),a+="a=mid:"+e.mid+"\r\n",e.rtpSender&&e.rtpReceiver?a+="a=sendrecv\r\n":e.rtpSender?a+="a=sendonly\r\n":e.rtpReceiver?a+="a=recvonly\r\n":a+="a=inactive\r\n",e.rtpSender){var u=e.rtpSender._initialTrackId||e.rtpSender.track.id;e.rtpSender._initialTrackId=u;var s="msid:"+(i?i.id:"-")+" "+u+"\r\n";a+="a="+s,a+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" "+s,e.sendEncodingParameters[0].rtx&&(a+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" "+s,a+="a=ssrc-group:FID "+e.sendEncodingParameters[0].ssrc+" "+e.sendEncodingParameters[0].rtx.ssrc+"\r\n")}return a+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" cname:"+n.localCName+"\r\n",e.rtpSender&&e.sendEncodingParameters[0].rtx&&(a+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" cname:"+n.localCName+"\r\n"),a}function o(e,t){var r={codecs:[],headerExtensions:[],fecMechanisms:[]},n=function(e,t){e=parseInt(e,10);for(var r=0;r<t.length;r++)if(t[r].payloadType===e||t[r].preferredPayloadType===e)return t[r]},i=function(e,t,r,i){var o=n(e.parameters.apt,r),a=n(t.parameters.apt,i);return o&&a&&o.name.toLowerCase()===a.name.toLowerCase()};return e.codecs.forEach(function(n){for(var o=0;o<t.codecs.length;o++){var a=t.codecs[o];if(n.name.toLowerCase()===a.name.toLowerCase()&&n.clockRate===a.clockRate){if("rtx"===n.name.toLowerCase()&&n.parameters&&a.parameters.apt&&!i(n,a,e.codecs,t.codecs))continue;(a=JSON.parse(JSON.stringify(a))).numChannels=Math.min(n.numChannels,a.numChannels),r.codecs.push(a),a.rtcpFeedback=a.rtcpFeedback.filter(function(e){for(var t=0;t<n.rtcpFeedback.length;t++)if(n.rtcpFeedback[t].type===e.type&&n.rtcpFeedback[t].parameter===e.parameter)return!0;return!1});break}}}),e.headerExtensions.forEach(function(e){for(var n=0;n<t.headerExtensions.length;n++){var i=t.headerExtensions[n];if(e.uri===i.uri){r.headerExtensions.push(i);break}}}),r}function a(e,t,r){return-1!=={offer:{setLocalDescription:["stable","have-local-offer"],setRemoteDescription:["stable","have-remote-offer"]},answer:{setLocalDescription:["have-remote-offer","have-local-pranswer"],setRemoteDescription:["have-local-offer","have-remote-pranswer"]}}[t][e].indexOf(r)}function u(e,t){var r=e.getRemoteCandidates().find(function(e){return t.foundation===e.foundation&&t.ip===e.ip&&t.port===e.port&&t.priority===e.priority&&t.protocol===e.protocol&&t.type===e.type});return r||e.addRemoteCandidate(t),!r}function s(e,t){var r=new Error(t);return r.name=e,r.code={NotSupportedError:9,InvalidStateError:11,InvalidAccessError:15,TypeError:void 0,OperationError:void 0}[e],r}e.exports=function(e,t){function r(t,r){r.addTrack(t),r.dispatchEvent(new e.MediaStreamTrackEvent("addtrack",{track:t}))}function c(t,r,n,i){var o=new Event("track");o.track=r,o.receiver=n,o.transceiver={receiver:n},o.streams=i,e.setTimeout(function(){t._dispatchEvent("track",o)})}var f=function(r){var i=this,o=document.createDocumentFragment();if(["addEventListener","removeEventListener","dispatchEvent"].forEach(function(e){i[e]=o[e].bind(o)}),this.canTrickleIceCandidates=null,this.needNegotiation=!1,this.localStreams=[],this.remoteStreams=[],this._localDescription=null,this._remoteDescription=null,this.signalingState="stable",this.iceConnectionState="new",this.connectionState="new",this.iceGatheringState="new",r=JSON.parse(JSON.stringify(r||{})),this.usingBundle="max-bundle"===r.bundlePolicy,"negotiate"===r.rtcpMuxPolicy)throw s("NotSupportedError","rtcpMuxPolicy 'negotiate' is not supported");switch(r.rtcpMuxPolicy||(r.rtcpMuxPolicy="require"),r.iceTransportPolicy){case"all":case"relay":break;default:r.iceTransportPolicy="all"}switch(r.bundlePolicy){case"balanced":case"max-compat":case"max-bundle":break;default:r.bundlePolicy="balanced"}if(r.iceServers=function(e,t){var r=!1;return(e=JSON.parse(JSON.stringify(e))).filter(function(e){if(e&&(e.urls||e.url)){var n=e.urls||e.url;e.url&&!e.urls&&console.warn("RTCIceServer.url is deprecated! Use urls instead.");var i="string"==typeof n;return i&&(n=[n]),n=n.filter(function(e){return 0!==e.indexOf("turn:")||-1===e.indexOf("transport=udp")||-1!==e.indexOf("turn:[")||r?0===e.indexOf("stun:")&&t>=14393&&-1===e.indexOf("?transport=udp"):(r=!0,!0)}),delete e.url,e.urls=i?n[0]:n,!!n.length}})}(r.iceServers||[],t),this._iceGatherers=[],r.iceCandidatePoolSize)for(var a=r.iceCandidatePoolSize;a>0;a--)this._iceGatherers.push(new e.RTCIceGatherer({iceServers:r.iceServers,gatherPolicy:r.iceTransportPolicy}));else r.iceCandidatePoolSize=0;this._config=r,this.transceivers=[],this._sdpSessionId=n.generateSessionId(),this._sdpSessionVersion=0,this._dtlsRole=void 0,this._isClosed=!1};Object.defineProperty(f.prototype,"localDescription",{configurable:!0,get:function(){return this._localDescription}}),Object.defineProperty(f.prototype,"remoteDescription",{configurable:!0,get:function(){return this._remoteDescription}}),f.prototype.onicecandidate=null,f.prototype.onaddstream=null,f.prototype.ontrack=null,f.prototype.onremovestream=null,f.prototype.onsignalingstatechange=null,f.prototype.oniceconnectionstatechange=null,f.prototype.onconnectionstatechange=null,f.prototype.onicegatheringstatechange=null,f.prototype.onnegotiationneeded=null,f.prototype.ondatachannel=null,f.prototype._dispatchEvent=function(e,t){this._isClosed||(this.dispatchEvent(t),"function"==typeof this["on"+e]&&this["on"+e](t))},f.prototype._emitGatheringStateChange=function(){var e=new Event("icegatheringstatechange");this._dispatchEvent("icegatheringstatechange",e)},f.prototype.getConfiguration=function(){return this._config},f.prototype.getLocalStreams=function(){return this.localStreams},f.prototype.getRemoteStreams=function(){return this.remoteStreams},f.prototype._createTransceiver=function(e,t){var r=this.transceivers.length>0,n={track:null,iceGatherer:null,iceTransport:null,dtlsTransport:null,localCapabilities:null,remoteCapabilities:null,rtpSender:null,rtpReceiver:null,kind:e,mid:null,sendEncodingParameters:null,recvEncodingParameters:null,stream:null,associatedRemoteMediaStreams:[],wantReceive:!0};if(this.usingBundle&&r)n.iceTransport=this.transceivers[0].iceTransport,n.dtlsTransport=this.transceivers[0].dtlsTransport;else{var i=this._createIceAndDtlsTransports();n.iceTransport=i.iceTransport,n.dtlsTransport=i.dtlsTransport}return t||this.transceivers.push(n),n},f.prototype.addTrack=function(t,r){if(this._isClosed)throw s("InvalidStateError","Attempted to call addTrack on a closed peerconnection.");var n;if(this.transceivers.find(function(e){return e.track===t}))throw s("InvalidAccessError","Track already exists.");for(var i=0;i<this.transceivers.length;i++)this.transceivers[i].track||this.transceivers[i].kind!==t.kind||(n=this.transceivers[i]);return n||(n=this._createTransceiver(t.kind)),this._maybeFireNegotiationNeeded(),-1===this.localStreams.indexOf(r)&&this.localStreams.push(r),n.track=t,n.stream=r,n.rtpSender=new e.RTCRtpSender(t,n.dtlsTransport),n.rtpSender},f.prototype.addStream=function(e){var r=this;if(t>=15025)e.getTracks().forEach(function(t){r.addTrack(t,e)});else{var n=e.clone();e.getTracks().forEach(function(e,t){var r=n.getTracks()[t];e.addEventListener("enabled",function(e){r.enabled=e.enabled})}),n.getTracks().forEach(function(e){r.addTrack(e,n)})}},f.prototype.removeTrack=function(t){if(this._isClosed)throw s("InvalidStateError","Attempted to call removeTrack on a closed peerconnection.");if(!(t instanceof e.RTCRtpSender))throw new TypeError("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.");var r=this.transceivers.find(function(e){return e.rtpSender===t});if(!r)throw s("InvalidAccessError","Sender was not created by this connection.");var n=r.stream;r.rtpSender.stop(),r.rtpSender=null,r.track=null,r.stream=null,-1===this.transceivers.map(function(e){return e.stream}).indexOf(n)&&this.localStreams.indexOf(n)>-1&&this.localStreams.splice(this.localStreams.indexOf(n),1),this._maybeFireNegotiationNeeded()},f.prototype.removeStream=function(e){var t=this;e.getTracks().forEach(function(e){var r=t.getSenders().find(function(t){return t.track===e});r&&t.removeTrack(r)})},f.prototype.getSenders=function(){return this.transceivers.filter(function(e){return!!e.rtpSender}).map(function(e){return e.rtpSender})},f.prototype.getReceivers=function(){return this.transceivers.filter(function(e){return!!e.rtpReceiver}).map(function(e){return e.rtpReceiver})},f.prototype._createIceGatherer=function(t,r){var n=this;if(r&&t>0)return this.transceivers[0].iceGatherer;if(this._iceGatherers.length)return this._iceGatherers.shift();var i=new e.RTCIceGatherer({iceServers:this._config.iceServers,gatherPolicy:this._config.iceTransportPolicy});return Object.defineProperty(i,"state",{value:"new",writable:!0}),this.transceivers[t].bufferedCandidateEvents=[],this.transceivers[t].bufferCandidates=function(e){var r=!e.candidate||0===Object.keys(e.candidate).length;i.state=r?"completed":"gathering",null!==n.transceivers[t].bufferedCandidateEvents&&n.transceivers[t].bufferedCandidateEvents.push(e)},i.addEventListener("localcandidate",this.transceivers[t].bufferCandidates),i},f.prototype._gather=function(t,r){var i=this,o=this.transceivers[r].iceGatherer;if(!o.onlocalcandidate){var a=this.transceivers[r].bufferedCandidateEvents;this.transceivers[r].bufferedCandidateEvents=null,o.removeEventListener("localcandidate",this.transceivers[r].bufferCandidates),o.onlocalcandidate=function(e){if(!(i.usingBundle&&r>0)){var a=new Event("icecandidate");a.candidate={sdpMid:t,sdpMLineIndex:r};var u=e.candidate,s=!u||0===Object.keys(u).length;if(s)"new"!==o.state&&"gathering"!==o.state||(o.state="completed");else{"new"===o.state&&(o.state="gathering"),u.component=1,u.ufrag=o.getLocalParameters().usernameFragment;var c=n.writeCandidate(u);a.candidate=Object.assign(a.candidate,n.parseCandidate(c)),a.candidate.candidate=c,a.candidate.toJSON=function(){return{candidate:a.candidate.candidate,sdpMid:a.candidate.sdpMid,sdpMLineIndex:a.candidate.sdpMLineIndex,usernameFragment:a.candidate.usernameFragment}}}var f=n.getMediaSections(i._localDescription.sdp);f[a.candidate.sdpMLineIndex]+=s?"a=end-of-candidates\r\n":"a="+a.candidate.candidate+"\r\n",i._localDescription.sdp=n.getDescription(i._localDescription.sdp)+f.join("");var l=i.transceivers.every(function(e){return e.iceGatherer&&"completed"===e.iceGatherer.state});"gathering"!==i.iceGatheringState&&(i.iceGatheringState="gathering",i._emitGatheringStateChange()),s||i._dispatchEvent("icecandidate",a),l&&(i._dispatchEvent("icecandidate",new Event("icecandidate")),i.iceGatheringState="complete",i._emitGatheringStateChange())}},e.setTimeout(function(){a.forEach(function(e){o.onlocalcandidate(e)})},0)}},f.prototype._createIceAndDtlsTransports=function(){var t=this,r=new e.RTCIceTransport(null);r.onicestatechange=function(){t._updateIceConnectionState(),t._updateConnectionState()};var n=new e.RTCDtlsTransport(r);return n.ondtlsstatechange=function(){t._updateConnectionState()},n.onerror=function(){Object.defineProperty(n,"state",{value:"failed",writable:!0}),t._updateConnectionState()},{iceTransport:r,dtlsTransport:n}},f.prototype._disposeIceAndDtlsTransports=function(e){var t=this.transceivers[e].iceGatherer;t&&(delete t.onlocalcandidate,delete this.transceivers[e].iceGatherer);var r=this.transceivers[e].iceTransport;r&&(delete r.onicestatechange,delete this.transceivers[e].iceTransport);var n=this.transceivers[e].dtlsTransport;n&&(delete n.ondtlsstatechange,delete n.onerror,delete this.transceivers[e].dtlsTransport)},f.prototype._transceive=function(e,r,i){var a=o(e.localCapabilities,e.remoteCapabilities);r&&e.rtpSender&&(a.encodings=e.sendEncodingParameters,a.rtcp={cname:n.localCName,compound:e.rtcpParameters.compound},e.recvEncodingParameters.length&&(a.rtcp.ssrc=e.recvEncodingParameters[0].ssrc),e.rtpSender.send(a)),i&&e.rtpReceiver&&a.codecs.length>0&&("video"===e.kind&&e.recvEncodingParameters&&t<15019&&e.recvEncodingParameters.forEach(function(e){delete e.rtx}),e.recvEncodingParameters.length?a.encodings=e.recvEncodingParameters:a.encodings=[{}],a.rtcp={compound:e.rtcpParameters.compound},e.rtcpParameters.cname&&(a.rtcp.cname=e.rtcpParameters.cname),e.sendEncodingParameters.length&&(a.rtcp.ssrc=e.sendEncodingParameters[0].ssrc),e.rtpReceiver.receive(a))},f.prototype.setLocalDescription=function(e){var t,r,i=this;if(-1===["offer","answer"].indexOf(e.type))return Promise.reject(s("TypeError",'Unsupported type "'+e.type+'"'));if(!a("setLocalDescription",e.type,i.signalingState)||i._isClosed)return Promise.reject(s("InvalidStateError","Can not set local "+e.type+" in state "+i.signalingState));if("offer"===e.type)t=n.splitSections(e.sdp),r=t.shift(),t.forEach(function(e,t){var r=n.parseRtpParameters(e);i.transceivers[t].localCapabilities=r}),i.transceivers.forEach(function(e,t){i._gather(e.mid,t)});else if("answer"===e.type){t=n.splitSections(i._remoteDescription.sdp),r=t.shift();var u=n.matchPrefix(r,"a=ice-lite").length>0;t.forEach(function(e,t){var a=i.transceivers[t],s=a.iceGatherer,c=a.iceTransport,f=a.dtlsTransport,l=a.localCapabilities,d=a.remoteCapabilities;if(!(n.isRejected(e)&&0===n.matchPrefix(e,"a=bundle-only").length)&&!a.rejected){var p=n.getIceParameters(e,r),h=n.getDtlsParameters(e,r);u&&(h.role="server"),i.usingBundle&&0!==t||(i._gather(a.mid,t),"new"===c.state&&c.start(s,p,u?"controlling":"controlled"),"new"===f.state&&f.start(h));var v=o(l,d);i._transceive(a,v.codecs.length>0,!1)}})}return i._localDescription={type:e.type,sdp:e.sdp},"offer"===e.type?i._updateSignalingState("have-local-offer"):i._updateSignalingState("stable"),Promise.resolve()},f.prototype.setRemoteDescription=function(i){var o=this;if(-1===["offer","answer"].indexOf(i.type))return Promise.reject(s("TypeError",'Unsupported type "'+i.type+'"'));if(!a("setRemoteDescription",i.type,o.signalingState)||o._isClosed)return Promise.reject(s("InvalidStateError","Can not set remote "+i.type+" in state "+o.signalingState));var f={};o.remoteStreams.forEach(function(e){f[e.id]=e});var l=[],d=n.splitSections(i.sdp),p=d.shift(),h=n.matchPrefix(p,"a=ice-lite").length>0,v=n.matchPrefix(p,"a=group:BUNDLE ").length>0;o.usingBundle=v;var g=n.matchPrefix(p,"a=ice-options:")[0];return o.canTrickleIceCandidates=!!g&&g.substr(14).split(" ").indexOf("trickle")>=0,d.forEach(function(a,s){var c=n.splitLines(a),d=n.getKind(a),g=n.isRejected(a)&&0===n.matchPrefix(a,"a=bundle-only").length,y=c[0].substr(2).split(" ")[2],m=n.getDirection(a,p),b=n.parseMsid(a),_=n.getMid(a)||n.generateIdentifier();if(g||"application"===d&&("DTLS/SCTP"===y||"UDP/DTLS/SCTP"===y))o.transceivers[s]={mid:_,kind:d,protocol:y,rejected:!0};else{var w,S,k,x,E,T,O,P,C;!g&&o.transceivers[s]&&o.transceivers[s].rejected&&(o.transceivers[s]=o._createTransceiver(d,!0));var M,j,R=n.parseRtpParameters(a);g||(M=n.getIceParameters(a,p),(j=n.getDtlsParameters(a,p)).role="client"),O=n.parseRtpEncodingParameters(a);var A=n.parseRtcpParameters(a),I=n.matchPrefix(a,"a=end-of-candidates",p).length>0,D=n.matchPrefix(a,"a=candidate:").map(function(e){return n.parseCandidate(e)}).filter(function(e){return 1===e.component});if(("offer"===i.type||"answer"===i.type)&&!g&&v&&s>0&&o.transceivers[s]&&(o._disposeIceAndDtlsTransports(s),o.transceivers[s].iceGatherer=o.transceivers[0].iceGatherer,o.transceivers[s].iceTransport=o.transceivers[0].iceTransport,o.transceivers[s].dtlsTransport=o.transceivers[0].dtlsTransport,o.transceivers[s].rtpSender&&o.transceivers[s].rtpSender.setTransport(o.transceivers[0].dtlsTransport),o.transceivers[s].rtpReceiver&&o.transceivers[s].rtpReceiver.setTransport(o.transceivers[0].dtlsTransport)),"offer"!==i.type||g)"answer"!==i.type||g||(S=(w=o.transceivers[s]).iceGatherer,k=w.iceTransport,x=w.dtlsTransport,E=w.rtpReceiver,T=w.sendEncodingParameters,P=w.localCapabilities,o.transceivers[s].recvEncodingParameters=O,o.transceivers[s].remoteCapabilities=R,o.transceivers[s].rtcpParameters=A,D.length&&"new"===k.state&&(!h&&!I||v&&0!==s?D.forEach(function(e){u(w.iceTransport,e)}):k.setRemoteCandidates(D)),v&&0!==s||("new"===k.state&&k.start(S,M,"controlling"),"new"===x.state&&x.start(j)),o._transceive(w,"sendrecv"===m||"recvonly"===m,"sendrecv"===m||"sendonly"===m),!E||"sendrecv"!==m&&"sendonly"!==m?delete w.rtpReceiver:(C=E.track,b?(f[b.stream]||(f[b.stream]=new e.MediaStream),r(C,f[b.stream]),l.push([C,E,f[b.stream]])):(f.default||(f.default=new e.MediaStream),r(C,f.default),l.push([C,E,f.default]))));else{(w=o.transceivers[s]||o._createTransceiver(d)).mid=_,w.iceGatherer||(w.iceGatherer=o._createIceGatherer(s,v)),D.length&&"new"===w.iceTransport.state&&(!I||v&&0!==s?D.forEach(function(e){u(w.iceTransport,e)}):w.iceTransport.setRemoteCandidates(D)),P=e.RTCRtpReceiver.getCapabilities(d),t<15019&&(P.codecs=P.codecs.filter(function(e){return"rtx"!==e.name})),T=w.sendEncodingParameters||[{ssrc:1001*(2*s+2)}];var L,N=!1;if("sendrecv"===m||"sendonly"===m){if(N=!w.rtpReceiver,E=w.rtpReceiver||new e.RTCRtpReceiver(w.dtlsTransport,d),N)C=E.track,b&&"-"===b.stream||(b?(f[b.stream]||(f[b.stream]=new e.MediaStream,Object.defineProperty(f[b.stream],"id",{get:function(){return b.stream}})),Object.defineProperty(C,"id",{get:function(){return b.track}}),L=f[b.stream]):(f.default||(f.default=new e.MediaStream),L=f.default)),L&&(r(C,L),w.associatedRemoteMediaStreams.push(L)),l.push([C,E,L])}else w.rtpReceiver&&w.rtpReceiver.track&&(w.associatedRemoteMediaStreams.forEach(function(t){var r=t.getTracks().find(function(e){return e.id===w.rtpReceiver.track.id});r&&function(t,r){r.removeTrack(t),r.dispatchEvent(new e.MediaStreamTrackEvent("removetrack",{track:t}))}(r,t)}),w.associatedRemoteMediaStreams=[]);w.localCapabilities=P,w.remoteCapabilities=R,w.rtpReceiver=E,w.rtcpParameters=A,w.sendEncodingParameters=T,w.recvEncodingParameters=O,o._transceive(o.transceivers[s],!1,N)}}}),void 0===o._dtlsRole&&(o._dtlsRole="offer"===i.type?"active":"passive"),o._remoteDescription={type:i.type,sdp:i.sdp},"offer"===i.type?o._updateSignalingState("have-remote-offer"):o._updateSignalingState("stable"),Object.keys(f).forEach(function(t){var r=f[t];if(r.getTracks().length){if(-1===o.remoteStreams.indexOf(r)){o.remoteStreams.push(r);var n=new Event("addstream");n.stream=r,e.setTimeout(function(){o._dispatchEvent("addstream",n)})}l.forEach(function(e){var t=e[0],n=e[1];r.id===e[2].id&&c(o,t,n,[r])})}}),l.forEach(function(e){e[2]||c(o,e[0],e[1],[])}),e.setTimeout(function(){o&&o.transceivers&&o.transceivers.forEach(function(e){e.iceTransport&&"new"===e.iceTransport.state&&e.iceTransport.getRemoteCandidates().length>0&&(console.warn("Timeout for addRemoteCandidate. Consider sending an end-of-candidates notification"),e.iceTransport.addRemoteCandidate({}))})},4e3),Promise.resolve()},f.prototype.close=function(){this.transceivers.forEach(function(e){e.iceTransport&&e.iceTransport.stop(),e.dtlsTransport&&e.dtlsTransport.stop(),e.rtpSender&&e.rtpSender.stop(),e.rtpReceiver&&e.rtpReceiver.stop()}),this._isClosed=!0,this._updateSignalingState("closed")},f.prototype._updateSignalingState=function(e){this.signalingState=e;var t=new Event("signalingstatechange");this._dispatchEvent("signalingstatechange",t)},f.prototype._maybeFireNegotiationNeeded=function(){var t=this;"stable"===this.signalingState&&!0!==this.needNegotiation&&(this.needNegotiation=!0,e.setTimeout(function(){if(t.needNegotiation){t.needNegotiation=!1;var e=new Event("negotiationneeded");t._dispatchEvent("negotiationneeded",e)}},0))},f.prototype._updateIceConnectionState=function(){var e,t={new:0,closed:0,checking:0,connected:0,completed:0,disconnected:0,failed:0};if(this.transceivers.forEach(function(e){t[e.iceTransport.state]++}),e="new",t.failed>0?e="failed":t.checking>0?e="checking":t.disconnected>0?e="disconnected":t.new>0?e="new":t.connected>0?e="connected":t.completed>0&&(e="completed"),e!==this.iceConnectionState){this.iceConnectionState=e;var r=new Event("iceconnectionstatechange");this._dispatchEvent("iceconnectionstatechange",r)}},f.prototype._updateConnectionState=function(){var e,t={new:0,closed:0,connecting:0,connected:0,completed:0,disconnected:0,failed:0};if(this.transceivers.forEach(function(e){t[e.iceTransport.state]++,t[e.dtlsTransport.state]++}),t.connected+=t.completed,e="new",t.failed>0?e="failed":t.connecting>0?e="connecting":t.disconnected>0?e="disconnected":t.new>0?e="new":t.connected>0&&(e="connected"),e!==this.connectionState){this.connectionState=e;var r=new Event("connectionstatechange");this._dispatchEvent("connectionstatechange",r)}},f.prototype.createOffer=function(){var r=this;if(r._isClosed)return Promise.reject(s("InvalidStateError","Can not call createOffer after close"));var o=r.transceivers.filter(function(e){return"audio"===e.kind}).length,a=r.transceivers.filter(function(e){return"video"===e.kind}).length,u=arguments[0];if(u){if(u.mandatory||u.optional)throw new TypeError("Legacy mandatory/optional constraints not supported.");void 0!==u.offerToReceiveAudio&&(o=!0===u.offerToReceiveAudio?1:!1===u.offerToReceiveAudio?0:u.offerToReceiveAudio),void 0!==u.offerToReceiveVideo&&(a=!0===u.offerToReceiveVideo?1:!1===u.offerToReceiveVideo?0:u.offerToReceiveVideo)}for(r.transceivers.forEach(function(e){"audio"===e.kind?--o<0&&(e.wantReceive=!1):"video"===e.kind&&--a<0&&(e.wantReceive=!1)});o>0||a>0;)o>0&&(r._createTransceiver("audio"),o--),a>0&&(r._createTransceiver("video"),a--);var c=n.writeSessionBoilerplate(r._sdpSessionId,r._sdpSessionVersion++);r.transceivers.forEach(function(i,o){var a=i.track,u=i.kind,s=i.mid||n.generateIdentifier();i.mid=s,i.iceGatherer||(i.iceGatherer=r._createIceGatherer(o,r.usingBundle));var c=e.RTCRtpSender.getCapabilities(u);t<15019&&(c.codecs=c.codecs.filter(function(e){return"rtx"!==e.name})),c.codecs.forEach(function(e){"H264"===e.name&&void 0===e.parameters["level-asymmetry-allowed"]&&(e.parameters["level-asymmetry-allowed"]="1"),i.remoteCapabilities&&i.remoteCapabilities.codecs&&i.remoteCapabilities.codecs.forEach(function(t){e.name.toLowerCase()===t.name.toLowerCase()&&e.clockRate===t.clockRate&&(e.preferredPayloadType=t.payloadType)})}),c.headerExtensions.forEach(function(e){(i.remoteCapabilities&&i.remoteCapabilities.headerExtensions||[]).forEach(function(t){e.uri===t.uri&&(e.id=t.id)})});var f=i.sendEncodingParameters||[{ssrc:1001*(2*o+1)}];a&&t>=15019&&"video"===u&&!f[0].rtx&&(f[0].rtx={ssrc:f[0].ssrc+1}),i.wantReceive&&(i.rtpReceiver=new e.RTCRtpReceiver(i.dtlsTransport,u)),i.localCapabilities=c,i.sendEncodingParameters=f}),"max-compat"!==r._config.bundlePolicy&&(c+="a=group:BUNDLE "+r.transceivers.map(function(e){return e.mid}).join(" ")+"\r\n"),c+="a=ice-options:trickle\r\n",r.transceivers.forEach(function(e,t){c+=i(e,e.localCapabilities,"offer",e.stream,r._dtlsRole),c+="a=rtcp-rsize\r\n",!e.iceGatherer||"new"===r.iceGatheringState||0!==t&&r.usingBundle||(e.iceGatherer.getLocalCandidates().forEach(function(e){e.component=1,c+="a="+n.writeCandidate(e)+"\r\n"}),"completed"===e.iceGatherer.state&&(c+="a=end-of-candidates\r\n"))});var f=new e.RTCSessionDescription({type:"offer",sdp:c});return Promise.resolve(f)},f.prototype.createAnswer=function(){var r=this;if(r._isClosed)return Promise.reject(s("InvalidStateError","Can not call createAnswer after close"));if("have-remote-offer"!==r.signalingState&&"have-local-pranswer"!==r.signalingState)return Promise.reject(s("InvalidStateError","Can not call createAnswer in signalingState "+r.signalingState));var a=n.writeSessionBoilerplate(r._sdpSessionId,r._sdpSessionVersion++);r.usingBundle&&(a+="a=group:BUNDLE "+r.transceivers.map(function(e){return e.mid}).join(" ")+"\r\n");var u=n.getMediaSections(r._remoteDescription.sdp).length;r.transceivers.forEach(function(e,n){if(!(n+1>u)){if(e.rejected)return"application"===e.kind?"DTLS/SCTP"===e.protocol?a+="m=application 0 DTLS/SCTP 5000\r\n":a+="m=application 0 "+e.protocol+" webrtc-datachannel\r\n":"audio"===e.kind?a+="m=audio 0 UDP/TLS/RTP/SAVPF 0\r\na=rtpmap:0 PCMU/8000\r\n":"video"===e.kind&&(a+="m=video 0 UDP/TLS/RTP/SAVPF 120\r\na=rtpmap:120 VP8/90000\r\n"),void(a+="c=IN IP4 0.0.0.0\r\na=inactive\r\na=mid:"+e.mid+"\r\n");var s;if(e.stream)"audio"===e.kind?s=e.stream.getAudioTracks()[0]:"video"===e.kind&&(s=e.stream.getVideoTracks()[0]),s&&t>=15019&&"video"===e.kind&&!e.sendEncodingParameters[0].rtx&&(e.sendEncodingParameters[0].rtx={ssrc:e.sendEncodingParameters[0].ssrc+1});var c=o(e.localCapabilities,e.remoteCapabilities);!c.codecs.filter(function(e){return"rtx"===e.name.toLowerCase()}).length&&e.sendEncodingParameters[0].rtx&&delete e.sendEncodingParameters[0].rtx,a+=i(e,c,"answer",e.stream,r._dtlsRole),e.rtcpParameters&&e.rtcpParameters.reducedSize&&(a+="a=rtcp-rsize\r\n")}});var c=new e.RTCSessionDescription({type:"answer",sdp:a});return Promise.resolve(c)},f.prototype.addIceCandidate=function(e){var t,r=this;return e&&void 0===e.sdpMLineIndex&&!e.sdpMid?Promise.reject(new TypeError("sdpMLineIndex or sdpMid required")):new Promise(function(i,o){if(!r._remoteDescription)return o(s("InvalidStateError","Can not add ICE candidate without a remote description"));if(e&&""!==e.candidate){var a=e.sdpMLineIndex;if(e.sdpMid)for(var c=0;c<r.transceivers.length;c++)if(r.transceivers[c].mid===e.sdpMid){a=c;break}var f=r.transceivers[a];if(!f)return o(s("OperationError","Can not add ICE candidate"));if(f.rejected)return i();var l=Object.keys(e.candidate).length>0?n.parseCandidate(e.candidate):{};if("tcp"===l.protocol&&(0===l.port||9===l.port))return i();if(l.component&&1!==l.component)return i();if((0===a||a>0&&f.iceTransport!==r.transceivers[0].iceTransport)&&!u(f.iceTransport,l))return o(s("OperationError","Can not add ICE candidate"));var d=e.candidate.trim();0===d.indexOf("a=")&&(d=d.substr(2)),(t=n.getMediaSections(r._remoteDescription.sdp))[a]+="a="+(l.type?d:"end-of-candidates")+"\r\n",r._remoteDescription.sdp=n.getDescription(r._remoteDescription.sdp)+t.join("")}else for(var p=0;p<r.transceivers.length&&(r.transceivers[p].rejected||(r.transceivers[p].iceTransport.addRemoteCandidate({}),(t=n.getMediaSections(r._remoteDescription.sdp))[p]+="a=end-of-candidates\r\n",r._remoteDescription.sdp=n.getDescription(r._remoteDescription.sdp)+t.join(""),!r.usingBundle));p++);i()})},f.prototype.getStats=function(t){if(t&&t instanceof e.MediaStreamTrack){var r=null;if(this.transceivers.forEach(function(e){e.rtpSender&&e.rtpSender.track===t?r=e.rtpSender:e.rtpReceiver&&e.rtpReceiver.track===t&&(r=e.rtpReceiver)}),!r)throw s("InvalidAccessError","Invalid selector.");return r.getStats()}var n=[];return this.transceivers.forEach(function(e){["rtpSender","rtpReceiver","iceGatherer","iceTransport","dtlsTransport"].forEach(function(t){e[t]&&n.push(e[t].getStats())})}),Promise.all(n).then(function(e){var t=new Map;return e.forEach(function(e){e.forEach(function(e){t.set(e.id,e)})}),t})};["RTCRtpSender","RTCRtpReceiver","RTCIceGatherer","RTCIceTransport","RTCDtlsTransport"].forEach(function(t){var r=e[t];if(r&&r.prototype&&r.prototype.getStats){var n=r.prototype.getStats;r.prototype.getStats=function(){return n.apply(this).then(function(e){var t=new Map;return Object.keys(e).forEach(function(r){e[r].type=function(e){return{inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[e.type]||e.type}(e[r]),t.set(r,e[r])}),t})}}});var l=["createOffer","createAnswer"];return l.forEach(function(e){var t=f.prototype[e];f.prototype[e]=function(){var e=arguments;return"function"==typeof e[0]||"function"==typeof e[1]?t.apply(this,[arguments[2]]).then(function(t){"function"==typeof e[0]&&e[0].apply(null,[t])},function(t){"function"==typeof e[1]&&e[1].apply(null,[t])}):t.apply(this,arguments)}}),(l=["setLocalDescription","setRemoteDescription","addIceCandidate"]).forEach(function(e){var t=f.prototype[e];f.prototype[e]=function(){var e=arguments;return"function"==typeof e[1]||"function"==typeof e[2]?t.apply(this,arguments).then(function(){"function"==typeof e[1]&&e[1].apply(null)},function(t){"function"==typeof e[2]&&e[2].apply(null,[t])}):t.apply(this,arguments)}}),["getStats"].forEach(function(e){var t=f.prototype[e];f.prototype[e]=function(){var e=arguments;return"function"==typeof e[1]?t.apply(this,arguments).then(function(){"function"==typeof e[1]&&e[1].apply(null)}):t.apply(this,arguments)}}),f}},function(e,t,r){"use strict";e.exports=function(e){var t=e&&e.navigator,r=t.mediaDevices.getUserMedia.bind(t.mediaDevices);t.mediaDevices.getUserMedia=function(e){return r(e).catch(function(e){return Promise.reject(function(e){return{name:{PermissionDeniedError:"NotAllowedError"}[e.name]||e.name,message:e.message,constraint:e.constraint,toString:function(){return this.name}}}(e))})}}},function(e,t,r){"use strict";var n=r(79);e.exports={shimGetUserMedia:r(1058),shimOnTrack:function(e){"object"!=typeof e||!e.RTCPeerConnection||"ontrack"in e.RTCPeerConnection.prototype||Object.defineProperty(e.RTCPeerConnection.prototype,"ontrack",{get:function(){return this._ontrack},set:function(e){this._ontrack&&(this.removeEventListener("track",this._ontrack),this.removeEventListener("addstream",this._ontrackpoly)),this.addEventListener("track",this._ontrack=e),this.addEventListener("addstream",this._ontrackpoly=function(e){e.stream.getTracks().forEach(function(t){var r=new Event("track");r.track=t,r.receiver={track:t},r.transceiver={receiver:r.receiver},r.streams=[e.stream],this.dispatchEvent(r)}.bind(this))}.bind(this))},enumerable:!0,configurable:!0}),"object"==typeof e&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get:function(){return{receiver:this.receiver}}})},shimSourceObject:function(e){"object"==typeof e&&(!e.HTMLMediaElement||"srcObject"in e.HTMLMediaElement.prototype||Object.defineProperty(e.HTMLMediaElement.prototype,"srcObject",{get:function(){return this.mozSrcObject},set:function(e){this.mozSrcObject=e}}))},shimPeerConnection:function(e){var t=n.detectBrowser(e);if("object"==typeof e&&(e.RTCPeerConnection||e.mozRTCPeerConnection)){e.RTCPeerConnection||(e.RTCPeerConnection=function(r,n){if(t.version<38&&r&&r.iceServers){for(var i=[],o=0;o<r.iceServers.length;o++){var a=r.iceServers[o];if(a.hasOwnProperty("urls"))for(var u=0;u<a.urls.length;u++){var s={url:a.urls[u]};0===a.urls[u].indexOf("turn")&&(s.username=a.username,s.credential=a.credential),i.push(s)}else i.push(r.iceServers[o])}r.iceServers=i}return new e.mozRTCPeerConnection(r,n)},e.RTCPeerConnection.prototype=e.mozRTCPeerConnection.prototype,e.mozRTCPeerConnection.generateCertificate&&Object.defineProperty(e.RTCPeerConnection,"generateCertificate",{get:function(){return e.mozRTCPeerConnection.generateCertificate}}),e.RTCSessionDescription=e.mozRTCSessionDescription,e.RTCIceCandidate=e.mozRTCIceCandidate),["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(t){var r=e.RTCPeerConnection.prototype[t];e.RTCPeerConnection.prototype[t]=function(){return arguments[0]=new("addIceCandidate"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),r.apply(this,arguments)}});var r=e.RTCPeerConnection.prototype.addIceCandidate;e.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?r.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())};var i={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},o=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(e,r,n){return o.apply(this,[e||null]).then(function(e){if(t.version<48&&(e=function(e){var t=new Map;return Object.keys(e).forEach(function(r){t.set(r,e[r]),t[r]=e[r]}),t}(e)),t.version<53&&!r)try{e.forEach(function(e){e.type=i[e.type]||e.type})}catch(t){if("TypeError"!==t.name)throw t;e.forEach(function(t,r){e.set(r,Object.assign({},t,{type:i[t.type]||t.type}))})}return e}).then(r,n)}}},shimSenderGetStats:function(e){if("object"==typeof e&&e.RTCPeerConnection&&e.RTCRtpSender&&!(e.RTCRtpSender&&"getStats"in e.RTCRtpSender.prototype)){var t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){var e=this,r=t.apply(e,[]);return r.forEach(function(t){t._pc=e}),r});var r=e.RTCPeerConnection.prototype.addTrack;r&&(e.RTCPeerConnection.prototype.addTrack=function(){var e=r.apply(this,arguments);return e._pc=this,e}),e.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}},shimReceiverGetStats:function(e){if("object"==typeof e&&e.RTCPeerConnection&&e.RTCRtpSender&&!(e.RTCRtpSender&&"getStats"in e.RTCRtpReceiver.prototype)){var t=e.RTCPeerConnection.prototype.getReceivers;t&&(e.RTCPeerConnection.prototype.getReceivers=function(){var e=this,r=t.apply(e,[]);return r.forEach(function(t){t._pc=e}),r}),n.wrapPeerConnectionEvent(e,"track",function(e){return e.receiver._pc=e.srcElement,e}),e.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}},shimRemoveStream:function(e){!e.RTCPeerConnection||"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(e){var t=this;n.deprecated("removeStream","removeTrack"),this.getSenders().forEach(function(r){r.track&&-1!==e.getTracks().indexOf(r.track)&&t.removeTrack(r)})})},shimRTCDataChannel:function(e){e.DataChannel&&!e.RTCDataChannel&&(e.RTCDataChannel=e.DataChannel)},shimGetDisplayMedia:function(e,t){"getDisplayMedia"in e.navigator||(navigator.getDisplayMedia=function(e){if(!e||!e.video){var r=new DOMException("getDisplayMedia without video constraints is undefined");return r.name="NotFoundError",r.code=8,Promise.reject(r)}return!0===e.video?e.video={mediaSource:t}:e.video.mediaSource=t,navigator.mediaDevices.getUserMedia(e)})}}},function(e,t,r){"use strict";var n=r(79),i=n.log;e.exports=function(e){var t=n.detectBrowser(e),r=e&&e.navigator,o=e&&e.MediaStreamTrack,a=function(e){return{name:{InternalError:"NotReadableError",NotSupportedError:"TypeError",PermissionDeniedError:"NotAllowedError",SecurityError:"NotAllowedError"}[e.name]||e.name,message:{"The operation is insecure.":"The request is not allowed by the user agent or the platform in the current context."}[e.message]||e.message,constraint:e.constraint,toString:function(){return this.name+(this.message&&": ")+this.message}}},u=function(e,n,o){var u=function(e){if("object"!=typeof e||e.require)return e;var t=[];return Object.keys(e).forEach(function(r){if("require"!==r&&"advanced"!==r&&"mediaSource"!==r){var n=e[r]="object"==typeof e[r]?e[r]:{ideal:e[r]};if(void 0===n.min&&void 0===n.max&&void 0===n.exact||t.push(r),void 0!==n.exact&&("number"==typeof n.exact?n.min=n.max=n.exact:e[r]=n.exact,delete n.exact),void 0!==n.ideal){e.advanced=e.advanced||[];var i={};"number"==typeof n.ideal?i[r]={min:n.ideal,max:n.ideal}:i[r]=n.ideal,e.advanced.push(i),delete n.ideal,Object.keys(n).length||delete e[r]}}}),t.length&&(e.require=t),e};return e=JSON.parse(JSON.stringify(e)),t.version<38&&(i("spec: "+JSON.stringify(e)),e.audio&&(e.audio=u(e.audio)),e.video&&(e.video=u(e.video)),i("ff37: "+JSON.stringify(e))),r.mozGetUserMedia(e,n,function(e){o(a(e))})};if(r.mediaDevices||(r.mediaDevices={getUserMedia:function(e){return new Promise(function(t,r){u(e,t,r)})},addEventListener:function(){},removeEventListener:function(){}}),r.mediaDevices.enumerateDevices=r.mediaDevices.enumerateDevices||function(){return new Promise(function(e){e([{kind:"audioinput",deviceId:"default",label:"",groupId:""},{kind:"videoinput",deviceId:"default",label:"",groupId:""}])})},t.version<41){var s=r.mediaDevices.enumerateDevices.bind(r.mediaDevices);r.mediaDevices.enumerateDevices=function(){return s().then(void 0,function(e){if("NotFoundError"===e.name)return[];throw e})}}if(t.version<49){var c=r.mediaDevices.getUserMedia.bind(r.mediaDevices);r.mediaDevices.getUserMedia=function(e){return c(e).then(function(t){if(e.audio&&!t.getAudioTracks().length||e.video&&!t.getVideoTracks().length)throw t.getTracks().forEach(function(e){e.stop()}),new DOMException("The object can not be found here.","NotFoundError");return t},function(e){return Promise.reject(a(e))})}}if(!(t.version>55&&"autoGainControl"in r.mediaDevices.getSupportedConstraints())){var f=function(e,t,r){t in e&&!(r in e)&&(e[r]=e[t],delete e[t])},l=r.mediaDevices.getUserMedia.bind(r.mediaDevices);if(r.mediaDevices.getUserMedia=function(e){return"object"==typeof e&&"object"==typeof e.audio&&(e=JSON.parse(JSON.stringify(e)),f(e.audio,"autoGainControl","mozAutoGainControl"),f(e.audio,"noiseSuppression","mozNoiseSuppression")),l(e)},o&&o.prototype.getSettings){var d=o.prototype.getSettings;o.prototype.getSettings=function(){var e=d.apply(this,arguments);return f(e,"mozAutoGainControl","autoGainControl"),f(e,"mozNoiseSuppression","noiseSuppression"),e}}if(o&&o.prototype.applyConstraints){var p=o.prototype.applyConstraints;o.prototype.applyConstraints=function(e){return"audio"===this.kind&&"object"==typeof e&&(e=JSON.parse(JSON.stringify(e)),f(e,"autoGainControl","mozAutoGainControl"),f(e,"noiseSuppression","mozNoiseSuppression")),p.apply(this,[e])}}}r.getUserMedia=function(e,i,o){if(t.version<44)return u(e,i,o);n.deprecated("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),r.mediaDevices.getUserMedia(e).then(i,o)}}},function(e,t,r){"use strict";var n=r(79);e.exports={shimLocalStreamsAPI:function(e){if("object"==typeof e&&e.RTCPeerConnection){if("getLocalStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),"getStreamById"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getStreamById=function(e){var t=null;return this._localStreams&&this._localStreams.forEach(function(r){r.id===e&&(t=r)}),this._remoteStreams&&this._remoteStreams.forEach(function(r){r.id===e&&(t=r)}),t}),!("addStream"in e.RTCPeerConnection.prototype)){var t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addStream=function(e){this._localStreams||(this._localStreams=[]),-1===this._localStreams.indexOf(e)&&this._localStreams.push(e);var r=this;e.getTracks().forEach(function(n){t.call(r,n,e)})},e.RTCPeerConnection.prototype.addTrack=function(e,r){return r&&(this._localStreams?-1===this._localStreams.indexOf(r)&&this._localStreams.push(r):this._localStreams=[r]),t.call(this,e,r)}}"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(e){this._localStreams||(this._localStreams=[]);var t=this._localStreams.indexOf(e);if(-1!==t){this._localStreams.splice(t,1);var r=this,n=e.getTracks();this.getSenders().forEach(function(e){-1!==n.indexOf(e.track)&&r.removeTrack(e)})}})}},shimRemoteStreamsAPI:function(e){if("object"==typeof e&&e.RTCPeerConnection&&("getRemoteStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in e.RTCPeerConnection.prototype))){Object.defineProperty(e.RTCPeerConnection.prototype,"onaddstream",{get:function(){return this._onaddstream},set:function(e){this._onaddstream&&this.removeEventListener("addstream",this._onaddstream),this.addEventListener("addstream",this._onaddstream=e)}});var t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){var e=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(t){t.streams.forEach(function(t){if(e._remoteStreams||(e._remoteStreams=[]),!(e._remoteStreams.indexOf(t)>=0)){e._remoteStreams.push(t);var r=new Event("addstream");r.stream=t,e.dispatchEvent(r)}})}),t.apply(e,arguments)}}},shimCallbacksAPI:function(e){if("object"==typeof e&&e.RTCPeerConnection){var t=e.RTCPeerConnection.prototype,r=t.createOffer,n=t.createAnswer,i=t.setLocalDescription,o=t.setRemoteDescription,a=t.addIceCandidate;t.createOffer=function(e,t){var n=arguments.length>=2?arguments[2]:arguments[0],i=r.apply(this,[n]);return t?(i.then(e,t),Promise.resolve()):i},t.createAnswer=function(e,t){var r=arguments.length>=2?arguments[2]:arguments[0],i=n.apply(this,[r]);return t?(i.then(e,t),Promise.resolve()):i};var u=function(e,t,r){var n=i.apply(this,[e]);return r?(n.then(t,r),Promise.resolve()):n};t.setLocalDescription=u,u=function(e,t,r){var n=o.apply(this,[e]);return r?(n.then(t,r),Promise.resolve()):n},t.setRemoteDescription=u,u=function(e,t,r){var n=a.apply(this,[e]);return r?(n.then(t,r),Promise.resolve()):n},t.addIceCandidate=u}},shimGetUserMedia:function(e){var t=e&&e.navigator;t.getUserMedia||(t.webkitGetUserMedia?t.getUserMedia=t.webkitGetUserMedia.bind(t):t.mediaDevices&&t.mediaDevices.getUserMedia&&(t.getUserMedia=function(e,r,n){t.mediaDevices.getUserMedia(e).then(r,n)}.bind(t)))},shimRTCIceServerUrls:function(e){var t=e.RTCPeerConnection;e.RTCPeerConnection=function(e,r){if(e&&e.iceServers){for(var i=[],o=0;o<e.iceServers.length;o++){var a=e.iceServers[o];!a.hasOwnProperty("urls")&&a.hasOwnProperty("url")?(n.deprecated("RTCIceServer.url","RTCIceServer.urls"),(a=JSON.parse(JSON.stringify(a))).urls=a.url,delete a.url,i.push(a)):i.push(e.iceServers[o])}e.iceServers=i}return new t(e,r)},e.RTCPeerConnection.prototype=t.prototype,"generateCertificate"in e.RTCPeerConnection&&Object.defineProperty(e.RTCPeerConnection,"generateCertificate",{get:function(){return t.generateCertificate}})},shimTrackEventTransceiver:function(e){"object"==typeof e&&e.RTCPeerConnection&&"receiver"in e.RTCTrackEvent.prototype&&!e.RTCTransceiver&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get:function(){return{receiver:this.receiver}}})},shimCreateOfferLegacy:function(e){var t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(e){var r=this;if(e){void 0!==e.offerToReceiveAudio&&(e.offerToReceiveAudio=!!e.offerToReceiveAudio);var n=r.getTransceivers().find(function(e){return e.sender.track&&"audio"===e.sender.track.kind});!1===e.offerToReceiveAudio&&n?"sendrecv"===n.direction?n.setDirection?n.setDirection("sendonly"):n.direction="sendonly":"recvonly"===n.direction&&(n.setDirection?n.setDirection("inactive"):n.direction="inactive"):!0!==e.offerToReceiveAudio||n||r.addTransceiver("audio"),void 0!==e.offerToReceiveVideo&&(e.offerToReceiveVideo=!!e.offerToReceiveVideo);var i=r.getTransceivers().find(function(e){return e.sender.track&&"video"===e.sender.track.kind});!1===e.offerToReceiveVideo&&i?"sendrecv"===i.direction?i.setDirection("sendonly"):"recvonly"===i.direction&&i.setDirection("inactive"):!0!==e.offerToReceiveVideo||i||r.addTransceiver("video")}return t.apply(r,arguments)}}}},function(e,t,r){"use strict";var n=r(485),i=r(79);e.exports={shimRTCIceCandidate:function(e){if(e.RTCIceCandidate&&!(e.RTCIceCandidate&&"foundation"in e.RTCIceCandidate.prototype)){var t=e.RTCIceCandidate;e.RTCIceCandidate=function(e){if("object"==typeof e&&e.candidate&&0===e.candidate.indexOf("a=")&&((e=JSON.parse(JSON.stringify(e))).candidate=e.candidate.substr(2)),e.candidate&&e.candidate.length){var r=new t(e),i=n.parseCandidate(e.candidate),o=Object.assign(r,i);return o.toJSON=function(){return{candidate:o.candidate,sdpMid:o.sdpMid,sdpMLineIndex:o.sdpMLineIndex,usernameFragment:o.usernameFragment}},o}return new t(e)},e.RTCIceCandidate.prototype=t.prototype,i.wrapPeerConnectionEvent(e,"icecandidate",function(t){return t.candidate&&Object.defineProperty(t,"candidate",{value:new e.RTCIceCandidate(t.candidate),writable:"false"}),t})}},shimCreateObjectURL:function(e){var t=e&&e.URL;if("object"==typeof e&&e.HTMLMediaElement&&"srcObject"in e.HTMLMediaElement.prototype&&t.createObjectURL&&t.revokeObjectURL){var r=t.createObjectURL.bind(t),n=t.revokeObjectURL.bind(t),o=new Map,a=0;t.createObjectURL=function(e){if("getTracks"in e){var t="polyblob:"+ ++a;return o.set(t,e),i.deprecated("URL.createObjectURL(stream)","elem.srcObject = stream"),t}return r(e)},t.revokeObjectURL=function(e){n(e),o.delete(e)};var u=Object.getOwnPropertyDescriptor(e.HTMLMediaElement.prototype,"src");Object.defineProperty(e.HTMLMediaElement.prototype,"src",{get:function(){return u.get.apply(this)},set:function(e){return this.srcObject=o.get(e)||null,u.set.apply(this,[e])}});var s=e.HTMLMediaElement.prototype.setAttribute;e.HTMLMediaElement.prototype.setAttribute=function(){return 2===arguments.length&&"src"===(""+arguments[0]).toLowerCase()&&(this.srcObject=o.get(arguments[1])||null),s.apply(this,arguments)}}},shimMaxMessageSize:function(e){if(!e.RTCSctpTransport&&e.RTCPeerConnection){var t=i.detectBrowser(e);"sctp"in e.RTCPeerConnection.prototype||Object.defineProperty(e.RTCPeerConnection.prototype,"sctp",{get:function(){return void 0===this._sctp?null:this._sctp}});var r=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,function(e){var t=n.splitSections(e.sdp);return t.shift(),t.some(function(e){var t=n.parseMLine(e);return t&&"application"===t.kind&&-1!==t.protocol.indexOf("SCTP")})}(arguments[0])){var e,i=function(e){var t=e.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(null===t||t.length<2)return-1;var r=parseInt(t[1],10);return r!=r?-1:r}(arguments[0]),o=function(e){var r=65536;return"firefox"===t.browser&&(r=t.version<57?-1===e?16384:2147483637:t.version<60?57===t.version?65535:65536:2147483637),r}(i),a=function(e,r){var i=65536;"firefox"===t.browser&&57===t.version&&(i=65535);var o=n.matchPrefix(e.sdp,"a=max-message-size:");return o.length>0?i=parseInt(o[0].substr(19),10):"firefox"===t.browser&&-1!==r&&(i=2147483637),i}(arguments[0],i);e=0===o&&0===a?Number.POSITIVE_INFINITY:0===o||0===a?Math.max(o,a):Math.min(o,a);var u={};Object.defineProperty(u,"maxMessageSize",{get:function(){return e}}),this._sctp=u}return r.apply(this,arguments)}}},shimSendThrowTypeError:function(e){if(e.RTCPeerConnection&&"createDataChannel"in e.RTCPeerConnection.prototype){var t=e.RTCPeerConnection.prototype.createDataChannel;e.RTCPeerConnection.prototype.createDataChannel=function(){var e=t.apply(this,arguments);return r(e,this),e},i.wrapPeerConnectionEvent(e,"datachannel",function(e){return r(e.channel,e.target),e})}function r(e,t){var r=e.send;e.send=function(){var n=arguments[0],i=n.length||n.size||n.byteLength;if("open"===e.readyState&&t.sctp&&i>t.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+t.sctp.maxMessageSize+" bytes)");return r.apply(e,arguments)}}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});
/*!
 * Copyright (c) 2015-2017 Cisco Systems, Inc. See LICENSE file.
 */
var n=t.locusEventKeys=["locus.summary","locus.self_changed","locus.participant_joined","locus.participant_left","locus.participant_declined","locus.participant_alerted","locus.participant_updated","locus.participant_roles_updated","locus.participant_audio_muted","locus.participant_audio_unmuted","locus.participant_video_muted","locus.participant_video_unmuted","locus.floor_granted","locus.floor_released","locus.space_users_modified","locus.controls_updated","locus.participant_controls_updated"];t.default=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DESYNC=t.LESS_THAN=t.GREATER_THAN=t.FETCH=t.EQUAL=t.USE_CURRENT=t.USE_INCOMING=void 0;var n=y(r(302)),i=y(r(60)),o=y(r(431)),a=y(r(31)),u=y(r(1)),s=y(r(106)),c=y(r(77)),f=y(r(201)),l=y(r(202)),d=y(r(1063)),p=y(r(487)),h=y(r(155)),v=r(2),g=y(r(166));function y(e){return e&&e.__esModule?e:{default:e}}
/*!
 * Copyright (c) 2015-2017 Cisco Systems, Inc. See LICENSE file.
 */var m=t.USE_INCOMING="USE_INCOMING",b=t.USE_CURRENT="USE_CURRENT",_=t.EQUAL="EQUAL",w=t.FETCH="FETCH",S=t.GREATER_THAN="GREATER_THAN",k=t.LESS_THAN="LESS_THAN",x=t.DESYNC="DESYNC";function E(e){switch(e){case _:case S:return b;case k:return m;case x:return w;default:throw new Error(e+" is not a recognized sequence comparison result")}}var T=v.SparkPlugin.extend({namespace:"Locus",alert:function(e){return this.request({method:"PUT",uri:e.url+"/participant/alert",body:{deviceUrl:this.spark.internal.device.url,sequence:e.sequence}}).then(function(e){return e.body})},compare:function(e,t){function r(e){var t=e.sequence;return!(t.entries&&t.entries.length||0!==t.rangeStart||0!==t.rangeEnd)}return r(e)||r(t)?m:t.baseSequence?this.compareDelta(e,t):E(this.compareSequence(e.sequence,t.sequence))},compareDelta:function(e,t){var r=this.compareSequence(e.sequence,t.sequence);if(r!==k)return E(r);switch(r=this.compareSequence(e.sequence,t.baseSequence)){case S:case _:return m;default:return w}},compareSequence:function(e,t){if(!e)throw new Error("`current` is required");if(!t)throw new Error("`incoming` is required");var r=(0,f.default)(function(e){return 0===e.entries.length?0:(0,d.default)(e.entries)}),n=(0,f.default)(function(e){return 0===e.entries.length?0:(0,l.default)(e.entries)}),i=(0,f.default)(function(e){return e.rangeStart||r(e)}),o=(0,f.default)(function(e){return n(e)||e.rangeEnd});function a(e,t){return e>=t.rangeStart&&e<=t.rangeEnd}if(i(e)>o(t))return S;if(o(e)<i(t))return k;var u=(0,p.default)(e.entries,t.entries),s=(0,p.default)(t.entries,e.entries),h=[],v=[],g=!0,y=!1,m=void 0;try{for(var b,w=(0,c.default)(u);!(g=(b=w.next()).done);g=!0){var E=b.value;a(E,t)||h.push(E)}}catch(e){y=!0,m=e}finally{try{!g&&w.return&&w.return()}finally{if(y)throw m}}var T=!0,O=!1,P=void 0;try{for(var C,M=(0,c.default)(s);!(T=(C=M.next()).done);T=!0){var j=C.value;a(j,e)||v.push(j)}}catch(e){O=!0,P=e}finally{try{!T&&M.return&&M.return()}finally{if(O)throw P}}if(!h.length&&!v.length)return e.rangeEnd-i(e)>t.rangeEnd-i(t)?S:e.rangeEnd-i(e)<t.rangeEnd-i(t)?k:_;if(h.length&&!v.length)return S;if(!h.length&&v.length)return k;if(!(e.rangeStart||e.rangeEnd||t.rangeStart||t.rangeEnd))return x;var R=!0,A=!1,I=void 0;try{for(var D,L=(0,c.default)(h);!(R=(D=L.next()).done);R=!0){var N=D.value;if(i(t)<N&&N<o(t))return x}}catch(e){A=!0,I=e}finally{try{!R&&L.return&&L.return()}finally{if(A)throw I}}var F=!0,U=!1,z=void 0;try{for(var q,B=(0,c.default)(v);!(F=(q=B.next()).done);F=!0){var W=q.value;if(i(e)<W&&W<o(e))return x}}catch(e){U=!0,z=e}finally{try{!F&&B.return&&B.return()}finally{if(U)throw z}}return h[0]>v[0]?S:k},create:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.correlationId;if(!r)throw new Error("options.correlationId is required");return this.request({method:"POST",service:"locus",resource:"loci/call",body:{correlationId:r,deviceUrl:this.spark.internal.device.url,invitee:{invitee:e},localMedias:[{localSdp:(0,s.default)({type:"SDP",sdp:t.localSdp})}],sequence:{entries:[],rangeStart:0,rangeEnd:0}}}).then(function(e){return e.body.locus})},createOrJoin:function(e,t){return e.url?this.join(e,t):this.create(e,t)},decline:function(e){var t=this;return this.request({method:"PUT",uri:e.url+"/participant/decline",body:{deviceUrl:this.spark.internal.device.url,sequence:e.sequence}}).then(function(e){return e.body}).catch(function(r){return r instanceof v.SparkHttpError.Conflict?t.get(e):u.default.reject(r)})},get:function(e){return this.request({method:"GET",uri:""+e.url}).then(function(e){return e.body})},getCallHistory:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=new Date(e.from||Date.now()).toISOString();return this.request({method:"GET",service:"janus",resource:"history/userSessions",qs:{from:t}}).then(function(e){return e.body})},join:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.correlationId||t.correlationId;if(!r)throw new Error("locus.correlationId or options.correlationId is required");return this.request({method:"POST",uri:e.url+"/participant",body:{correlationId:r,deviceUrl:this.spark.internal.device.url,localMedias:[{localSdp:(0,s.default)({type:"SDP",sdp:t.localSdp})}],sequence:e.sequence||{entries:[],rangeStart:0,rangeEnd:0}}}).then(function(e){return e.body.locus})},leave:function(e){var t=this;return this.request({method:"PUT",uri:e.self.url+"/leave",body:{deviceUrl:this.spark.internal.device.url,sequence:e.sequence}}).then(function(e){return e.body.locus}).catch(function(r){return r instanceof v.SparkHttpError.Conflict?t.get(e):u.default.reject(r)})},list:function(){return this.request({method:"GET",service:"locus",resource:"loci"}).then(function(e){return e.body.loci})},merge:function(e,t){if(!t.baseSequence)return t;var r=(0,h.default)(e);if((0,a.default)(t).forEach(function(e){"baseSequence"!==e&&"participants"!==e&&(r[e]=t[e]||r[e])}),t.participants||t.participants.length){var u=new o.default,s=new i.default;t.participants.forEach(function(e){e.removed?u.add(e.url):s.set(e.url,e)});var c=r.participants.reduce(function(e,t){return u.has(t.url)||(e[t.url]=t),e},{});s.forEach(function(e,t){c[t]=e}),r.participants=(0,n.default)(c)}return r},releaseFloorGrant:function(e,t){return this.spark.request({uri:t.url,method:"PUT",body:{floor:{disposition:"RELEASED"}}}).then(function(e){return e.body})},requestFloorGrant:function(e,t){return this.spark.request({uri:t.url,method:"PUT",body:{floor:{beneficiary:{url:e.self.url,devices:[{url:this.spark.internal.device.url}]},disposition:"GRANTED"}}}).then(function(e){return e.body})},sendDtmf:function(e,t){return this.request({method:"POST",uri:e.self.url+"/sendDtmf",body:{deviceUrl:this.spark.internal.device.url,dtmf:{correlationId:g.default.v4(),tones:t}}})},sync:function(e){return this.request({method:"GET",uri:e.syncUrl}).then(function(e){return e.body||{}})},updateMedia:function(e,t){var r=t.sdp,n=t.audioMuted,i=t.videoMuted,o=t.mediaId,a={audioMuted:n,videoMuted:i};return r&&(a.type="SDP",a.sdp=r),this.request({method:"PUT",uri:e.self.url+"/media",body:{deviceUrl:this.spark.internal.device.url,localMedias:[{localSdp:(0,s.default)(a),mediaId:o}],sequence:e.sequence}}).then(function(e){return e.body.locus})},version:"1.43.5"});t.default=T},function(e,t,r){e.exports=r(1064)},function(e,t){e.exports=function(e){return e&&e.length?e[0]:void 0}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UnknownResponse=t.NotAuthorized=t.Forbidden=t.ConnectionError=t.BadRequest=t.config=t.Socket=t.Mercury=t.default=void 0;var n=r(1066);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return f(n).default}}),Object.defineProperty(t,"Mercury",{enumerable:!0,get:function(){return f(n).default}});var i=r(490);Object.defineProperty(t,"Socket",{enumerable:!0,get:function(){return f(i).default}});var o=r(1083);Object.defineProperty(t,"config",{enumerable:!0,get:function(){return f(o).default}});var a=r(309);Object.defineProperty(t,"BadRequest",{enumerable:!0,get:function(){return a.BadRequest}}),Object.defineProperty(t,"ConnectionError",{enumerable:!0,get:function(){return a.ConnectionError}}),Object.defineProperty(t,"Forbidden",{enumerable:!0,get:function(){return a.Forbidden}}),Object.defineProperty(t,"NotAuthorized",{enumerable:!0,get:function(){return a.NotAuthorized}}),Object.defineProperty(t,"UnknownResponse",{enumerable:!0,get:function(){return a.UnknownResponse}}),r(167),r(1084),r(492);var u=r(2),s=f(n),c=f(o);function f(e){return e&&e.__esModule?e:{default:e}}
/*!
 * Copyright (c) 2015-2017 Cisco Systems, Inc. See LICENSE file.
 */(0,u.registerInternalPlugin)("mercury",s.default,{config:c.default,onBeforeLogout:function(){return this.disconnect()}})},function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n,i,o,a=w(r(49)),u=w(r(134)),s=w(r(30)),c=w(r(43)),f=w(r(31)),l=w(r(1)),d=w(r(304)),p=w(r(51)),h=w(r(1067)),v=r(2),g=r(13),y=w(r(405)),m=w(r(490)),b=r(309),_=w(r(156));function w(e){return e&&e.__esModule?e:{default:e}}function S(e,t,r,n,i){var o={};return Object.keys(n).forEach(function(e){o[e]=n[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var k=["idle","done (forced)","pong not received","pong mismatch"],x=v.SparkPlugin.extend((n=(0,g.deprecated)("Mercury#listen(): Use Mercury#connect() instead"),i=(0,g.deprecated)("Mercury#stopListening(): Use Mercury#disconnect() instead"),S(o={namespace:"Mercury",session:{connected:{default:!1,type:"boolean"},connecting:{default:!1,type:"boolean"},socket:"object",localClusterServiceUrls:"object"},derived:{listening:{deps:["connected"],fn:function(){return this.connected}}},connect:function(e){var t=this;return this.connected?(this.logger.info("mercury: already connected, will not connect again"),l.default.resolve()):(this.connecting=!0,l.default.resolve(this.spark.internal.device.registered||this.spark.internal.device.register()).then(function(){return t.logger.info("mercury: connecting"),t._connectWithBackoff(e)}))},disconnect:function(){var e=this;return new l.default(function(t){if(e.backoffCall&&(e.logger.info("mercury: aborting connection"),e.backoffCall.abort()),e.socket)return e.socket.removeAllListeners("message"),e.once("offline",t),void e.socket.close();t()})},listen:function(){return this.connect()},stopListening:function(){return this.disconnect()},processRegistrationStatusEvent:function(e){this.localClusterServiceUrls=e.localClusterServiceUrls},_applyOverrides:function(e){e.headers&&(0,f.default)(e.headers).forEach(function(t){(0,d.default)(e,t,e.headers[t])})},_prepareUrl:function(e){var t=this;return e||(e=this.spark.internal.device.webSocketUrl),this.spark.internal.feature.getFeature("developer","web-ha-messaging").then(function(r){return r?t.spark.internal.device.useServiceCatalogUrl(e):e}).then(function(t){e=t}).then(function(){return t.spark.internal.feature.getFeature("developer","web-shared-mercury")}).then(function(r){return e=_.default.parse(e,!0),(0,c.default)(e.query,{outboundWireFormat:"text",bufferStates:!0,aliasHttpStatus:!0}),r&&((0,c.default)(e.query,{mercuryRegistrationStatus:!0,isRegistrationRefreshEnabled:!0}),(0,s.default)(e.query,"bufferStates")),(0,p.default)(t,"spark.config.device.ephemeral",!1)&&(e.query.multipleConnections=!0),_.default.format(e)})},_attemptConnection:function(e,t){var r=this,n=new m.default,i=void 0;n.on("close",function(){return r._onclose.apply(r,arguments)}),n.on("message",function(){return r._onmessage.apply(r,arguments)}),n.on("sequence-mismatch",function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return r._emit.apply(r,["sequence-mismatch"].concat(t))}),l.default.all([this._prepareUrl(e),this.spark.credentials.getUserToken()]).then(function(e){var t=(0,u.default)(e,2),o=t[0],a=t[1];return i=o,n.open(o,{forceCloseDelay:r.config.forceCloseDelay,pingInterval:r.config.pingInterval,pongTimeout:r.config.pongTimeout,token:a.toString(),trackingId:r.spark.sessionId+"_"+Date.now(),logger:r.logger})}).then(function(){return r.socket=n,r.spark.internal.metrics.submitClientMetrics("web-ha-mercury",{fields:{success:!0},tags:{action:"connected",url:i}}),t(),r.spark.internal.feature.getFeature("developer","web-ha-messaging").then(function(e){return e?r.spark.internal.device.fetchNewUrls(i):l.default.resolve()})}).catch(function(e){return 1006!==e.code&&r.backoffCall&&r.backoffCall.getNumRetries()>0&&r._emit("connection_failed",e,{retries:r.backoffCall.getNumRetries()}),r.logger.info("mercury: connection attempt failed",e),e instanceof b.UnknownResponse?(r.logger.info("mercury: received unknown response code, refreshing device registration"),r.spark.internal.device.refresh().then(function(){return t(e)})):e instanceof b.NotAuthorized?(r.logger.info("mercury: received authorization error, reauthorizing"),r.spark.credentials.refresh({force:!0}).then(function(){return t(e)})):e instanceof b.BadRequest||e instanceof b.Forbidden?(r.logger.warn("mercury: received unrecoverable response from mercury"),r.backoffCall.abort(),t(e)):e instanceof b.ConnectionError?r.spark.internal.feature.getFeature("developer","web-ha-messaging").then(function(t){return t?(r.logger.info("mercury: received a generic connection error, will try to connect to another datacenter"),r.spark.internal.metrics.submitClientMetrics("web-ha-mercury",{fields:{success:!1},tags:{action:"failed",error:e.message,url:i}}),r.spark.internal.device.markUrlFailedAndGetNew(i)):null}).then(function(){return t(e)}):t(e)}).catch(function(e){r.logger.error("mercury: failed to handle connection failure",e),t(e)})},_connectWithBackoff:function(e){var t=this;return new l.default(function(r,n){var i=void 0;(i=y.default.call(function(r){t.logger.info("mercury: executing connection attempt "+i.getNumRetries()),t._attemptConnection(e,r)},function(e){return t.connecting=!1,t.backoffCall=void 0,e?(t.logger.info("mercury: failed to connect after "+i.getNumRetries()+" retries; log statement about next retry was inaccurate"),n(e)):(t.connected=!0,t._emit("online"),r())})).setStrategy(new y.default.ExponentialStrategy({initialDelay:t.config.backoffTimeReset,maxDelay:t.config.backoffTimeMax})),t.config.maxRetries&&i.failAfter(t.config.maxRetries),i.on("abort",function(){t.logger.info("mercury: connection aborted"),n()}),i.on("callback",function(e){if(e){var r=i.getNumRetries(),n=Math.min(i.strategy_.nextBackoffDelay_,t.config.backoffTimeMax);return t.logger.info("mercury: failed to connect; attempting retry "+(r+1)+" in "+n+" ms"),void t.logger.debug("mercury: ",e,e.stack)}t.logger.info("mercury: connected")}),i.start(),t.backoffCall=i})},_emit:function(){try{this.trigger.apply(this,arguments)}catch(e){this.logger.error("mercury: error occurred in event handler",e)}},_getEventHandlers:function(e){var t=e.split("."),r=(0,u.default)(t,2),n=r[0],i=r[1],o=[];if(!this.spark[n]&&!this.spark.internal[n])return o;var a=(0,h.default)("process_"+i+"_event");return(this.spark[n]||this.spark.internal[n])[a]&&o.push({name:a,namespace:n}),o},_onclose:function(e){try{var t=e.reason&&e.reason.toLowerCase(),r=this.socket.url;switch(this.socket.removeAllListeners(),this.unset("socket"),this.connected=!1,this._emit("offline",e),e.code){case 1003:this.logger.info("mercury: Mercury service rejected last message; will not reconnect: "+e.reason),this._emit("offline.permanent",e);break;case 4e3:this.logger.info("mercury: socket replaced; will not reconnect"),this._emit("offline.replaced",e);break;case 1001:case 1005:case 1006:case 1011:this.logger.info("mercury: socket disconnected; reconnecting"),this._emit("offline.transient",e),this._reconnect(r);break;case 1e3:k.includes(t)?(this.logger.info("mercury: socket disconnected; reconnecting"),this._emit("offline.transient",e),this._reconnect(r)):(this.logger.info("mercury: socket disconnected; will not reconnect"),this._emit("offline.permanent",e));break;default:this.logger.info("mercury: socket disconnected unexpectedly; will not reconnect"),this._emit("offline.permanent",e)}}catch(e){this.logger.error("mercury: error occurred in close handler",e)}},_onmessage:function(t){var r=this,n=t.data;e.env.ENABLE_MERCURY_LOGGING&&this.logger.debug("mercury: message envelope: ",n);var i=n.data;return this._applyOverrides(i),this._getEventHandlers(i.eventType).reduce(function(e,t){return e.then(function(){var e=t.namespace,n=t.name;return new l.default(function(t){return t((r.spark[e]||r.spark.internal[e])[n](i))}).catch(function(e){return r.logger.error("mercury: error occurred in autowired event handler for "+i.eventType,e)})})},l.default.resolve()).then(function(){r._emit("event",t.data);var e=i.eventType.split("."),o=(0,u.default)(e,1)[0];r._emit("event:"+o,n),r._emit("event:"+i.eventType,n)}).catch(function(e){r.logger.error("mercury: error occurred processing socket message",e)})},_reconnect:function(e){return this.logger.info("mercury: reconnecting"),this.connect(e)},version:"1.43.5"},"connect",[g.oneFlight],(0,a.default)(o,"connect"),o),S(o,"disconnect",[g.oneFlight],(0,a.default)(o,"disconnect"),o),S(o,"listen",[n],(0,a.default)(o,"listen"),o),S(o,"stopListening",[i],(0,a.default)(o,"stopListening"),o),o));t.default=x}).call(this,r(23))},function(e,t,r){var n=r(1068),i=r(1074)(function(e,t,r){return t=t.toLowerCase(),e+(r?n(t):t)});e.exports=i},function(e,t,r){var n=r(112),i=r(1069);e.exports=function(e){return i(n(e).toLowerCase())}},function(e,t,r){var n=r(1070)("toUpperCase");e.exports=n},function(e,t,r){var n=r(481),i=r(488),o=r(1071),a=r(112);e.exports=function(e){return function(t){t=a(t);var r=i(t)?o(t):void 0,u=r?r[0]:t.charAt(0),s=r?n(r,1).join(""):t.slice(1);return u[e]()+s}}},function(e,t,r){var n=r(1072),i=r(488),o=r(1073);e.exports=function(e){return i(e)?o(e):n(e)}},function(e,t){e.exports=function(e){return e.split("")}},function(e,t){var r="[\\ud800-\\udfff]",n="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",i="\\ud83c[\\udffb-\\udfff]",o="[^\\ud800-\\udfff]",a="(?:\\ud83c[\\udde6-\\uddff]){2}",u="[\\ud800-\\udbff][\\udc00-\\udfff]",s="(?:"+n+"|"+i+")"+"?",c="[\\ufe0e\\ufe0f]?"+s+("(?:\\u200d(?:"+[o,a,u].join("|")+")[\\ufe0e\\ufe0f]?"+s+")*"),f="(?:"+[o+n+"?",n,a,u,r].join("|")+")",l=RegExp(i+"(?="+i+")|"+f+c,"g");e.exports=function(e){return e.match(l)||[]}},function(e,t,r){var n=r(489),i=r(1075),o=r(1077),a=RegExp("['’]","g");e.exports=function(e){return function(t){return n(o(i(t).replace(a,"")),e,"")}}},function(e,t,r){var n=r(1076),i=r(112),o=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,a=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g");e.exports=function(e){return(e=i(e))&&e.replace(o,n).replace(a,"")}},function(e,t,r){var n=r(417)({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"});e.exports=n},function(e,t,r){var n=r(1078),i=r(1079),o=r(112),a=r(1080);e.exports=function(e,t,r){return e=o(e),void 0===(t=r?void 0:t)?i(e)?a(e):n(e):e.match(t)||[]}},function(e,t){var r=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;e.exports=function(e){return e.match(r)||[]}},function(e,t){var r=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;e.exports=function(e){return r.test(e)}},function(e,t){var r="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",n="["+r+"]",i="\\d+",o="[\\u2700-\\u27bf]",a="[a-z\\xdf-\\xf6\\xf8-\\xff]",u="[^\\ud800-\\udfff"+r+i+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",s="(?:\\ud83c[\\udde6-\\uddff]){2}",c="[\\ud800-\\udbff][\\udc00-\\udfff]",f="[A-Z\\xc0-\\xd6\\xd8-\\xde]",l="(?:"+a+"|"+u+")",d="(?:"+f+"|"+u+")",p="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",h="[\\ufe0e\\ufe0f]?"+p+("(?:\\u200d(?:"+["[^\\ud800-\\udfff]",s,c].join("|")+")[\\ufe0e\\ufe0f]?"+p+")*"),v="(?:"+[o,s,c].join("|")+")"+h,g=RegExp([f+"?"+a+"+(?:['’](?:d|ll|m|re|s|t|ve))?(?="+[n,f,"$"].join("|")+")",d+"+(?:['’](?:D|LL|M|RE|S|T|VE))?(?="+[n,f+l,"$"].join("|")+")",f+"?"+l+"+(?:['’](?:d|ll|m|re|s|t|ve))?",f+"+(?:['’](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",i,v].join("|"),"g");e.exports=function(e){return e.match(g)||[]}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(r(1082));n.default.getWebSocketConstructor=function(){return WebSocket},
/*!
    * Copyright (c) 2015-2017 Cisco Systems, Inc. See LICENSE file.
    */
t.default=n.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=w(r(106)),i=w(r(135)),o=w(r(31)),a=w(r(1)),u=w(r(14)),s=w(r(8)),c=w(r(11)),f=w(r(15)),l=w(r(16)),d=w(r(44)),p=w(r(19)),h=w(r(92)),v=w(r(72)),g=r(62),y=r(309),m=r(13),b=r(132),_=w(r(166));function w(e){return e&&e.__esModule?e:{default:e}}var S=new d.default,k=function(e){function t(){(0,s.default)(this,t);var e=(0,f.default)(this,(t.__proto__||(0,u.default)(t)).call(this));return e.onmessage=e.onmessage.bind(e),e.onclose=e.onclose.bind(e),e}return(0,l.default)(t,e),(0,c.default)(t,[{key:"close",value:function(e){var t=this;return new a.default(function(r,n){t.logger.info("socket: closing");var i=S.get(t);if(2===i.readyState||3===i.readyState)return t.logger.info("socket: already closed"),void r();if((e=e||{}).code&&1e3!==e.code&&(e.code<3e3||e.code>4999))n(new Error("`options.code` must be 1000 or between 3000 and 4999 (inclusive)"));else{e=(0,v.default)(e,{code:1e3,reason:"Done"});var o=(0,b.safeSetTimeout)(function(){try{t.logger.info("socket: no close event received, forcing closure"),r(t.onclose({code:1e3,reason:"Done (forced)"}))}catch(e){t.logger.warn("socket: force-close failed",e)}},t.forceCloseDelay);i.onclose=function(e){t.logger.info("socket: close event fired",e.code,e.reason),clearTimeout(o),t.onclose(e),r(e)},i.close(e.code,e.reason)}})}},{key:"open",value:function(e,r){var n=this;return new a.default(function(a,u){if(e)if(S.get(n))u(new Error("Socket#open() can only be called once per instance"));else{r=r||{},(0,m.checkRequired)(["forceCloseDelay","pingInterval","pongTimeout","token","trackingId","logger"],r),(0,o.default)(r).forEach(function(e){(0,i.default)(n,e,{enumerable:!1,value:r[e]})});var s=t.getWebSocketConstructor();n.logger.info("socket: creating WebSocket");var c=new s(e);c.binaryType="arraybuffer",c.onmessage=n.onmessage,c.onclose=function(e){switch((e=n._fixCloseCode(e)).code){case 1005:return u(new y.UnknownResponse(e));case 4400:return u(new y.BadRequest(e));case 4401:return u(new y.NotAuthorized(e));case 4403:return u(new y.Forbidden(e));default:return u(new y.ConnectionError(e))}},c.onopen=function(){n.logger.info("socket: connected"),n._authorize().then(function(){n.logger.info("socket: authorized"),c.onclose=n.onclose,a()}).catch(u)},c.onerror=function(e){n.logger.warn("socket: error event fired",e)},S.set(n,c),n.logger.info("socket: waiting for server")}else u(new Error("`url` is required"))})}},{key:"onclose",value:function(e){this.logger.info("socket: closed",e.code,e.reason),clearTimeout(this.pongTimer),clearTimeout(this.pingTimer),e=this._fixCloseCode(e),this.emit("close",e),this.removeAllListeners()}},{key:"onmessage",value:function(e){try{var t=JSON.parse(e.data),r=parseInt(t.sequenceNumber,10);this.logger.debug("socket: sequence number: ",r),this.expectedSequenceNumber&&r!==this.expectedSequenceNumber&&(this.logger.debug("socket: sequence number mismatch indicates lost mercury message. expected: "+this.expectedSequenceNumber+", actual: "+r),this.emit("sequence-mismatch",r,this.expectedSequenceNumber)),this.expectedSequenceNumber=r+1;var n={data:t};this._acknowledge(n),"pong"===t.type?this.emit("pong",n):this.emit("message",n)}catch(e){this.logger.warn("socket: error while receiving WebSocket message",e)}}},{key:"send",value:function(e){var t=this;return new a.default(function(r,i){return 1!==t.readyState?i(new Error("INVALID_STATE_ERROR")):((0,p.default)(e)&&(e=(0,n.default)(e)),S.get(t).send(e),r())})}},{key:"_acknowledge",value:function(e){return e?(0,h.default)(e,"data.id")?this.send({messageId:e.data.id,type:"ack"}):a.default.reject(new Error("`event.data.id` is required")):a.default.reject(new Error("`event` is required"))}},{key:"_authorize",value:function(){var e=this;return new a.default(function(t){e.logger.info("socket: authorizing"),e.send({id:_.default.v4(),type:"authorization",data:{token:e.token},trackingId:e.trackingId,logLevelToken:e.logLevelToken});e.once("message",function r(n){n.data.type||"mercury.buffer_state"!==n.data.data.eventType&&"mercury.registration_status"!==n.data.data.eventType||(e.removeListener("message",r),e._ping(),t())})})}},{key:"_fixCloseCode",value:function(e){if(1005===e.code&&e.reason)switch(e.reason.toLowerCase()){case"replaced":this.logger.info("socket: fixing CloseEvent code for reason: ",e.reason),e.code=4e3;break;case"authentication failed":case"authentication did not happen within the timeout window of 30000 seconds.":this.logger.info("socket: fixing CloseEvent code for reason: ",e.reason),e.code=1008}return e}},{key:"_ping",value:function(e){var t=this;return e=e||_.default.v4(),this.pongTimer=(0,b.safeSetTimeout)(function(){try{t.logger.info("socket: pong not receive in expected period, closing socket"),t.close({code:1e3,reason:"Pong not received"}).catch(function(e){t.logger.warn("socket: failed to close socket after missed pong",e)})}catch(e){t.logger.error("socket: error occurred in onPongNotReceived",e)}},this.pongTimeout),this.once("pong",function(){try{clearTimeout(t.pongTimer),t.pingTimer=(0,b.safeSetTimeout)(function(){return t._ping()},t.pingInterval)}catch(e){t.logger.error("socket: error occurred in scheduleNextPingAndCancelPongTimer",e)}}),this.once("pong",function(r){try{t.logger.debug("socket: pong",r.data.id),r.data&&r.data.id!==e&&(t.logger.info("socket: received pong for wrong ping id, closing socket"),t.logger.debug("socket: expected",e,"received",r.data.id),t.close({code:1e3,reason:"Pong mismatch"}))}catch(e){t.logger.error("socket: error occurred in confirmPongId",e)}}),this.logger.debug("socket: ping "+e),this.send({id:e,type:"ping"})}},{key:"binaryType",get:function(){return S.get(this).binaryType}},{key:"bufferedAmount",get:function(){return S.get(this).bufferedAmount}},{key:"extensions",get:function(){return S.get(this).extensions}},{key:"protocol",get:function(){return S.get(this).protocol}},{key:"readyState",get:function(){return S.get(this).readyState}},{key:"url",get:function(){return S.get(this).url}}],[{key:"getWebSocketConstructor",value:function(){throw new Error("Socket.getWebSocketConstructor() must be implemented in an environmentally appropriate way")}}]),t}(g.EventEmitter);
/*!
 * Copyright (c) 2015-2017 Cisco Systems, Inc. See LICENSE file.
 */t.default=k},function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),
/*!
 * Copyright (c) 2015-2017 Cisco Systems, Inc. See LICENSE file.
 */
t.default={mercury:{pingInterval:e.env.MERCURY_PING_INTERVAL||15e3,pongTimeout:e.env.MERCURY_PONG_TIMEOUT||14e3,backoffTimeMax:e.env.MERCURY_BACKOFF_TIME_MAX||32e3,backoffTimeReset:e.env.MERCURY_BACKOFF_TIME_RESET||1e3,forceCloseDelay:e.env.MERCURY_FORCE_CLOSE_DELAY||2e3}}}).call(this,r(23))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(1085);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return u(n).default}});var i=r(2),o=u(n),a=u(r(1088));function u(e){return e&&e.__esModule?e:{default:e}}(0,i.registerInternalPlugin)("feature",o.default,{config:a.default})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=u(r(24)),i=u(r(1)),o=u(r(491));r(167);var a=r(2);function u(e){return e&&e.__esModule?e:{default:e}}
/*!
 * Copyright (c) 2015-2017 Cisco Systems, Inc. See LICENSE file.
 */var s=a.SparkPlugin.extend({namespace:"Feature",getFeature:function(e,t,r){if("developer"!==e&&"user"!==e&&"entitlement"!==e)return i.default.reject(new Error("Invalid feature keyType provided. Only `developer`, `user`, and `entitlement` feature toggles are permitted."));r=r||{};var n=this.spark.internal.device.features[e].get(t);return n?r.full?i.default.resolve(n.serialize()):i.default.resolve(n.value):i.default.resolve(null)},setFeature:function(e,t,r){var n=this;return"developer"!==e&&"user"!==e?i.default.reject(new Error("Only `developer` and `user` feature toggles can be set.")):this.request({method:"POST",api:"feature",resource:"features/users/"+this.spark.internal.device.userId+"/"+e,body:{key:t,mutable:!0,val:r}}).then(function(t){return n.spark.internal.device.features[e].add(t.body,{merge:!0})})},setBundledFeatures:function(e){var t=this;return e.forEach(function(e){e.mutable=e.mutable||"true","USER"!==e.type&&"DEV"!==e.type&&(e.type="USER")}),this.request({method:"POST",api:"feature",resource:"features/users/"+this.spark.internal.device.userId+"/toggles",body:e}).then(function(e){var r=(0,o.default)(e.body.featureToggles,{type:"USER"});t.spark.internal.device.features.user.add(r[0],{merge:!0}),t.spark.internal.device.features.developer.add(r[1],{merge:!0})})},initialize:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];(0,n.default)(a.SparkPlugin.prototype.initialize,this,t),this.listenToAndRun(this.spark,"change:internal.device.features.developer",this.trigger.bind(this,"change:developer")),this.listenToAndRun(this.spark,"change:internal.device.features.entitlement",this.trigger.bind(this,"change:entitlement")),this.listenToAndRun(this.spark,"change:internal.device.features.user",this.trigger.bind(this,"change:user"))},version:"1.43.5"});t.default=s},function(e,t){e.exports=function(e,t,r,n){for(var i=-1,o=null==e?0:e.length;++i<o;){var a=e[i];t(n,a,r(a),e)}return n}},function(e,t,r){var n=r(93);e.exports=function(e,t,r,i){return n(e,function(e,n,o){t(i,e,r(e),o)}),i}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),
/*!
 * Copyright (c) 2015-2017 Cisco Systems, Inc. See LICENSE file.
 */
t.default={feature:{}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,i,o=d(r(49)),a=d(r(43)),u=r(2),s=d(r(310)),c=d(r(1090)),f=d(r(1091)),l=r(13);function d(e){return e&&e.__esModule?e:{default:e}}var p=u.SparkPlugin.extend((n=(0,l.deprecated)("Metrics#sendUnstructured() is deprecated; please use Metrics#submit()"),function(e,t,r,n,i){var o={};Object.keys(n).forEach(function(e){o[e]=n[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null)}(i={children:{batcher:s.default,clientMetricsBatcher:c.default,callDiagnosticEventsBatcher:f.default},namespace:"Metrics",sendUnstructured:function(e,t){return this.submit(e,t)},submit:function(e,t){return this.batcher.request((0,a.default)({key:e},t))},submitClientMetrics:function(e,t,r){var n={metricName:e};if(t.tags&&(n.tags=t.tags),t.fields&&(n.fields=t.fields),t.type&&(n.type=t.type),n.timestamp=Date.now(),r){var i={metrics:[n]};return this.postPreLoginMetric(i,r)}return this.clientMetricsBatcher.request(n)},aliasUser:function(e){return this.request({method:"POST",api:"metrics",resource:"clientmetrics",headers:{"x-prelogin-userid":e},body:{},qs:{alias:!0}})},postPreLoginMetric:function(e,t){var r=this;return this.spark.credentials.getClientToken().then(function(n){return r.request({method:"POST",api:"metrics",resource:"clientmetrics-prelogin",headers:{authorization:n.toString(),"x-prelogin-userid":t},body:e})})},submitCallDiagnosticEvents:function(e){var t={type:"diagnostic-event",eventPayload:e};return this.callDiagnosticEventsBatcher.request(t)},version:"1.43.5"},"sendUnstructured",[n],(0,o.default)(i,"sendUnstructured"),i),i));t.default=p},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(r(1));function i(e){return e&&e.__esModule?e:{default:e}}var o=i(r(310)).default.extend({namespace:"Metrics",prepareItem:function(e){return n.default.resolve(e)},prepareRequest:function(e){return n.default.resolve(e)},submitHttpRequest:function(e){return this.spark.request({method:"POST",service:"metrics",resource:"clientmetrics",body:{metrics:e}})}});
/*!
     * Copyright (c) 2015-2017 Cisco Systems, Inc. See LICENSE file.
     */t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(r(1)),i=o(r(43));function o(e){return e&&e.__esModule?e:{default:e}}var a=o(r(310)).default.extend({namespace:"Metrics",prepareItem:function(e){var t={buildType:"test",networkType:"unknown"};return e.eventPayload.origin=(0,i.default)(t,e.eventPayload.origin),n.default.resolve(e)},prepareRequest:function(e){return e.forEach(function(e){e.eventPayload.originTime.sent=(new Date).toISOString()}),n.default.resolve(e)},submitHttpRequest:function(e){return this.spark.request({method:"POST",service:"metrics",resource:"clientmetrics",body:{metrics:e}})}});
/*!
     * Copyright (c) 2015-2017 Cisco Systems, Inc. See LICENSE file.
     */t.default=a},function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=r(13);t.default={device:{preDiscoveryServices:{metricsServiceUrl:e.env.METRICS_SERVICE_URL||"https://metrics-a.wbx2.com/metrics/api/v1"}},metrics:{appType:n.inBrowser?"browser":"nodejs",batcherWait:500,batcherMaxCalls:50,batcherMaxWait:1500,batcherRetryPlateau:32e3}}}).call(this,r(23))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(r(165)),i=a(r(1094)),o=a(r(1132));function a(e){return e&&e.__esModule?e:{default:e}}var u=n.default.extend(i.default,{model:o.default,mainIndex:"_id"});t.default=u},function(e,t,r){var n=r(36),i={countBy:r(1095),difference:r(487),drop:r(1096),each:r(296),every:r(1097),filter:r(307),find:r(215),forEach:r(296),groupBy:r(1100),includes:r(422),keyBy:r(1101),indexOf:r(1102),initial:r(1103),invoke:r(1104),invokeMap:r(1105),isEmpty:r(205),lastIndexOf:r(1106),map:r(1108),max:r(1109),min:r(1111),partition:r(491),reduce:r(1113),reduceRight:r(1114),reject:r(1119),sample:r(1120),shuffle:r(1122),some:r(465),sortBy:r(1125),tail:r(1130),take:r(1131),without:r(472)},o=[].slice,a={};i.each(["forEach","each","map","reduce","reduceRight","find","filter","reject","every","some","includes","invoke","invokeMap","max","min","take","initial","tail","drop","without","difference","indexOf","shuffle","lastIndexOf","isEmpty","sample","partition"],function(e){i[e]&&(a[e]=function(){var t=o.call(arguments);return t.unshift(this.models),i[e].apply(i,t)})});i.each(["groupBy","countBy","sortBy","keyBy"],function(e){i[e]&&(a[e]=function(t,r){var o=n(t)?t:function(e){return e.get?e.get(t):e[t]};return i[e](this.models,o,r)})}),a.where=function(e,t){return i.isEmpty(e)?t?void 0:[]:this[t?"find":"filter"](function(t){var r;for(var n in e)if(r=t.get?t.get(n):t[n],e[n]!==r)return!1;return!0})},a.findWhere=function(e){return this.where(e,!0)},a.pluck=function(e){return i.invokeMap(this.models,"get",e)},a.first=function(){return this.models[0]},a.last=function(){return this.models[this.models.length-1]},a.size=function(){return this.models.length},e.exports=a},function(e,t,r){var n=r(127),i=r(216),o=Object.prototype.hasOwnProperty,a=i(function(e,t,r){o.call(e,r)?++e[r]:n(e,r,1)});e.exports=a},function(e,t,r){var n=r(129),i=r(61);e.exports=function(e,t,r){var o=null==e?0:e.length;return o?(t=r||void 0===t?1:i(t),n(e,t<0?0:t,o)):[]}},function(e,t,r){var n=r(1098),i=r(1099),o=r(52),a=r(4),u=r(161);e.exports=function(e,t,r){var s=a(e)?n:i;return r&&u(e,t,r)&&(t=void 0),s(e,o(t,3))}},function(e,t){e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}},function(e,t,r){var n=r(93);e.exports=function(e,t){var r=!0;return n(e,function(e,n,i){return r=!!t(e,n,i)}),r}},function(e,t,r){var n=r(127),i=r(216),o=Object.prototype.hasOwnProperty,a=i(function(e,t,r){o.call(e,r)?e[r].push(t):n(e,r,[t])});e.exports=a},function(e,t,r){var n=r(127),i=r(216)(function(e,t,r){n(e,r,t)});e.exports=i},function(e,t,r){var n=r(284),i=r(61),o=Math.max;e.exports=function(e,t,r){var a=null==e?0:e.length;if(!a)return-1;var u=null==r?0:i(r);return u<0&&(u=o(a+u,0)),n(e,t,u)}},function(e,t,r){var n=r(129);e.exports=function(e){return null!=e&&e.length?n(e,0,-1):[]}},function(e,t,r){var n=r(494),i=r(26)(n);e.exports=i},function(e,t,r){var n=r(89),i=r(93),o=r(494),a=r(26),u=r(59),s=a(function(e,t,r){var a=-1,s="function"==typeof t,c=u(e)?Array(e.length):[];return i(e,function(e){c[++a]=s?n(t,e,r):o(e,t,r)}),c});e.exports=s},function(e,t,r){var n=r(285),i=r(404),o=r(1107),a=r(61),u=Math.max,s=Math.min;e.exports=function(e,t,r){var c=null==e?0:e.length;if(!c)return-1;var f=c;return void 0!==r&&(f=(f=a(r))<0?u(c+f,0):s(f,c-1)),t==t?o(e,t,f):n(e,i,f,!0)}},function(e,t){e.exports=function(e,t,r){for(var n=r+1;n--;)if(e[n]===t)return n;return n}},function(e,t,r){var n=r(108),i=r(52),o=r(495),a=r(4);e.exports=function(e,t){return(a(e)?n:o)(e,i(t,3))}},function(e,t,r){var n=r(496),i=r(1110),o=r(71);e.exports=function(e){return e&&e.length?n(e,o,i):void 0}},function(e,t){e.exports=function(e,t){return e>t}},function(e,t,r){var n=r(496),i=r(1112),o=r(71);e.exports=function(e){return e&&e.length?n(e,o,i):void 0}},function(e,t){e.exports=function(e,t){return e<t}},function(e,t,r){var n=r(489),i=r(93),o=r(52),a=r(497),u=r(4);e.exports=function(e,t,r){var s=u(e)?n:a,c=arguments.length<3;return s(e,o(t,4),r,c,i)}},function(e,t,r){var n=r(1115),i=r(1116),o=r(52),a=r(497),u=r(4);e.exports=function(e,t,r){var s=u(e)?n:a,c=arguments.length<3;return s(e,o(t,4),r,c,i)}},function(e,t){e.exports=function(e,t,r,n){var i=null==e?0:e.length;for(n&&i&&(r=e[--i]);i--;)r=t(r,e[i],i,e);return r}},function(e,t,r){var n=r(1117),i=r(428)(n,!0);e.exports=i},function(e,t,r){var n=r(1118),i=r(70);e.exports=function(e,t){return e&&n(e,t,i)}},function(e,t,r){var n=r(421)(!0);e.exports=n},function(e,t,r){var n=r(264),i=r(484),o=r(52),a=r(4),u=r(480);e.exports=function(e,t){return(a(e)?n:i)(e,u(o(t,3)))}},function(e,t,r){var n=r(498),i=r(1121),o=r(4);e.exports=function(e){return(o(e)?n:i)(e)}},function(e,t,r){var n=r(498),i=r(288);e.exports=function(e){return n(i(e))}},function(e,t,r){var n=r(1123),i=r(1124),o=r(4);e.exports=function(e){return(o(e)?n:i)(e)}},function(e,t,r){var n=r(152),i=r(500);e.exports=function(e){return i(n(e))}},function(e,t,r){var n=r(500),i=r(288);e.exports=function(e){return n(i(e))}},function(e,t,r){var n=r(154),i=r(1126),o=r(26),a=r(161),u=o(function(e,t){if(null==e)return[];var r=t.length;return r>1&&a(e,t[0],t[1])?t=[]:r>2&&a(t[0],t[1],t[2])&&(t=[t[0]]),i(e,n(t,1),[])});e.exports=u},function(e,t,r){var n=r(108),i=r(52),o=r(495),a=r(1127),u=r(111),s=r(1128),c=r(71);e.exports=function(e,t,r){var f=-1;t=n(t.length?t:[c],u(i));var l=o(e,function(e,r,i){return{criteria:n(t,function(t){return t(e)}),index:++f,value:e}});return a(l,function(e,t){return s(e,t,r)})}},function(e,t){e.exports=function(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}},function(e,t,r){var n=r(1129);e.exports=function(e,t,r){for(var i=-1,o=e.criteria,a=t.criteria,u=o.length,s=r.length;++i<u;){var c=n(o[i],a[i]);if(c)return i>=s?c:c*("desc"==r[i]?-1:1)}return e.index-t.index}},function(e,t,r){var n=r(128);e.exports=function(e,t){if(e!==t){var r=void 0!==e,i=null===e,o=e==e,a=n(e),u=void 0!==t,s=null===t,c=t==t,f=n(t);if(!s&&!f&&!a&&e>t||a&&u&&c&&!s&&!f||i&&u&&c||!r&&c||!o)return 1;if(!i&&!a&&!f&&e<t||f&&r&&o&&!i&&!a||s&&r&&o||!u&&o||!c)return-1}return 0}},function(e,t,r){var n=r(129);e.exports=function(e){var t=null==e?0:e.length;return t?n(e,1,t):[]}},function(e,t,r){var n=r(129),i=r(61);e.exports=function(e,t,r){return e&&e.length?(t=r||void 0===t?1:i(t),n(e,0,t<0?0:t)):[]}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(r(114)).default.extend({idAttribute:"_id",props:{_id:{required:!0,type:"string"},isSelf:{default:!1,type:"boolean"},isInitiator:{default:!1,required:!0,type:"boolean"},personId:{type:"string"},personUuid:{require:!0,type:"string"},state:{required:!0,type:"string",values:["notified","connected","declined","disconnected","waiting"]},audioMuted:{default:!1,type:"boolean"},videoMuted:{default:!1,type:"boolean"}}});t.default=n},function(e,t){},function(e,t,r){"use strict";var n=r(218).Buffer,i=r(1135);function o(e,t,r){e.copy(t,r)}e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r},e.prototype.concat=function(e){if(0===this.length)return n.alloc(0);if(1===this.length)return this.head.data;for(var t=n.allocUnsafe(e>>>0),r=this.head,i=0;r;)o(r.data,t,i),i+=r.data.length,r=r.next;return t},e}(),i&&i.inspect&&i.inspect.custom&&(e.exports.prototype[i.inspect.custom]=function(){var e=i.inspect({length:this.length});return this.constructor.name+" "+e})},function(e,t){},function(e,t,r){(function(e){var n=void 0!==e&&e||"undefined"!=typeof self&&self||window,i=Function.prototype.apply;function o(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new o(i.call(setTimeout,n,arguments),clearTimeout)},t.setInterval=function(){return new o(i.call(setInterval,n,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(n,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},r(1137),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,r(32))},function(e,t,r){(function(e,t){!function(e,r){"use strict";if(!e.setImmediate){var n,i=1,o={},a=!1,u=e.document,s=Object.getPrototypeOf&&Object.getPrototypeOf(e);s=s&&s.setTimeout?s:e,"[object process]"==={}.toString.call(e.process)?n=function(e){t.nextTick(function(){f(e)})}:function(){if(e.postMessage&&!e.importScripts){var t=!0,r=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=r,t}}()?function(){var t="setImmediate$"+Math.random()+"$",r=function(r){r.source===e&&"string"==typeof r.data&&0===r.data.indexOf(t)&&f(+r.data.slice(t.length))};e.addEventListener?e.addEventListener("message",r,!1):e.attachEvent("onmessage",r),n=function(r){e.postMessage(t+r,"*")}}():e.MessageChannel?function(){var e=new MessageChannel;e.port1.onmessage=function(e){f(e.data)},n=function(t){e.port2.postMessage(t)}}():u&&"onreadystatechange"in u.createElement("script")?function(){var e=u.documentElement;n=function(t){var r=u.createElement("script");r.onreadystatechange=function(){f(t),r.onreadystatechange=null,e.removeChild(r),r=null},e.appendChild(r)}}():n=function(e){setTimeout(f,0,e)},s.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),r=0;r<t.length;r++)t[r]=arguments[r+1];var a={callback:e,args:t};return o[i]=a,n(i),i++},s.clearImmediate=c}function c(e){delete o[e]}function f(e){if(a)setTimeout(f,0,e);else{var t=o[e];if(t){a=!0;try{!function(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(r,n)}}(t)}finally{c(e),a=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,r(32),r(23))},function(e,t,r){(function(t){function r(e){try{if(!t.localStorage)return!1}catch(e){return!1}var r=t.localStorage[e];return null!=r&&"true"===String(r).toLowerCase()}e.exports=function(e,t){if(r("noDeprecation"))return e;var n=!1;return function(){if(!n){if(r("throwDeprecation"))throw new Error(t);r("traceDeprecation")?console.trace(t):console.warn(t),n=!0}return e.apply(this,arguments)}}}).call(this,r(32))},function(e,t,r){"use strict";e.exports=o;var n=r(507),i=r(168);function o(e){if(!(this instanceof o))return new o(e);n.call(this,e)}i.inherits=r(113),i.inherits(o,n),o.prototype._transform=function(e,t,r){r(null,e)}},function(e,t,r){e.exports=r(313)},function(e,t,r){e.exports=r(116)},function(e,t,r){e.exports=r(312).Transform},function(e,t,r){e.exports=r(312).PassThrough},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=u(r(77)),i=u(r(24)),o=u(r(165)),a=u(r(308));function u(e){return e&&e.__esModule?e:{default:e}}
/*!
 * Copyright (c) 2015-2017 Cisco Systems, Inc. See LICENSE file.
 */var s=o.default.extend({model:a.default,mainIndex:"internalCallId",indexes:["correlationId"],initialize:function(){for(var e=this,t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];(0,i.default)(o.default.prototype.initialize,this,r),this.on("add",function(t){e.listenTo(t,"change:state",function(){t.config.enableExperimentalGroupCallingSupport?"inactive"===t.state&&e.remove(t):"disconnected"===t.status&&e.remove(t)})})},has:function(e){if(this.get(e.url+"_"+e.fullState.lastActive))return!0;if(e.replaces){var t=!0,r=!1,i=void 0;try{for(var o,a=(0,n.default)(e.replaces);!(t=(o=a.next()).done);t=!0){var u=o.value;if(this.get(u.locusUrl+"_"+u.lastActive))return!0}}catch(e){r=!0,i=e}finally{try{!t&&a.return&&a.return()}finally{if(r)throw i}}}return!1}});t.default=s},function(e,t,r){"use strict";(function(r,n){var i;!function(){var o="Fake/5.0 (FakeOS) AppleWebKit/123 (KHTML, like Gecko) Fake/12.3.4567.89 Fake/123.45";if(_="object"==typeof r&&"object"==typeof r.versions&&r.versions.node&&!r.browser){var a=r.versions.node.toString().replace("v","");o="Nodejs/"+a+" (NodeOS) AppleWebKit/"+a+" (KHTML, like Gecko) Nodejs/"+a+" Nodejs/"+a}!function(e){"undefined"==typeof window&&("undefined"==typeof window&&void 0!==n&&(n.navigator={userAgent:o,getUserMedia:function(){}},e.window=n),"undefined"==typeof location&&(e.location={protocol:"file:",href:"",hash:""}),"undefined"==typeof screen&&(e.screen={width:0,height:0}))}(void 0!==n?n:window);var u=window.navigator;void 0!==u?(void 0!==u.webkitGetUserMedia&&(u.getUserMedia=u.webkitGetUserMedia),void 0!==u.mozGetUserMedia&&(u.getUserMedia=u.mozGetUserMedia)):u={getUserMedia:function(){},userAgent:o};var s=!!/Android|webOS|iPhone|iPad|iPod|BB10|BlackBerry|IEMobile|Opera Mini|Mobile|mobile/i.test(u.userAgent||""),c=!(-1===u.userAgent.indexOf("Edge")||!u.msSaveOrOpenBlob&&!u.msSaveBlob),f=!!window.opera||u.userAgent.indexOf(" OPR/")>=0,l=void 0!==window.InstallTrigger,d=/^((?!chrome|android).)*safari/i.test(u.userAgent),p=!!window.chrome&&!f,h="undefined"!=typeof document&&!!document.documentMode&&!c;function v(e,t){var r=0,n=!1,i=window.setInterval(function(){e()&&(window.clearInterval(i),t(n)),r++>50&&(window.clearInterval(i),t(n=!0))},10)}var g={Android:function(){return u.userAgent.match(/Android/i)},BlackBerry:function(){return u.userAgent.match(/BlackBerry|BB10/i)},iOS:function(){return u.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return u.userAgent.match(/Opera Mini/i)},Windows:function(){return u.userAgent.match(/IEMobile/i)},any:function(){return g.Android()||g.BlackBerry()||g.iOS()||g.Opera()||g.Windows()},getOsName:function(){var e="Unknown OS";return g.Android()&&(e="Android"),g.BlackBerry()&&(e="BlackBerry"),g.iOS()&&(e="iOS"),g.Opera()&&(e="Opera Mini"),g.Windows()&&(e="Windows"),e}};var y="Unknown OS",m="Unknown OS Version";var b=function(){for(var e,t=u.appVersion,r=u.userAgent,n="-",i=[{s:"Windows 10",r:/(Windows 10.0|Windows NT 10.0)/},{s:"Windows 8.1",r:/(Windows 8.1|Windows NT 6.3)/},{s:"Windows 8",r:/(Windows 8|Windows NT 6.2)/},{s:"Windows 7",r:/(Windows 7|Windows NT 6.1)/},{s:"Windows Vista",r:/Windows NT 6.0/},{s:"Windows Server 2003",r:/Windows NT 5.2/},{s:"Windows XP",r:/(Windows NT 5.1|Windows XP)/},{s:"Windows 2000",r:/(Windows NT 5.0|Windows 2000)/},{s:"Windows ME",r:/(Win 9x 4.90|Windows ME)/},{s:"Windows 98",r:/(Windows 98|Win98)/},{s:"Windows 95",r:/(Windows 95|Win95|Windows_95)/},{s:"Windows NT 4.0",r:/(Windows NT 4.0|WinNT4.0|WinNT|Windows NT)/},{s:"Windows CE",r:/Windows CE/},{s:"Windows 3.11",r:/Win16/},{s:"Android",r:/Android/},{s:"Open BSD",r:/OpenBSD/},{s:"Sun OS",r:/SunOS/},{s:"Linux",r:/(Linux|X11)/},{s:"iOS",r:/(iPhone|iPad|iPod)/},{s:"Mac OS X",r:/Mac OS X/},{s:"Mac OS",r:/(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/},{s:"QNX",r:/QNX/},{s:"UNIX",r:/UNIX/},{s:"BeOS",r:/BeOS/},{s:"OS/2",r:/OS\/2/},{s:"Search Bot",r:/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask Jeeves\/Teoma|ia_archiver)/}],o=0;e=i[o];o++)if(e.r.test(r)){n=e.s;break}var a="-";switch(/Windows/.test(n)&&(/Windows (.*)/.test(n)&&(a=/Windows (.*)/.exec(n)[1]),n="Windows"),n){case"Mac OS X":/Mac OS X (10[\.\_\d]+)/.test(r)&&(a=/Mac OS X (10[\.\_\d]+)/.exec(r)[1]);break;case"Android":/Android ([\.\_\d]+)/.test(r)&&(a=/Android ([\.\_\d]+)/.exec(r)[1]);break;case"iOS":/OS (\d+)_(\d+)_?(\d+)?/.test(r)&&(a=(a=/OS (\d+)_(\d+)_?(\d+)?/.exec(t))[1]+"."+a[2]+"."+(0|a[3]))}return{osName:n,osVersion:a}}();b&&b.osName&&"-"!=b.osName?(y=b.osName,m=b.osVersion):g.any()&&"Android"==(y=g.getOsName())&&(m=function(e){var t=(e=(e||u.userAgent).toLowerCase()).match(/android\s([0-9\.]*)/);return!!t&&t[1]}());var _="object"==typeof r&&"object"==typeof r.versions&&r.versions.node;"Unknown OS"===y&&_&&(y="Nodejs",m=r.versions.node.toString().replace("v",""));var w=!1,S=!1;["captureStream","mozCaptureStream","webkitCaptureStream"].forEach(function(e){"undefined"!=typeof document&&"function"==typeof document.createElement&&(!w&&e in document.createElement("canvas")&&(w=!0),!S&&e in document.createElement("video")&&(S=!0))});var k=[],x=[],E=[],T=[];u.mediaDevices&&u.mediaDevices.enumerateDevices&&(u.enumerateDevices=function(e){var t=u.mediaDevices.enumerateDevices();t&&t.then?u.mediaDevices.enumerateDevices().then(e).catch(function(){e([])}):e([])});var O=!1;"undefined"!=typeof MediaStreamTrack&&"getSources"in MediaStreamTrack?O=!0:u.mediaDevices&&u.mediaDevices.enumerateDevices&&(O=!0);var P=!1,C=!1,M=!1,j=!1,R=!1;function A(e){if(O)if(!u.enumerateDevices&&window.MediaStreamTrack&&window.MediaStreamTrack.getSources&&(u.enumerateDevices=window.MediaStreamTrack.getSources.bind(window.MediaStreamTrack)),!u.enumerateDevices&&u.enumerateDevices&&(u.enumerateDevices=u.enumerateDevices.bind(u)),u.enumerateDevices){k=[],x=[],E=[],T=[],P=!1,C=!1,M=!1,j=!1,R=!1;var t={};u.enumerateDevices(function(r){r.forEach(function(e){var r={};for(var n in e)try{"function"!=typeof e[n]&&(r[n]=e[n])}catch(e){}t[r.deviceId+r.label+r.kind]||("audio"===r.kind&&(r.kind="audioinput"),"video"===r.kind&&(r.kind="videoinput"),r.deviceId||(r.deviceId=r.id),r.id||(r.id=r.deviceId),r.label?("videoinput"!==r.kind||R||(R=!0),"audioinput"!==r.kind||j||(j=!0)):(r.isCustomLabel=!0,"videoinput"===r.kind?r.label="Camera "+(T.length+1):"audioinput"===r.kind?r.label="Microphone "+(x.length+1):"audiooutput"===r.kind?r.label="Speaker "+(E.length+1):r.label="Please invoke getUserMedia once.",void 0!==I&&I.browser.isChrome&&I.browser.version>=46&&!/^(https:|chrome-extension:)$/g.test(location.protocol||"")&&"undefined"!=typeof document&&"string"==typeof document.domain&&document.domain.search&&-1===document.domain.search(/localhost|127.0./g)&&(r.label="HTTPs is required to get label of this "+r.kind+" device.")),"audioinput"===r.kind&&(P=!0,-1===x.indexOf(r)&&x.push(r)),"audiooutput"===r.kind&&(C=!0,-1===E.indexOf(r)&&E.push(r)),"videoinput"===r.kind&&(M=!0,-1===T.indexOf(r)&&T.push(r)),k.push(r),t[r.deviceId+r.label+r.kind]=r)}),void 0!==I&&(I.MediaDevices=k,I.hasMicrophone=P,I.hasSpeakers=C,I.hasWebcam=M,I.isWebsiteHasWebcamPermissions=R,I.isWebsiteHasMicrophonePermissions=j,I.audioInputDevices=x,I.audioOutputDevices=E,I.videoInputDevices=T),e&&e()})}else e&&e();else e&&e()}var I=window.DetectRTC||{};I.browser=function(){u.appVersion;var e,t,r,n=u.userAgent,i=u.appName,o=""+parseFloat(u.appVersion),a=parseInt(u.appVersion,10);if(f){i="Opera";try{a=(o=u.userAgent.split("OPR/")[1].split(" ")[0]).split(".")[0]}catch(e){o="0.0.0.0",a=0}}else h?((t=n.indexOf("rv:"))>0?o=n.substring(t+3):(t=n.indexOf("MSIE"),o=n.substring(t+5)),i="IE"):p?(t=n.indexOf("Chrome"),i="Chrome",o=n.substring(t+7)):d?(t=n.indexOf("Safari"),i="Safari",o=n.substring(t+7),-1!==(t=n.indexOf("Version"))&&(o=n.substring(t+8)),-1!==u.userAgent.indexOf("Version/")&&(o=u.userAgent.split("Version/")[1].split(" ")[0])):l?(t=n.indexOf("Firefox"),i="Firefox",o=n.substring(t+8)):(e=n.lastIndexOf(" ")+1)<(t=n.lastIndexOf("/"))&&(i=n.substring(e,t),o=n.substring(t+1),i.toLowerCase()===i.toUpperCase()&&(i=u.appName));return c&&(i="Edge",o=u.userAgent.split("Edge/")[1]),-1!==(r=o.search(/[; \)]/))&&(o=o.substring(0,r)),a=parseInt(""+o,10),isNaN(a)&&(o=""+parseFloat(u.appVersion),a=parseInt(u.appVersion,10)),{fullVersion:o,version:a,name:i,isPrivateBrowsing:!1}}(),function(e){var t;try{if(window.webkitRequestFileSystem)window.webkitRequestFileSystem(window.TEMPORARY,1,function(){t=!1},function(e){t=!0});else if(window.indexedDB&&/Firefox/.test(window.navigator.userAgent)){var r;try{(r=window.indexedDB.open("test")).onerror=function(){return!0}}catch(e){t=!0}void 0===t&&v(function(){return"done"===r.readyState},function(e){e||(t=!r.result)})}else if(function(e){var t=e.toLowerCase();if(0===t.indexOf("msie")&&0===t.indexOf("trident"))return!1;var r=/(?:msie|rv:)\s?([\d\.]+)/.exec(t);return!!(r&&parseInt(r[1],10)>=10)}(window.navigator.userAgent)){t=!1;try{window.indexedDB||(t=!0)}catch(e){t=!0}}else if(window.localStorage&&/Safari/.test(window.navigator.userAgent)){try{window.localStorage.setItem("test",1)}catch(e){t=!0}void 0===t&&(t=!1,window.localStorage.removeItem("test"))}}catch(e){t=!1}v(function(){return void 0!==t},function(r){e(t)})}(function(e){I.browser.isPrivateBrowsing=!!e}),I.browser["is"+I.browser.name]=!0,I.osName=y,I.osVersion=m;"object"==typeof r&&"object"==typeof r.versions&&r.versions["node-webkit"];var D=!1;["RTCPeerConnection","webkitRTCPeerConnection","mozRTCPeerConnection","RTCIceGatherer"].forEach(function(e){D||e in window&&(D=!0)}),I.isWebRTCSupported=D,I.isORTCSupported="undefined"!=typeof RTCIceGatherer;var L=!1;(I.browser.isChrome&&I.browser.version>=35?L=!0:I.browser.isFirefox&&I.browser.version>=34?L=!0:I.browser.isEdge&&I.browser.version>=17?L=!0:"Android"===I.osName&&I.browser.isChrome&&(L=!0),/^(https:|chrome-extension:)$/g.test(location.protocol||""))||("undefined"!=typeof document&&"string"==typeof document.domain&&document.domain.search&&-1===document.domain.search(/localhost|127.0./g)&&(I.browser.isChrome||I.browser.isEdge||I.browser.isOpera)?L=!1:I.browser.isFirefox&&(L=!1));I.isScreenCapturingSupported=L;var N={isSupported:!1,isCreateMediaStreamSourceSupported:!1};["AudioContext","webkitAudioContext","mozAudioContext","msAudioContext"].forEach(function(e){N.isSupported||e in window&&(N.isSupported=!0,window[e]&&"createMediaStreamSource"in window[e].prototype&&(N.isCreateMediaStreamSourceSupported=!0))}),I.isAudioContextSupported=N.isSupported,I.isCreateMediaStreamSourceSupported=N.isCreateMediaStreamSourceSupported;var F=!1;I.browser.isChrome&&I.browser.version>31&&(F=!0),I.isRtpDataChannelsSupported=F;var U=!1;I.browser.isFirefox&&I.browser.version>28?U=!0:I.browser.isChrome&&I.browser.version>25?U=!0:I.browser.isOpera&&I.browser.version>=11&&(U=!0),I.isSctpDataChannelsSupported=U,I.isMobileDevice=s;var z=!1;u.getUserMedia?z=!0:u.mediaDevices&&u.mediaDevices.getUserMedia&&(z=!0),I.browser.isChrome&&I.browser.version>=46&&!/^(https:|chrome-extension:)$/g.test(location.protocol||"")&&"undefined"!=typeof document&&"string"==typeof document.domain&&document.domain.search&&-1===document.domain.search(/localhost|127.0./g)&&(z="Requires HTTPs"),"Nodejs"===I.osName&&(z=!1),I.isGetUserMediaSupported=z;var q="";screen.width&&(q+=(screen.width?screen.width:"")+" x "+(screen.height?screen.height:""));I.displayResolution=q,I.displayAspectRatio=function(e,t){var r=function e(t,r){return 0==r?t:e(r,t%r)}(e,t);return e/r/(t/r)}(screen.width,screen.height).toFixed(2),I.isCanvasSupportsStreamCapturing=w,I.isVideoSupportsStreamCapturing=S,"Chrome"==I.browser.name&&I.browser.version>=53&&(I.isCanvasSupportsStreamCapturing||(I.isCanvasSupportsStreamCapturing="Requires chrome flag: enable-experimental-web-platform-features"),I.isVideoSupportsStreamCapturing||(I.isVideoSupportsStreamCapturing="Requires chrome flag: enable-experimental-web-platform-features")),I.DetectLocalIPAddress=function(e,t){I.isWebRTCSupported&&function(e,t){if("undefined"!=typeof document&&"function"==typeof document.getElementById){var r={},n=window.RTCPeerConnection||window.mozRTCPeerConnection||window.webkitRTCPeerConnection;if(!n){var i=document.getElementById("iframe");if(!i)return;var o=i.contentWindow;n=o.RTCPeerConnection||o.mozRTCPeerConnection||o.webkitRTCPeerConnection}if(n){var a=null;"Chrome"===I.browser&&I.browser.version<58&&(a={optional:[{RtpDataChannels:!0}]});var u=new n({iceServers:[{urls:"stun:stun.l.google.com:19302"}]},a);if(t&&(u.addStream?u.addStream(t):u.addTrack&&t.getTracks()[0]&&u.addTrack(t.getTracks()[0],t)),u.onicecandidate=function(e){e.candidate&&s(e.candidate.candidate)},!t)try{u.createDataChannel("sctp",{})}catch(e){}I.isPromisesSupported?u.createOffer().then(function(e){u.setLocalDescription(e).then(c)}):u.createOffer(function(e){u.setLocalDescription(e,c,function(){})},function(){})}}function s(t){var n=/([0-9]{1,3}(\.[0-9]{1,3}){3})/.exec(t);if(n){var i=n[1];void 0===r[i]&&e(i),r[i]=!0}}function c(){var e=u.localDescription.sdp.split("\n");e.forEach(function(e){0===e.indexOf("a=candidate:")&&s(e)})}}(function(t){t.match(/^(192\.168\.|169\.254\.|10\.|172\.(1[6-9]|2\d|3[01]))/)?e("Local: "+t):e("Public: "+t)},t)},I.isWebSocketsSupported="WebSocket"in window&&2===window.WebSocket.CLOSING,I.isWebSocketsBlocked=!I.isWebSocketsSupported,"Nodejs"===I.osName&&(I.isWebSocketsSupported=!0,I.isWebSocketsBlocked=!1),I.checkWebSocketsSupport=function(e){e=e||function(){};try{var t,r=new WebSocket("wss://echo.websocket.org:443/");r.onopen=function(){I.isWebSocketsBlocked=!1,t=(new Date).getTime(),r.send("ping")},r.onmessage=function(){I.WebsocketLatency=(new Date).getTime()-t+"ms",e(),r.close(),r=null},r.onerror=function(){I.isWebSocketsBlocked=!0,e()}}catch(t){I.isWebSocketsBlocked=!0,e()}},I.load=function(e){A(e=e||function(){})},I.MediaDevices=void 0!==k?k:[],I.hasMicrophone=P,I.hasSpeakers=C,I.hasWebcam=M,I.isWebsiteHasWebcamPermissions=R,I.isWebsiteHasMicrophonePermissions=j,I.audioInputDevices=x,I.audioOutputDevices=E,I.videoInputDevices=T;var B=!1;"undefined"!=typeof document&&"function"==typeof document.createElement&&"setSinkId"in document.createElement("video")&&(B=!0),I.isSetSinkIdSupported=B;var W=!1;I.browser.isFirefox&&"undefined"!=typeof mozRTCPeerConnection?"getSenders"in mozRTCPeerConnection.prototype&&(W=!0):I.browser.isChrome&&"undefined"!=typeof webkitRTCPeerConnection&&"getSenders"in webkitRTCPeerConnection.prototype&&(W=!0),I.isRTPSenderReplaceTracksSupported=W;var G=!1;I.browser.isFirefox&&I.browser.version>38&&(G=!0),I.isRemoteStreamProcessingSupported=G;var V=!1;"undefined"!=typeof MediaStreamTrack&&"applyConstraints"in MediaStreamTrack.prototype&&(V=!0),I.isApplyConstraintsSupported=V;var H=!1;I.browser.isFirefox&&I.browser.version>=43&&(H=!0),I.isMultiMonitorScreenCapturingSupported=H,I.isPromisesSupported=!!("Promise"in window),I.version="1.3.6",void 0===I&&(window.DetectRTC={});var J=window.MediaStream;void 0===J&&"undefined"!=typeof webkitMediaStream&&(J=webkitMediaStream),I.MediaStream=void 0!==J&&"function"==typeof J&&Object.keys(J.prototype),"undefined"!=typeof MediaStreamTrack?I.MediaStreamTrack=Object.keys(MediaStreamTrack.prototype):I.MediaStreamTrack=!1;var Y=window.RTCPeerConnection||window.mozRTCPeerConnection||window.webkitRTCPeerConnection;I.RTCPeerConnection=void 0!==Y&&Object.keys(Y.prototype),window.DetectRTC=I,e.exports=I,void 0===(i=function(){return I}.apply(t,[]))||(e.exports=i)}()}).call(this,r(23),r(32))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,i=c(r(49)),o=c(r(1)),a=r(2),u=r(13),s=c(r(1147));function c(e){return e&&e.__esModule?e:{default:e}}var f=a.SparkPlugin.extend((function(e,t,r,n,i){var o={};Object.keys(n).forEach(function(e){o[e]=n[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null)}(n={namespace:"People",children:{batcher:s.default},get:function(e){if(!e)return o.default.reject(new Error("A person with an id is required"));if("me"===e)return this._getMe();var t=e.personId||e.id||e;return this.batcher.request(t)},list:function(e){var t=this;if(Array.isArray(e)){var r=e;return o.default.all(r.map(function(e){return t.batcher.request(e)}))}return this.request({service:"hydra",resource:"people",qs:e}).then(function(e){return new a.Page(e,t.spark)})},inferPersonIdFromUuid:function(e){try{if(u.base64.decode(e).includes("ciscospark://"))return e}catch(e){}return u.base64.encode("ciscospark://us/PEOPLE/"+e)},_getMe:function(){return this.spark.request({service:"hydra",resource:"people/me"}).then(function(e){return e.body})},version:"1.43.5"},"_getMe",[u.oneFlight],(0,i.default)(n,"_getMe"),n),n));t.default=f},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(r(1));var i=r(2).Batcher.extend({namespace:"People",handleHttpSuccess:function(e){var t=this;return n.default.all(e.body.items.map(function(e){return t.handleItemSuccess(e.id,e)}))},handleItemFailure:function(e,t){return this.getDeferredForResponse(e).then(function(e){e.reject(t)})},handleItemSuccess:function(e,t){return this.getDeferredForResponse(e).then(function(e){e.resolve(t)})},fingerprintRequest:function(e){var t=this.spark.people.inferPersonIdFromUuid(e);return n.default.resolve(t)},fingerprintResponse:function(e){return n.default.resolve(e)},prepareRequest:function(e){return n.default.resolve(e.join())},submitHttpRequest:function(e){return this.spark.request({service:"hydra",resource:"people/?id="+e+"&showAllTypes="+this.config.showAllTypes})}});
/*!
     * Copyright (c) 2015-2017 Cisco Systems, Inc. See LICENSE file.
     */t.default=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),
/*!
 * Copyright (c) 2015-2017 Cisco Systems, Inc. See LICENSE file.
 */
t.default={people:{batcherWait:100,batcherMaxCalls:10,batcherMaxWait:1500,showAllTypes:!1}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),
/*!
 * Copyright (c) 2015-2017 Cisco Systems, Inc. See LICENSE file.
 */
t.default={phone:{audioBandwidthLimit:64e3,videoBandwidthLimit:1e6,enableExperimentalGroupCallingSupport:!1,hangupIfLastActive:{call:!0,meeting:!1}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.levels=t.default=void 0;var n=r(1151);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return u(n).default}}),Object.defineProperty(t,"levels",{enumerable:!0,get:function(){return n.levels}});var i=r(2),o=u(n),a=u(r(1155));function u(e){return e&&e.__esModule?e:{default:e}}(0,i.registerPlugin)("logger",o.default,{config:a.default,replace:!0})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.levels=void 0;var n=v(r(297)),i=v(r(30)),o=v(r(1152)),a=v(r(77)),u=v(r(134)),s=v(r(31)),c=v(r(115)),f=v(r(19)),l=v(r(4)),d=(v(r(92)),v(r(155))),p=r(13),h=r(2);function v(e){return e&&e.__esModule?e:{default:e}}
/*!
 * Copyright (c) 2015-2017 Cisco Systems, Inc. See LICENSE file.
 */var g={silent:0,error:1,warn:2,log:3,info:4,debug:5,trace:6},y=t.levels=(0,s.default)(g).filter(function(e){return"silent"!==e}),m={error:["log"],warn:["error","log"],info:["log"],debug:["info","log"],trace:["debug","info","log"]},b=/[Aa]uthorization/;function _(e){if((0,l.default)(e))return e.map(_);if(!(0,f.default)(e))return(0,c.default)(e)&&p.patterns.email.test(e)?"-- REDACTED --":e;var t=!0,r=!1,n=void 0;try{for(var s,d=(0,a.default)((0,o.default)(e));!(t=(s=d.next()).done);t=!0){var h=s.value,v=(0,u.default)(h,2),g=v[0],y=v[1];b.test(g)?(0,i.default)(e,g):e[g]=_(y)}}catch(e){r=!0,n=e}finally{try{!t&&d.return&&d.return()}finally{if(r)throw n}}return e}var w=h.SparkPlugin.extend({namespace:"Logger",derived:{level:{cache:!1,fn:function(){return this.getCurrentLevel()}}},session:{buffer:{type:"array",default:function(){return[]}}},filter:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.map(function(e){return e instanceof Error?e:_(e=(0,d.default)(e))})},shouldPrint:function(e){return g[e]<=g[this.getCurrentLevel()]},shouldBuffer:function(e){return g[e]<=g.info},getCurrentLevel:function(){if(this.config.level)return this.config.level;if(y.includes("log"))return"log";var e=this.spark.internal.device&&this.spark.internal.device.features.developer.get("log-level");return e&&y.includes(e)?e:"error"},version:"1.43.5"});y.forEach(function(e){var t=m[e],r=e;if(t)for(t=t.slice();!console[r];)r=t.pop();w.prototype[e]=function(){try{var t=this.shouldPrint(e),i=this.shouldBuffer(e);if(!i&&!t)return;var o=this.filter.apply(this,arguments),a=o.map(function(e){return e instanceof h.SparkHttpError?e.toString():e});if(t){var u,s=p.inBrowser?a:o;0,(u=console)[r].apply(u,(0,n.default)(s))}i&&(a.unshift(Date.now()),this.buffer.push(a),this.buffer.length>this.config.historyLength&&this.buffer.shift())}catch(t){console.warn("failed to execute Logger#"+e,t)}}}),t.default=w},function(e,t,r){e.exports={default:r(1153),__esModule:!0}},function(e,t,r){r(1154),e.exports=r(7).Object.entries},function(e,t,r){var n=r(18),i=r(437)(!0);n(n.S,"Object",{entries:function(e){return i(e)}})},function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),
/*!
 * Copyright (c) 2015-2017 Cisco Systems, Inc. See LICENSE file.
 */
t.default={logger:{level:e.env.LOGGER_LEVEL,historyLength:1e3}}}).call(this,r(23))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(2),i=function(e){return e&&e.__esModule?e:{default:e}}
/*!
 * Copyright (c) 2015-2017 Cisco Systems, Inc. See LICENSE file.
 */(r(1157));(0,n.registerPlugin)("messages",i.default),t.default=i.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=u(r(430)),i=u(r(30)),o=u(r(4)),a=r(2);function u(e){return e&&e.__esModule?e:{default:e}}var s=a.SparkPlugin.extend({create:function(e){var t="body";e.file&&(this.logger.warn("Supplying a single `file` property is deprecated; please supply a `files` array"),e.files=[e.file],(0,i.default)(e,"file")),(0,o.default)(e.files)&&e.files.reduce(function(e,t){return e||"string"!=typeof t},!1)&&(t="formData");var r=(0,n.default)({method:"POST",service:"hydra",resource:"messages"},t,e);return this.request(r).then(function(e){return e.body})},get:function(e){var t=e.id||e;return this.request({service:"hydra",resource:"messages/"+t}).then(function(e){return e.body.items||e.body})},list:function(e){var t=this;return this.request({service:"hydra",resource:"messages",qs:e}).then(function(e){return new a.Page(e,t.spark)})},remove:function(e){var t=e.id||e;return this.request({method:"DELETE",service:"hydra",resource:"messages/"+t}).then(function(e){if(204!==e.statusCode)return e.body})},version:"1.43.5"});
/*!
     * Copyright (c) 2015-2017 Cisco Systems, Inc. See LICENSE file.
     */t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(2),i=function(e){return e&&e.__esModule?e:{default:e}}
/*!
 * Copyright (c) 2015-2017 Cisco Systems, Inc. See LICENSE file.
 */(r(1159));(0,n.registerPlugin)("memberships",i.default),t.default=i.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(2),i=n.SparkPlugin.extend({create:function(e){return this.request({method:"POST",service:"hydra",resource:"memberships",body:e}).then(function(e){return e.body})},get:function(e){var t=e.id||e;return this.request({service:"hydra",resource:"memberships/"+t}).then(function(e){return e.body.items||e.body})},list:function(e){var t=this;return this.request({service:"hydra",resource:"memberships",qs:e}).then(function(e){return new n.Page(e,t.spark)})},remove:function(e){var t=e.id||e;return this.request({method:"DELETE",service:"hydra",resource:"memberships/"+t}).then(function(e){if(204!==e.statusCode)return e.body})},update:function(e){var t=e.id||e;return this.request({method:"PUT",service:"hydra",resource:"memberships/"+t,body:e}).then(function(e){return e.body})},version:"1.43.5"});
/*!
     * Copyright (c) 2015-2017 Cisco Systems, Inc. See LICENSE file.
     */
t.default=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(2),i=function(e){return e&&e.__esModule?e:{default:e}}
/*!
 * Copyright (c) 2015-2017 Cisco Systems, Inc. See LICENSE file.
 */(r(1161));(0,n.registerPlugin)("rooms",i.default),t.default=i.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(2),i=n.SparkPlugin.extend({create:function(e){return this.request({method:"POST",service:"hydra",resource:"rooms",body:e}).then(function(e){return e.body})},get:function(e,t){var r=e.id||e;return this.request({service:"hydra",resource:"rooms/"+r,qs:t}).then(function(e){return e.body.items||e.body})},list:function(e){var t=this;return this.request({service:"hydra",resource:"rooms/",qs:e}).then(function(e){return new n.Page(e,t.spark)})},remove:function(e){var t=e.id||e;return this.request({method:"DELETE",service:"hydra",resource:"rooms/"+t}).then(function(e){if(204!==e.statusCode)return e.body})},update:function(e){var t=e.id;return this.request({method:"PUT",service:"hydra",resource:"rooms/"+t,body:e}).then(function(e){return e.body})},version:"1.43.5"});
/*!
     * Copyright (c) 2015-2017 Cisco Systems, Inc. See LICENSE file.
     */
t.default=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(2),i=function(e){return e&&e.__esModule?e:{default:e}}
/*!
 * Copyright (c) 2015-2017 Cisco Systems, Inc. See LICENSE file.
 */(r(1163));(0,n.registerPlugin)("teams",i.default),t.default=i.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(2),i=n.SparkPlugin.extend({create:function(e){return this.request({method:"POST",service:"hydra",resource:"teams",body:e}).then(function(e){return e.body})},get:function(e,t){var r=e.id||e;return this.request({service:"hydra",resource:"teams/"+r,qs:t}).then(function(e){return e.body.items||e.body})},list:function(e){var t=this;return this.request({service:"hydra",resource:"teams/",qs:e}).then(function(e){return new n.Page(e,t.spark)})},update:function(e){var t=e.id;return this.request({method:"PUT",service:"hydra",resource:"teams/"+t,body:e}).then(function(e){return e.body})},version:"1.43.5"});
/*!
     * Copyright (c) 2015-2017 Cisco Systems, Inc. See LICENSE file.
     */
t.default=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(2),i=function(e){return e&&e.__esModule?e:{default:e}}
/*!
 * Copyright (c) 2015-2017 Cisco Systems, Inc. See LICENSE file.
 */(r(1165));(0,n.registerPlugin)("teamMemberships",i.default),t.default=i.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(2),i=n.SparkPlugin.extend({create:function(e){return this.request({method:"POST",service:"hydra",resource:"team/memberships",body:e}).then(function(e){return e.body})},get:function(e){var t=e.id||e;return this.request({service:"hydra",resource:"team/memberships/"+t}).then(function(e){return e.body.items||e.body})},list:function(e){var t=this;return this.request({service:"hydra",resource:"team/memberships",qs:e}).then(function(e){return new n.Page(e,t.spark)})},remove:function(e){var t=e.id||e;return this.request({method:"DELETE",service:"hydra",resource:"team/memberships/"+t}).then(function(e){if(204!==e.statusCode)return e.body})},update:function(e){var t=e.id||e;return this.request({method:"PUT",service:"hydra",resource:"team/memberships/"+t,body:e}).then(function(e){return e.body})},version:"1.43.5"});
/*!
     * Copyright (c) 2015-2017 Cisco Systems, Inc. See LICENSE file.
     */
t.default=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(2),i=function(e){return e&&e.__esModule?e:{default:e}}
/*!
 * Copyright (c) 2015-2017 Cisco Systems, Inc. See LICENSE file.
 */(r(1167));(0,n.registerPlugin)("webhooks",i.default),t.default=i.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(2),i=n.SparkPlugin.extend({create:function(e){return this.request({method:"POST",service:"hydra",resource:"webhooks",body:e}).then(function(e){return e.body})},get:function(e){var t=e.id||e;return this.request({service:"hydra",resource:"webhooks/"+t}).then(function(e){return e.body.items||e.body})},list:function(e){var t=this;return this.request({service:"hydra",resource:"webhooks/",qs:e}).then(function(e){return new n.Page(e,t.spark)})},remove:function(e){var t=e.id||e;return this.request({method:"DELETE",service:"hydra",resource:"webhooks/"+t}).then(function(e){if(204!==e.statusCode)return e.body})},update:function(e){var t=e.id;return this.request({method:"PUT",service:"hydra",resource:"webhooks/"+t,body:e}).then(function(e){return e.body})},version:"1.43.5"});
/*!
     * Copyright (c) 2015-2017 Cisco Systems, Inc. See LICENSE file.
     */
t.default=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(r(1169));t.default={hydraServiceUrl:"https://api.ciscospark.com/v1",credentials:{clientType:"confidential"},device:{ephemeral:!0},storage:n.default}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(2),i=function(e){return e&&e.__esModule?e:{default:e}}
/*!
 * Copyright (c) 2015-2017 Cisco Systems, Inc. See LICENSE file.
 */(r(1170));t.default={boundedAdapter:new i.default("ciscospark"),unboundedAdapter:n.MemoryStoreAdapter}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=f(r(30)),i=f(r(1)),o=f(r(106)),a=f(r(8)),u=f(r(11)),s=f(r(44)),c=r(2);function f(e){return e&&e.__esModule?e:{default:e}}var l=new s.default,d=new s.default,p=function(){function e(t){(0,a.default)(this,e),this.Bound=function(){function e(t,r){(0,a.default)(this,e),l.set(this,t),d.set(this,r.logger)}return(0,u.default)(e,[{key:"_getRawData",value:function(){var e=localStorage.getItem(t);return e?JSON.parse(e):{}}},{key:"_load",value:function(){return this._getRawData()[l.get(this)]||{}}},{key:"_save",value:function(e){var r=this._getRawData();r[l.get(this)]=e,localStorage.setItem(t,(0,o.default)(r))}},{key:"clear",value:function(){return d.get(this).info("local-storage-store-adapter: clearing localStorage"),i.default.resolve(localStorage.removeItem(t))}},{key:"del",value:function(e){var t=this;return new i.default(function(r){d.get(t).info("local-storage-store-adapter: deleting `"+e+"`");var i=t._load();(0,n.default)(i,e),t._save(i),r()})}},{key:"get",value:function(e){var t=this;return new i.default(function(r,n){d.get(t).info("local-storage-store-adapter: reading `"+e+"`");var i=t._load()[e];return void 0!==i?r(i):n(new c.NotFoundError("No value found for "+e))})}},{key:"put",value:function(e,t){var r=this;return new i.default(function(n){d.get(r).info("local-storage-store-adapter: writing `"+e+"`");var i=r._load();i[e]=t,r._save(i),n()})}}]),e}()}return(0,u.default)(e,[{key:"bind",value:function(e,t){return t=t||{},e?t.logger?(t.logger.info("local-storage-store-adapter: returning binding"),i.default.resolve(new this.Bound(e,t))):i.default.reject(new Error("`options.logger` is required")):i.default.reject(new Error("`namespace` is required"))}}]),e}();
/*!
                                           * Copyright (c) 2015-2017 Cisco Systems, Inc. See LICENSE file.
                                           */t.default=p}]);
//# sourceMappingURL=bundle.js.map